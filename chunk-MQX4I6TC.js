import{$ as Wn,$a as $c,A as tn,Aa as cs,Ab as xh,Ac as En,B as Lc,Ba as Yv,Bb as Wo,Bc as v_,C as ui,Ca as Jv,Cb as Gc,Cc as __,D as ss,Da as Xv,Db as qc,Dc as b_,E as Fc,Ea as Zv,Eb as Ko,Ec as se,F as Tr,Fa as e_,Fb as c_,Fc as Vh,G as Ih,Ga as t_,Gb as u_,Gc as Uh,H as zv,Ha as n_,Hb as Wt,Hc as E_,I as qt,Ia as hi,Ib as Ze,J as Vc,Jb as xt,K as Tt,Kb as xe,L as W,La as r_,Lb as Lt,M as li,Mb as At,N as $o,Nb as ls,O as F,Oa as ze,Ob as l_,P as Ie,Pa as fi,Pb as Kt,Q as Hv,Qa as i_,Qb as Qt,R as $,Ra as Bc,Rb as d_,S as K,Sa as Rh,T as P,Ta as Ph,Tb as h_,U as Cr,Ua as zo,V as Gv,Va as s_,Vb as f_,W as _n,Wa as St,Wb as mi,X as Ct,Xa as z,Xb as Wc,Y as Gn,Ya as o_,Yb as $e,Z as qn,Za as us,Zb as Kc,_ as os,_a as a_,_b as Qc,a as A,aa as ve,ab as Be,b as ne,ba as as,bb as Te,ca as qv,cb as Q,d as is,da as pe,db as Nh,ea as nn,eb as _t,ec as Se,fa as Th,fb as re,fc as p_,g as Fv,ga as jo,gb as rn,gc as Yc,h as Vv,hb as Oh,hc as Lh,i as Uo,ia as le,ib as Ho,j as Je,jb as Go,k as Gt,ka as Wv,kb as Mh,l as Hn,la as De,lb as jc,m as ft,ma as Xe,mb as bt,n as Z,na as kt,o as Uv,oa as ee,p as Eh,pa as Ch,pb as zc,q as Bv,qa as pt,qb as Hc,ra as Kv,rc as g_,sa as Sh,sc as m_,t as Me,ta as Qv,tc as _e,u as wh,ua as bn,uc as y_,v as vn,vb as Ce,vc as ut,w as Bo,wa as Ah,wb as pi,wc as x,x as $v,xa as Dh,xb as qo,y as xc,ya as Uc,yb as gi,yc as Fh,z as jv,za as di,zb as kh}from"./chunk-ZVXIGZDY.js";var w_=null;function Yt(){return w_}function Bh(n){w_??=n}var Qo=class{},Sr=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>P(I_),providedIn:"platform"})}return n})(),$h=new $(""),I_=(()=>{class n extends Sr{_location;_history;_doc=P(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(e){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Jc(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function T_(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function sn(n){return n&&n[0]!=="?"?`?${n}`:n}var on=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>P(Zc),providedIn:"root"})}return n})(),Xc=new $(""),Zc=(()=>{class n extends on{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Jc(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+sn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+sn(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+sn(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(K(Sr),K(Xc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ar=(()=>{class n{_subject=new Je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=FS(T_(C_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+sn(r))}normalize(e){return n.stripTrailingSlash(LS(this._basePath,C_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=sn;static joinWithSlash=Jc;static stripTrailingSlash=T_;static \u0275fac=function(r){return new(r||n)(K(on))};static \u0275prov=F({token:n,factory:()=>xS(),providedIn:"root"})}return n})();function xS(){return new Ar(K(on))}function LS(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function C_(n){return n.replace(/\/index.html$/,"")}function FS(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var qh=(()=>{class n extends on{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Jc(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+sn(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+sn(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(K(Sr),K(Xc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var gt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(gt||{}),Ee=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ee||{}),Dt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Dt||{}),Qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function P_(n){return Wt(n)[Ze.LocaleId]}function N_(n,t,e){let r=Wt(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],s=Jt(i,t);return Jt(s,e)}function O_(n,t,e){let r=Wt(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],s=Jt(i,t);return Jt(s,e)}function M_(n,t,e){let r=Wt(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],s=Jt(i,t);return Jt(s,e)}function k_(n,t){let r=Wt(n)[Ze.Eras];return Jt(r,t)}function Yo(n,t){let e=Wt(n);return Jt(e[Ze.DateFormat],t)}function Jo(n,t){let e=Wt(n);return Jt(e[Ze.TimeFormat],t)}function Xo(n,t){let r=Wt(n)[Ze.DateTimeFormat];return Jt(r,t)}function Zo(n,t){let e=Wt(n),r=e[Ze.NumberSymbols][t];if(typeof r>"u"){if(t===Qn.CurrencyDecimal)return e[Ze.NumberSymbols][Qn.Decimal];if(t===Qn.CurrencyGroup)return e[Ze.NumberSymbols][Qn.Group]}return r}function x_(n){if(!n[Ze.ExtraData])throw new W(2303,!1)}function L_(n){let t=Wt(n);return x_(t),(t[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?jh(r):[jh(r[0]),jh(r[1])])}function F_(n,t,e){let r=Wt(n);x_(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],s=Jt(i,t)||[];return Jt(s,e)||[]}function Jt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new W(2304,!1)}function jh(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var VS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,eu={},US=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function V_(n,t,e,r){let i=KS(n);t=Kn(e,t)||t;let o=[],c;for(;t;)if(c=US.exec(t),c){o=o.concat(c.slice(1));let h=o.pop();if(!h)break;t=h}else{o.push(t);break}let u=i.getTimezoneOffset();r&&(u=B_(r,u),i=WS(i,r));let l="";return o.forEach(h=>{let p=GS(h);l+=p?p(i,e,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function su(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Kn(n,t){let e=P_(n);if(eu[e]??={},eu[e][t])return eu[e][t];let r="";switch(t){case"shortDate":r=Yo(n,Dt.Short);break;case"mediumDate":r=Yo(n,Dt.Medium);break;case"longDate":r=Yo(n,Dt.Long);break;case"fullDate":r=Yo(n,Dt.Full);break;case"shortTime":r=Jo(n,Dt.Short);break;case"mediumTime":r=Jo(n,Dt.Medium);break;case"longTime":r=Jo(n,Dt.Long);break;case"fullTime":r=Jo(n,Dt.Full);break;case"short":let i=Kn(n,"shortTime"),s=Kn(n,"shortDate");r=tu(Xo(n,Dt.Short),[i,s]);break;case"medium":let o=Kn(n,"mediumTime"),c=Kn(n,"mediumDate");r=tu(Xo(n,Dt.Medium),[o,c]);break;case"long":let u=Kn(n,"longTime"),l=Kn(n,"longDate");r=tu(Xo(n,Dt.Long),[u,l]);break;case"full":let h=Kn(n,"fullTime"),p=Kn(n,"fullDate");r=tu(Xo(n,Dt.Full),[h,p]);break}return r&&(eu[e][t]=r),r}function tu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function an(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function BS(n,t){return an(n,3).substring(0,t)}function He(n,t,e=0,r=!1,i=!1){return function(s,o){let c=$S(n,s);if((e>0||c>-e)&&(c+=e),n===3)c===0&&e===-12&&(c=12);else if(n===6)return BS(c,t);let u=Zo(o,Qn.MinusSign);return an(c,t,u,r,i)}}function $S(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new W(2301,!1)}}function Re(n,t,e=gt.Format,r=!1){return function(i,s){return jS(i,s,n,t,e,r)}}function jS(n,t,e,r,i,s){switch(e){case 2:return M_(t,i,r)[n.getMonth()];case 1:return O_(t,i,r)[n.getDay()];case 0:let o=n.getHours(),c=n.getMinutes();if(s){let l=L_(t),h=F_(t,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,D]=m,N=o>=v.hours&&c>=v.minutes,S=o<D.hours||o===D.hours&&c<D.minutes;if(v.hours<D.hours){if(N&&S)return!0}else if(N||S)return!0}else if(m.hours===o&&m.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return N_(t,i,r)[o<12?0:1];case 3:return k_(t,r)[n.getFullYear()<=0?0:1];default:let u=e;throw new W(2302,!1)}}function nu(n){return function(t,e,r){let i=-1*r,s=Zo(e,Qn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+an(o,2,s)+an(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+an(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+an(o,2,s)+":"+an(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+an(o,2,s)+":"+an(Math.abs(i%60),2,s);default:throw new W(2310,!1)}}}var zS=0,iu=4;function HS(n){let t=su(n,zS,1).getDay();return su(n,0,1+(t<=iu?iu:iu+7)-t)}function U_(n){let t=n.getDay(),e=t===0?-3:iu-t;return su(n.getFullYear(),n.getMonth(),n.getDate()+e)}function zh(n,t=!1){return function(e,r){let i;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{let s=U_(e),o=HS(s.getFullYear()),c=s.getTime()-o.getTime();i=1+Math.round(c/6048e5)}return an(i,n,Zo(r,Qn.MinusSign))}}function ru(n,t=!1){return function(e,r){let s=U_(e).getFullYear();return an(s,n,Zo(r,Qn.MinusSign),t)}}var Hh={};function GS(n){if(Hh[n])return Hh[n];let t;switch(n){case"G":case"GG":case"GGG":t=Re(3,Ee.Abbreviated);break;case"GGGG":t=Re(3,Ee.Wide);break;case"GGGGG":t=Re(3,Ee.Narrow);break;case"y":t=He(0,1,0,!1,!0);break;case"yy":t=He(0,2,0,!0,!0);break;case"yyy":t=He(0,3,0,!1,!0);break;case"yyyy":t=He(0,4,0,!1,!0);break;case"Y":t=ru(1);break;case"YY":t=ru(2,!0);break;case"YYY":t=ru(3);break;case"YYYY":t=ru(4);break;case"M":case"L":t=He(1,1,1);break;case"MM":case"LL":t=He(1,2,1);break;case"MMM":t=Re(2,Ee.Abbreviated);break;case"MMMM":t=Re(2,Ee.Wide);break;case"MMMMM":t=Re(2,Ee.Narrow);break;case"LLL":t=Re(2,Ee.Abbreviated,gt.Standalone);break;case"LLLL":t=Re(2,Ee.Wide,gt.Standalone);break;case"LLLLL":t=Re(2,Ee.Narrow,gt.Standalone);break;case"w":t=zh(1);break;case"ww":t=zh(2);break;case"W":t=zh(1,!0);break;case"d":t=He(2,1);break;case"dd":t=He(2,2);break;case"c":case"cc":t=He(7,1);break;case"ccc":t=Re(1,Ee.Abbreviated,gt.Standalone);break;case"cccc":t=Re(1,Ee.Wide,gt.Standalone);break;case"ccccc":t=Re(1,Ee.Narrow,gt.Standalone);break;case"cccccc":t=Re(1,Ee.Short,gt.Standalone);break;case"E":case"EE":case"EEE":t=Re(1,Ee.Abbreviated);break;case"EEEE":t=Re(1,Ee.Wide);break;case"EEEEE":t=Re(1,Ee.Narrow);break;case"EEEEEE":t=Re(1,Ee.Short);break;case"a":case"aa":case"aaa":t=Re(0,Ee.Abbreviated);break;case"aaaa":t=Re(0,Ee.Wide);break;case"aaaaa":t=Re(0,Ee.Narrow);break;case"b":case"bb":case"bbb":t=Re(0,Ee.Abbreviated,gt.Standalone,!0);break;case"bbbb":t=Re(0,Ee.Wide,gt.Standalone,!0);break;case"bbbbb":t=Re(0,Ee.Narrow,gt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Re(0,Ee.Abbreviated,gt.Format,!0);break;case"BBBB":t=Re(0,Ee.Wide,gt.Format,!0);break;case"BBBBB":t=Re(0,Ee.Narrow,gt.Format,!0);break;case"h":t=He(3,1,-12);break;case"hh":t=He(3,2,-12);break;case"H":t=He(3,1);break;case"HH":t=He(3,2);break;case"m":t=He(4,1);break;case"mm":t=He(4,2);break;case"s":t=He(5,1);break;case"ss":t=He(5,2);break;case"S":t=He(6,1);break;case"SS":t=He(6,2);break;case"SSS":t=He(6,3);break;case"Z":case"ZZ":case"ZZZ":t=nu(0);break;case"ZZZZZ":t=nu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=nu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=nu(2);break;default:return null}return Hh[n]=t,t}function B_(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function qS(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function WS(n,t,e){let i=n.getTimezoneOffset(),s=B_(t,i);return qS(n,-1*(s-i))}function KS(n){if(S_(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(c=>+c);return su(i,s-1,o)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(VS))return QS(r)}let t=new Date(n);if(!S_(t))throw new W(2311,!1);return t}function QS(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-e,c=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(t,o,c,u,l),t}function S_(n){return n instanceof Date&&!isNaN(n.valueOf())}var Gh=/\s+/,A_=[],YS=(()=>{class n{_ngEl;_renderer;initialClasses=A_;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Gh):A_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Gh):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Gh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(z(pt),z(St))};static \u0275dir=Q({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ou=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$_=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ou(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),D_(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);D_(s,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(z(us),z(zo),z(v_))};static \u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function D_(n,t){n.context.$implicit=t.item}var ea=(()=>{class n{_viewContainer;_context=new au;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){R_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){R_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(z(us),z(zo))};static \u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),au=class{$implicit=null;ngIf=null};function R_(n,t){if(n&&!n.createEmbeddedView)throw new W(2020,!1)}var Wh=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,s]=e.split("."),o=i.indexOf("-")===-1?void 0:fi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(z(pt),z(__),z(St))};static \u0275dir=Q({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),ta=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(z(us))};static \u0275dir=Q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[kt]})}return n})();function JS(n,t){return new W(2100,!1)}var XS="mediumDate",j_=new $(""),z_=new $(""),ZS=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,s){if(e==null||e===""||e!==e)return null;try{let o=r??this.defaultOptions?.dateFormat??XS,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return V_(e,o,s||this.locale,c)}catch(o){throw JS(n,o.message)}}static \u0275fac=function(r){return new(r||n)(z(m_,16),z(j_,24),z(z_,24))};static \u0275pipe=Nh({name:"date",type:n,pure:!0})}return n})();var eA=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Nh({name:"json",type:n,pure:!1})}return n})();var Et=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({})}return n})();function na(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,s]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var yi=class{};var Qh="browser",nA="server";function Dr(n){return n===Qh}function Yh(n){return n===nA}var G_=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new Kh(P(ve),window)})}return n})(),Kh=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(ne(A({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=rA(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(li(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(ne(A({},e),{left:i-o[0],top:s-o[1]}))}};function rA(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}var ra=class{_doc;constructor(t){this._doc=t}manager},cu=(()=>{class n extends ra{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(K(ve))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),du=new $(""),tf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this});let i=e.filter(o=>!(o instanceof cu));this._plugins=i.slice().reverse();let s=e.find(o=>o instanceof cu);s&&this._plugins.push(s)}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(K(du),K(nn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Xh="ng-app-id";function q_(n){for(let t of n)t.remove()}function W_(n,t){let e=t.createElement("style");return e.textContent=n,e}function iA(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Xh}="${t}"],link[${Xh}="${t}"]`);if(i)for(let s of i)s.removeAttribute(Xh),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function ef(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var nf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,iA(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,W_);r?.forEach(i=>this.addUsage(i,this.external,ef))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(q_(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])q_(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,W_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,ef(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(ve),K(Sh),K(Ah,8),K(bn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Zh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rf=/%COMP%/g;var Q_="%COMP%",sA=`_nghost-${Q_}`,oA=`_ngcontent-${Q_}`,aA=!0,cA=new $("",{factory:()=>aA});function uA(n){return oA.replace(rf,n)}function lA(n){return sA.replace(rf,n)}function Y_(n,t){return t.map(e=>e.replace(rf,n))}var sf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,r,i,s,o,c,u=null,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=c,this.nonce=u,this.tracingService=l,this.defaultRenderer=new ia(e,o,c,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof lu?i.applyToHost(e):i instanceof sa&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case Uc.Emulated:s=new lu(u,l,r,this.appId,h,o,c,p);break;case Uc.ShadowDom:return new uu(u,e,r,o,c,this.nonce,p,l);case Uc.ExperimentalIsolatedShadowDom:return new uu(u,e,r,o,c,this.nonce,p);default:s=new sa(u,l,r,h,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(K(tf),K(nf),K(Sh),K(cA),K(ve),K(nn),K(Ah),K(Bc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),ia=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Zh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(K_(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(K_(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new W(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=Zh[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Zh[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(fi.DashCase|fi.Important)?t.style.setProperty(e,r,i&fi.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&fi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Yt().getGlobalEventTarget(this.doc,t),!t))throw new W(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function K_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var uu=class extends ia{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,r,i,s,o,c,u){super(t,i,s,c),this.hostEl=e,this.sharedStylesHost=u,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Y_(r.id,l);for(let p of l){let m=document.createElement("style");o&&m.setAttribute("nonce",o),m.textContent=p,this.shadowRoot.appendChild(m)}let h=r.getExternalStyles?.();if(h)for(let p of h){let m=ef(p,i);o&&m.setAttribute("nonce",o),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,c,u){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?Y_(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&i_.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},lu=class extends sa{contentAttr;hostAttr;constructor(t,e,r,i,s,o,c,u){let l=i+"-"+r.id;super(t,e,r,s,o,c,u,l),this.contentAttr=uA(l),this.hostAttr=lA(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var hu=class n extends Qo{supportsDOMEvents=!0;static makeCurrent(){Bh(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=hA();return e==null?null:fA(e)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return na(document.cookie,t)}},oa=null;function hA(){return oa=oa||document.head.querySelector("base"),oa?oa.getAttribute("href"):null}function fA(n){return new URL(n,document.baseURI).pathname}var pA=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),J_=["alt","control","meta","shift"],gA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},X_=(()=>{class n extends ra{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(e,o.domEventName,c,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),J_.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let i=gA[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),J_.forEach(o=>{if(o!==i){let c=mA[o];c(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(K(ve))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function yA(n,t,e){let r=A({rootComponent:n,platformRef:e?.platformRef},vA(t));return b_(r)}function vA(n){return{appProviders:[...IA,...n?.providers??[]],platformProviders:wA}}function _A(){hu.makeCurrent()}function bA(){return new Th}function EA(){return Kv(document),document}var wA=[{provide:bn,useValue:Qh},{provide:Qv,useValue:_A,multi:!0},{provide:ve,useFactory:EA}];var IA=[{provide:Gv,useValue:"root"},{provide:Th,useFactory:bA},{provide:du,useClass:cu,multi:!0},{provide:du,useClass:X_,multi:!0},sf,nf,tf,{provide:s_,useExisting:sf},{provide:yi,useClass:pA},[]];var In=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var gu=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},mu=class{encodeKey(t){return Z_(t)}encodeValue(t){return Z_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function TA(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}var CA=/%(\d[a-f0-9])/gi,SA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z_(n){return encodeURIComponent(n).replace(CA,(t,e)=>SA[e]??t)}function fu(n){return`${n}`}var Yn=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new mu,t.fromString){if(t.fromObject)throw new W(2805,!1);this.map=TA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(fu):[fu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(fu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(fu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function AA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tb(n){return typeof Blob<"u"&&n instanceof Blob}function nb(n){return typeof FormData<"u"&&n instanceof FormData}function DA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var aa="Content-Type",yu="Accept",rb="text/plain",ib="application/json",sb=`${ib}, ${rb}, */*`,ds=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(AA(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new W(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new In,this.context??=new gu,!this.params)this.params=new Yn,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),u=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eb(this.body)||tb(this.body)||nb(this.body)||DA(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nb(this.body)?null:tb(this.body)?this.body.type||null:eb(this.body)?null:typeof this.body=="string"?rb:this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ib:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,o=t.priority||this.priority,c=t.cache||this.cache,u=t.mode||this.mode,l=t.redirect||this.redirect,h=t.credentials||this.credentials,p=t.referrer||this.referrer,m=t.integrity||this.integrity,v=t.referrerPolicy||this.referrerPolicy,D=t.transferCache??this.transferCache,N=t.timeout??this.timeout,S=t.body!==void 0?t.body:this.body,k=t.withCredentials??this.withCredentials,U=t.reportProgress??this.reportProgress,j=t.headers||this.headers,Y=t.params||this.params,fe=t.context??this.context;return t.setHeaders!==void 0&&(j=Object.keys(t.setHeaders).reduce((ue,E)=>ue.set(E,t.setHeaders[E]),j)),t.setParams&&(Y=Object.keys(t.setParams).reduce((ue,E)=>ue.set(E,t.setParams[E]),Y)),new n(e,r,S,{params:Y,headers:j,context:fe,reportProgress:U,responseType:i,withCredentials:k,transferCache:D,keepalive:s,cache:c,priority:o,timeout:N,mode:u,redirect:l,credentials:h,referrer:p,integrity:m,referrerPolicy:v})}},Jn=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Jn||{}),hs=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,r="OK"){this.headers=t.headers||new In,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},ca=class n extends hs{constructor(t={}){super(t)}type=Jn.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},fs=class n extends hs{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Jn.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},wn=class extends hs{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ob=200,RA=204;var PA=/^\)\]\}',?\n/,ab=new $(""),pu=(()=>{class n{fetchImpl=P(af,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=P(nn);destroyRef=P(as);handle(e){return new Uo(r=>{let i=new AbortController;this.doRequest(e,i.signal,r).then(cf,o=>r.error(new wn({error:o})));let s;return e.timeout&&(s=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{s!==void 0&&clearTimeout(s),i.abort()}})}async doRequest(e,r,i){let s=this.createRequestInit(e),o;try{let N=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,A({signal:r},s)));NA(N),i.next({type:Jn.Sent}),o=await N}catch(N){i.error(new wn({error:N,status:N.status??0,statusText:N.statusText,url:e.urlWithParams,headers:N.headers}));return}let c=new In(o.headers),u=o.statusText,l=o.url||e.urlWithParams,h=o.status,p=null;if(e.reportProgress&&i.next(new ca({headers:c,status:h,statusText:u,url:l})),o.body){let N=o.headers.get("content-length"),S=[],k=o.body.getReader(),U=0,j,Y,fe=typeof Zone<"u"&&Zone.current,ue=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyRef.destroyed){await k.cancel(),ue=!0;break}let{done:y,value:b}=await k.read();if(y)break;if(S.push(b),U+=b.length,e.reportProgress){Y=e.responseType==="text"?(Y??"")+(j??=new TextDecoder).decode(b,{stream:!0}):void 0;let I=()=>i.next({type:Jn.DownloadProgress,total:N?+N:void 0,loaded:U,partialText:Y});fe?fe.run(I):I()}}}),ue){i.complete();return}let E=this.concatChunks(S,U);try{let y=o.headers.get(aa)??"";p=this.parseBody(e,E,y,h)}catch(y){i.error(new wn({error:y,headers:new In(o.headers),status:o.status,statusText:o.statusText,url:o.url||e.urlWithParams}));return}}h===0&&(h=p?ob:0);let m=h>=200&&h<300,v=o.redirected,D=o.type;m?(i.next(new fs({body:p,headers:c,status:h,statusText:u,url:l,redirected:v,responseType:D})),i.complete()):i.error(new wn({error:p,headers:c,status:h,statusText:u,url:l,redirected:v,responseType:D}))}parseBody(e,r,i,s){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(PA,"");if(o==="")return null;try{return JSON.parse(o)}catch(c){if(s<200||s>=300)return o;throw c}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i;if(i=e.credentials,e.withCredentials&&(i="include"),e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has(yu)||(r[yu]=sb),!e.headers.has(aa)){let s=e.detectContentTypeHeader();s!==null&&(r[aa]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity,referrerPolicy:e.referrerPolicy}}concatChunks(e,r){let i=new Uint8Array(r),s=0;for(let o of e)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),af=class{};function cf(){}function NA(n){n.then(cf,cf)}var OA=/^\)\]\}',?\n/;var uf=(()=>{class n{xhrFactory;tracingService=P(Bc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return Z(null).pipe(qt(()=>new Uo(s=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((S,k)=>o.setRequestHeader(S,k.join(","))),e.headers.has(yu)||o.setRequestHeader(yu,sb),!e.headers.has(aa)){let S=e.detectContentTypeHeader();S!==null&&o.setRequestHeader(aa,S)}if(e.timeout&&(o.timeout=e.timeout),e.responseType){let S=e.responseType.toLowerCase();o.responseType=S!=="json"?S:"text"}let c=e.serializeBody(),u=null,l=()=>{if(u!==null)return u;let S=o.statusText||"OK",k=new In(o.getAllResponseHeaders()),U=o.responseURL||e.url;return u=new ca({headers:k,status:o.status,statusText:S,url:U}),u},h=this.maybePropagateTrace(()=>{let{headers:S,status:k,statusText:U,url:j}=l(),Y=null;k!==RA&&(Y=typeof o.response>"u"?o.responseText:o.response),k===0&&(k=Y?ob:0);let fe=k>=200&&k<300;if(e.responseType==="json"&&typeof Y=="string"){let ue=Y;Y=Y.replace(OA,"");try{Y=Y!==""?JSON.parse(Y):null}catch(E){Y=ue,fe&&(fe=!1,Y={error:E,text:Y})}}fe?(s.next(new fs({body:Y,headers:S,status:k,statusText:U,url:j||void 0})),s.complete()):s.error(new wn({error:Y,headers:S,status:k,statusText:U,url:j||void 0}))}),p=this.maybePropagateTrace(S=>{let{url:k}=l(),U=new wn({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});s.error(U)}),m=p;e.timeout&&(m=this.maybePropagateTrace(S=>{let{url:k}=l(),U=new wn({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:k||void 0});s.error(U)}));let v=!1,D=this.maybePropagateTrace(S=>{v||(s.next(l()),v=!0);let k={type:Jn.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),e.responseType==="text"&&o.responseText&&(k.partialText=o.responseText),s.next(k)}),N=this.maybePropagateTrace(S=>{let k={type:Jn.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),s.next(k)});return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",m),o.addEventListener("abort",p),e.reportProgress&&(o.addEventListener("progress",D),c!==null&&o.upload&&o.upload.addEventListener("progress",N)),o.send(c),s.next({type:Jn.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",m),e.reportProgress&&(o.removeEventListener("progress",D),c!==null&&o.upload&&o.upload.removeEventListener("progress",N)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(K(yi))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MA(n,t){return t(n)}function kA(n,t,e){return(r,i)=>Ct(e,()=>t(r,s=>n(s,i)))}var cb=new $("",{factory:()=>[]}),ub=new $(""),lb=new $("",{factory:()=>!0});var _u=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=K(uf),i},providedIn:"root"})}return n})();var vu=(()=>{class n{backend;injector;chain=null;pendingTasks=P(Wv);contributeToStability=P(lb);constructor(e,r){this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(cb),...this.injector.get(ub,[])]));this.chain=r.reduceRight((i,s)=>kA(i,s,this.injector),MA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Fc(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(K(_u),K(_n))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=K(vu),i},providedIn:"root"})}return n})();function of(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var db=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof ds)s=e;else{let u;i.headers instanceof In?u=i.headers:u=new In(i.headers);let l;i.params&&(i.params instanceof Yn?l=i.params:l=new Yn({fromObject:i.params})),s=new ds(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=Z(s).pipe(ui(u=>this.handler.handle(u)));if(e instanceof ds||i.observe==="events")return o;let c=o.pipe(tn(u=>u instanceof fs));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Me(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new W(2806,!1);return u.body}));case"blob":return c.pipe(Me(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new W(2807,!1);return u.body}));case"text":return c.pipe(Me(u=>{if(u.body!==null&&typeof u.body!="string")throw new W(2808,!1);return u.body}));case"json":default:return c.pipe(Me(u=>u.body))}case"response":return c;default:throw new W(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new Yn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,of(i,r))}post(e,r,i={}){return this.request("POST",e,of(i,r))}put(e,r,i={}){return this.request("PUT",e,of(i,r))}static \u0275fac=function(r){return new(r||n)(K(lf))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xA=new $("",{factory:()=>!0}),LA="XSRF-TOKEN",FA=new $("",{factory:()=>LA}),VA="X-XSRF-TOKEN",UA=new $("",{providedIn:"root",factory:()=>VA}),BA=(()=>{class n{cookieName=P(FA);doc=P(ve);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=na(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=K(BA),i},providedIn:"root"})}return n})();function $A(n,t){if(!P(xA)||n.method==="GET"||n.method==="HEAD")return t(n);try{let i=P(Sr).href,{origin:s}=new URL(i),{origin:o}=new URL(n.url,s);if(s!==o)return t(n)}catch{return t(n)}let e=P(hb).getToken(),r=P(UA);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}var df=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(df||{});function jA(n,t){return{\u0275kind:n,\u0275providers:t}}function zA(...n){let t=[db,vu,{provide:lf,useExisting:vu},{provide:_u,useFactory:()=>P(ab,{optional:!0})??P(uf)},{provide:cb,useValue:$A,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return Cr(t)}function HA(){return jA(df.Fetch,[pu,{provide:ab,useExisting:pu},{provide:_u,useExisting:pu}])}var fb=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(K(ve))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=K(WA),i},providedIn:"root"})}return n})(),WA=(()=>{class n extends qA{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case hi.NONE:return r;case hi.HTML:return cs(r,"HTML")?di(r):n_(this._doc,String(r)).toString();case hi.STYLE:return cs(r,"Style")?di(r):r;case hi.SCRIPT:if(cs(r,"Script"))return di(r);throw new W(5200,!1);case hi.URL:return cs(r,"URL")?di(r):t_(String(r));case hi.RESOURCE_URL:if(cs(r,"ResourceURL"))return di(r);throw new W(5201,!1);default:throw new W(5202,!1)}}bypassSecurityTrustHtml(e){return Yv(e)}bypassSecurityTrustStyle(e){return Jv(e)}bypassSecurityTrustScript(e){return Xv(e)}bypassSecurityTrustUrl(e){return Zv(e)}bypassSecurityTrustResourceUrl(e){return e_(e)}static \u0275fac=function(r){return new(r||n)(K(ve))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J="primary",_a=Symbol("RouteTitle"),mf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ei(n){return new mf(n)}function wb(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Cu(n){return new Promise((t,e)=>{n.pipe(Tr()).subscribe({next:r=>t(r),error:r=>e(r)})})}function QA(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Tn(n[e],t[e]))return!1;return!0}function Tn(n,t){let e=n?yf(n):void 0,r=t?yf(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!Ib(n[i],t[i]))return!1;return!0}function yf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ib(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function Tb(n){return n.length>0?n[n.length-1]:null}function wi(n){return Eh(n)?n:Ho(n)?ft(Promise.resolve(n)):Z(n)}function Cb(n){return Eh(n)?Cu(n):Promise.resolve(n)}var YA={exact:Ab,subset:Db},Sb={exact:JA,subset:XA,ignored:()=>!0};function pb(n,t,e){return YA[e.paths](n.root,t.root,e.matrixParams)&&Sb[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function JA(n,t){return Tn(n,t)}function Ab(n,t,e){if(!_i(n.segments,t.segments)||!wu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Ab(n.children[r],t.children[r],e))return!1;return!0}function XA(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ib(n[e],t[e]))}function Db(n,t,e){return Rb(n,t,t.segments,e)}function Rb(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!_i(i,e)||t.hasChildren()||!wu(i,e,r))}else if(n.segments.length===e.length){if(!_i(n.segments,e)||!wu(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!Db(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!_i(n.segments,i)||!wu(n.segments,i,r)||!n.children[J]?!1:Rb(n.children[J],t,s,r)}}function wu(n,t,e){return t.every((r,i)=>Sb[e](n[i].parameters,r.parameters))}var un=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ge([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return tD.serialize(this)}},ge=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Iu(this)}},Rr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return Nb(this)}};function ZA(n,t){return _i(n,t)&&n.every((e,r)=>Tn(e.parameters,t[r].parameters))}function _i(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function eD(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(e=e.concat(t(i,r)))}),e}var Ii=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new Xn,providedIn:"root"})}return n})(),Xn=class{parse(t){let e=new _f(t);return new un(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ua(t.root,!0)}`,r=iD(t.queryParams),i=typeof t.fragment=="string"?`#${nD(t.fragment)}`:"";return`${e}${r}${i}`}},tD=new Xn;function Iu(n){return n.segments.map(t=>Nb(t)).join("/")}function ua(n,t){if(!n.hasChildren())return Iu(n);if(t){let e=n.children[J]?ua(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${ua(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=eD(n,(r,i)=>i===J?[ua(n.children[J],!1)]:[`${i}:${ua(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${Iu(n)}/${e[0]}`:`${Iu(n)}/(${e.join("//")})`}}function Pb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bu(n){return Pb(n).replace(/%3B/gi,";")}function nD(n){return encodeURI(n)}function vf(n){return Pb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tu(n){return decodeURIComponent(n)}function gb(n){return Tu(n.replace(/\+/g,"%20"))}function Nb(n){return`${vf(n.path)}${rD(n.parameters)}`}function rD(n){return Object.entries(n).map(([t,e])=>`;${vf(t)}=${vf(e)}`).join("")}function iD(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${bu(e)}=${bu(i)}`).join("&"):`${bu(e)}=${bu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var sD=/^[^\/()?;#]+/;function hf(n){let t=n.match(sD);return t?t[0]:""}var oD=/^[^\/()?;=#]+/;function aD(n){let t=n.match(oD);return t?t[0]:""}var cD=/^[^=?&#]+/;function uD(n){let t=n.match(cD);return t?t[0]:""}var lD=/^[^&#]+/;function dD(n){let t=n.match(lD);return t?t[0]:""}var _f=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[J]=new ge(t,e)),r}parseSegment(){let t=hf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(t),new Rr(Tu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=aD(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=hf(this.remaining);i&&(r=i,this.capture(r))}t[Tu(e)]=Tu(r)}parseQueryParam(t){let e=uD(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=dD(this.remaining);o&&(r=o,this.capture(r))}let i=gb(e),s=gb(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=J);let o=this.parseChildren();e[s??J]=Object.keys(o).length===1&&o[J]?o[J]:new ge([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new W(4011,!1)}};function Ob(n){return n.segments.length>0?new ge([],{[J]:n}):n}function Mb(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=Mb(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new ge(n.segments,t);return hD(e)}function hD(n){if(n.numberOfChildren===1&&n.children[J]){let t=n.children[J];return new ge(n.segments.concat(t.segments),t.children)}return n}function Pr(n){return n instanceof un}function kb(n,t,e=null,r=null,i=new Xn){let s=xb(n);return Lb(s,t,e,r,i)}function xb(n){let t;function e(s){let o={};for(let u of s.children){let l=e(u);o[u.outlet]=l}let c=new ge(s.url,o);return s===n&&(t=c),c}let r=e(n.root),i=Ob(r);return t??i}function Lb(n,t,e,r,i){let s=n;for(;s.parent;)s=s.parent;if(t.length===0)return ff(s,s,s,e,r,i);let o=fD(t);if(o.toRoot())return ff(s,s,new ge([],{}),e,r,i);let c=pD(o,s,n),u=c.processChildren?da(c.segmentGroup,c.index,o.commands):Vb(c.segmentGroup,c.index,o.commands);return ff(s,c.segmentGroup,u,e,r,i)}function Su(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function fa(n){return typeof n=="object"&&n!=null&&n.outlets}function mb(n,t,e){n||="\u0275";let r=new un;return r.queryParams={[n]:t},e.parse(e.serialize(r)).queryParams[n]}function ff(n,t,e,r,i,s){let o={};for(let[l,h]of Object.entries(r??{}))o[l]=Array.isArray(h)?h.map(p=>mb(l,p,s)):mb(l,h,s);let c;n===t?c=e:c=Fb(n,t,e);let u=Ob(Mb(c));return new un(u,o,i)}function Fb(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=Fb(s,t,e)}),new ge(n.segments,r)}var Au=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Su(r[0]))throw new W(4003,!1);let i=r.find(fa);if(i&&i!==Tb(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fD(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Au(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Au(e,t,r)}var gs=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function pD(n,t,e){if(n.isAbsolute)return new gs(t,!0,0);if(!e)return new gs(t,!1,NaN);if(e.parent===null)return new gs(e,!0,0);let r=Su(n.commands[0])?0:1,i=e.segments.length-1+r;return gD(e,i,n.numberOfDoubleDots)}function gD(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new gs(r,!1,i-s)}function mD(n){return fa(n[0])?n[0].outlets:{[J]:n}}function Vb(n,t,e){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return da(n,t,e);let r=yD(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[J]=new ge(n.segments.slice(r.pathIndex),n.children),da(s,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?bf(n,t,e):r.match?da(n,0,i):bf(n,t,e)}function da(n,t,e){if(e.length===0)return new ge(n.segments,{});{let r=mD(e),i={};if(Object.keys(r).some(s=>s!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let s=da(n.children[J],t,e);return new ge(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Vb(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ge(n.segments,i)}}function yD(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],c=e[r];if(fa(c))break;let u=`${c}`,l=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vb(u,l,o))return s;r+=2}else{if(!vb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bf(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(fa(s)){let u=vD(s.outlets);return new ge(r,u)}if(i===0&&Su(e[0])){let u=n.segments[t];r.push(new Rr(u.path,yb(e[0]))),i++;continue}let o=fa(s)?s.outlets[J]:`${s}`,c=i<e.length-1?e[i+1]:null;o&&c&&Su(c)?(r.push(new Rr(o,yb(c))),i+=2):(r.push(new Rr(o,{})),i++)}return new ge(r,{})}function vD(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=bf(new ge([],{}),0,r))}),t}function yb(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function vb(n,t,e){return n==e.path&&Tn(t,e.parameters)}var ms="imperative",et=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(et||{}),Vt=class{id;url;constructor(t,e){this.id=t,this.url=e}},Nr=class extends Vt{type=et.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends Vt{urlAfterRedirects;type=et.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(wt||{}),vs=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(vs||{}),Cn=class extends Vt{reason;code;type=et.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sn=class extends Vt{reason;code;type=et.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},_s=class extends Vt{error;target;type=et.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pa=class extends Vt{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class extends Vt{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ru=class extends Vt{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pu=class extends Vt{urlAfterRedirects;state;type=et.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nu=class extends Vt{urlAfterRedirects;state;type=et.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ou=class{route;type=et.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mu=class{route;type=et.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ku=class{snapshot;type=et.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{snapshot;type=et.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{snapshot;type=et.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fu=class{snapshot;type=et.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bs=class{routerEvent;position;anchor;type=et.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ga=class{},Es=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function _D(n){return!(n instanceof ga)&&!(n instanceof Es)}function bD(n,t){return n.providers&&!n._injector&&(n._injector=$c(n.providers,t,`Route: ${n.path}`)),n._injector??t}function cn(n){return n.outlet||J}function ED(n,t){let e=n.filter(r=>cn(r)===t);return e.push(...n.filter(r=>cn(r)!==t)),e}function Ts(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Vu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ts(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ti(this.rootInjector)}},Ti=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Vu(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(K(_n))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Ef(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Ef(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=wf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return wf(t,this._root).map(e=>e.value)}};function Ef(n,t){if(n===t.value)return t;for(let e of t.children){let r=Ef(n,e);if(r)return r}return null}function wf(n,t){if(n===t.value)return[t];for(let e of t.children){let r=wf(n,e);if(r.length)return r.unshift(t),r}return[]}var Ft=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ps(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var ma=class extends Uu{snapshot;constructor(t,e){super(t),this.snapshot=e,Df(this,t)}toString(){return this.snapshot.toString()}};function Ub(n){let t=wD(n),e=new Gt([new Rr("",{})]),r=new Gt({}),i=new Gt({}),s=new Gt({}),o=new Gt(""),c=new An(e,r,s,o,i,J,n,t.root);return c.snapshot=t.root,new ma(new Ft(c,[]),t)}function wD(n){let t={},e={},r={},s=new bi([],t,r,"",e,J,n,null,{});return new ya("",new Ft(s,[]))}var An=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Me(l=>l[_a]))??Z(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(t=>Ei(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(t=>Ei(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:A(A({},t.params),n.params),data:A(A({},t.data),n.data),resolve:A(A(A(A({},n.data),t.data),i?.data),n._resolvedData)}:r={params:A({},n.params),data:A({},n.data),resolve:A(A({},n.data),n._resolvedData??{})},i&&$b(i)&&(r.resolve[_a]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_a]}constructor(t,e,r,i,s,o,c,u,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ya=class extends Uu{url;constructor(t,e){super(e),this.url=t,Df(this,e)}toString(){return Bb(this._root)}};function Df(n,t){t.value._routerState=n,t.children.forEach(e=>Df(n,e))}function Bb(n){let t=n.children.length>0?` { ${n.children.map(Bb).join(", ")} } `:"";return`${n.value}${t}`}function pf(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Tn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Tn(t.params,e.params)||n.paramsSubject.next(e.params),QA(t.url,e.url)||n.urlSubject.next(e.url),Tn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function If(n,t){let e=Tn(n.params,t.params)&&ZA(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||If(n.parent,t.parent))}function $b(n){return typeof n.title=="string"||n.title===null}var jb=new $(""),Rf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new pe;deactivateEvents=new pe;attachEvents=new pe;detachEvents=new pe;routerOutletData=x();parentContexts=P(Ti);location=P(us);changeDetector=P(En);inputBinder=P(ba,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Tf(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kt]})}return n})(),Tf=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===An?this.route:t===Ti?this.childContexts:t===jb?this.outletData:this.parent.get(t,e)}},ba=new $(""),Pf=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=wh([r.queryParams,r.params,r.data]).pipe(qt(([s,o,c],u)=>(c=A(A(A({},s),o),c),u===0?Z(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let o=E_(r.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Nf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&gi(0,"router-outlet")},dependencies:[Rf],encapsulation:2})}return n})();function Of(n){let t=n.children&&n.children.map(Of),e=t?ne(A({},n),{children:t}):A({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==J&&(e.component=Nf),e}function ID(n,t,e){let r=va(n,t._root,e?e._root:void 0);return new ma(r,t)}function va(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=TD(n,t,e);return new Ft(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>va(n,c)),o}}let r=CD(t.value),i=t.children.map(s=>va(n,s));return new Ft(r,i)}}function TD(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return va(n,r,i);return va(n,r)})}function CD(n){return new An(new Gt(n.url),new Gt(n.params),new Gt(n.queryParams),new Gt(n.fragment),new Gt(n.data),n.outlet,n.component,n)}var ws=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},zb="ngNavigationCancelingError";function $u(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Pr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Hb(!1,wt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Hb(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[zb]=!0,e.cancellationCode=t,e}function SD(n){return Gb(n)&&Pr(n.url)}function Gb(n){return!!n&&n[zb]}var AD=(n,t,e,r)=>Me(i=>(new Cf(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Cf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),pf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=ps(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=ps(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=ps(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=ps(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Fu(s.value.snapshot))}),t.children.length&&this.forwardEvent(new xu(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(pf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),pf(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},ju=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ys=class{component;route;constructor(t,e){this.component=t,this.route=e}};function DD(n,t,e){let r=n._root,i=t?t._root:null;return la(r,i,e,[r.value])}function RD(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Cs(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Hv(n)?n:t.get(n):r}function la(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ps(t);return n.children.forEach(o=>{PD(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ha(c,e.getContext(o),i)),i}function PD(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=ND(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ju(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?la(n,t,c?c.children:null,r,i):la(n,t,e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ys(c.outlet.component,o))}else o&&ha(t,c,i),i.canActivateChecks.push(new ju(r)),s.component?la(n,null,c?c.children:null,r,i):la(n,null,e,r,i);return i}function ND(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!_i(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_i(n.url,t.url)||!Tn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!If(n,t)||!Tn(n.queryParams,t.queryParams);case"paramsChange":default:return!If(n,t)}}function ha(n,t,e){let r=ps(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?ha(o,t.children.getContext(s),e):ha(o,null,e):ha(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ys(t.outlet.component,i)):e.canDeactivateChecks.push(new ys(null,i)):e.canDeactivateChecks.push(new ys(null,i))}function Ea(n){return typeof n=="function"}function OD(n){return typeof n=="boolean"}function MD(n){return n&&Ea(n.canLoad)}function kD(n){return n&&Ea(n.canActivate)}function xD(n){return n&&Ea(n.canActivateChild)}function LD(n){return n&&Ea(n.canDeactivate)}function FD(n){return n&&Ea(n.canMatch)}function qb(n){return n instanceof Bv||n?.name==="EmptyError"}var Eu=Symbol("INITIAL_VALUE");function Is(){return qt(n=>wh(n.map(t=>t.pipe(ss(1),zv(Eu)))).pipe(Me(t=>{for(let e of t)if(e!==!0){if(e===Eu)return Eu;if(e===!1||VD(e))return e}return!0}),tn(t=>t!==Eu),ss(1)))}function VD(n){return Pr(n)||n instanceof ws}function Wb(n){return n.aborted?Z(void 0).pipe(ss(1)):new Uo(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function Kb(n){return Vc(Wb(n))}function UD(n,t){return vn(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?Z(ne(A({},e),{guardsResult:!0})):BD(o,r,i,n).pipe(vn(c=>c&&OD(c)?$D(r,s,n,t):Z(c)),Me(c=>ne(A({},e),{guardsResult:c})))})}function BD(n,t,e,r){return ft(n).pipe(vn(i=>qD(i.component,i.route,e,t,r)),Tr(i=>i!==!0,!0))}function $D(n,t,e,r){return ft(t).pipe(ui(i=>$v(zD(i.route.parent,r),jD(i.route,r),GD(n,i.path,e),HD(n,i.route,e))),Tr(i=>i!==!0,!0))}function jD(n,t){return n!==null&&t&&t(new Lu(n)),Z(!0)}function zD(n,t){return n!==null&&t&&t(new ku(n)),Z(!0)}function HD(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>xc(()=>{let o=Ts(t)??e,c=Cs(s,o),u=kD(c)?c.canActivate(t,n):Ct(o,()=>c(t,n));return wi(u).pipe(Tr())}));return Z(i).pipe(Is())}function GD(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>RD(o)).filter(o=>o!==null).map(o=>xc(()=>{let c=o.guards.map(u=>{let l=Ts(o.node)??e,h=Cs(u,l),p=xD(h)?h.canActivateChild(r,n):Ct(l,()=>h(r,n));return wi(p).pipe(Tr())});return Z(c).pipe(Is())}));return Z(s).pipe(Is())}function qD(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(c=>{let u=Ts(t)??i,l=Cs(c,u),h=LD(l)?l.canDeactivate(n,t,e,r):Ct(u,()=>l(n,t,e,r));return wi(h).pipe(Tr())});return Z(o).pipe(Is())}function WD(n,t,e,r,i){let s=t.canLoad;if(s===void 0||s.length===0)return Z(!0);let o=s.map(c=>{let u=Cs(c,n),l=MD(u)?u.canLoad(t,e):Ct(n,()=>u(t,e)),h=wi(l);return i?h.pipe(Kb(i)):h});return Z(o).pipe(Is(),Qb(r))}function Qb(n){return Vv(Tt(t=>{if(typeof t!="boolean")throw $u(n,t)}),Me(t=>t===!0))}function KD(n,t,e,r,i){let s=t.canMatch;if(!s||s.length===0)return Z(!0);let o=s.map(c=>{let u=Cs(c,n),l=FD(u)?u.canMatch(t,e):Ct(n,()=>u(t,e)),h=wi(l);return i?h.pipe(Kb(i)):h});return Z(o).pipe(Is(),Qb(r))}var vi=class Yb extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,Yb.prototype)}},Sf=class Jb extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,Jb.prototype)}};function QD(n){throw new W(4e3,!1)}function YD(n){throw Hb(!1,wt.GuardRejected)}var JD=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[J])throw QD(`${t.redirectTo}`);i=i.children[J]}}async applyRedirectCommands(t,e,r,i,s){let o=await XD(e,i,s);if(o instanceof un)throw new Sf(o);let c=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,r);if(o[0]==="/")throw new Sf(c);return c}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new un(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=e[c]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,r,i)}),new ge(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}};function XD(n,t,e){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:c,outlet:u,params:l,data:h,title:p}=t;return Cu(wi(Ct(e,()=>r({params:l,data:h,queryParams:i,fragment:s,routeConfig:o,url:c,outlet:u,title:p}))))}var Af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZD(n,t,e,r,i,s){let o=Xb(n,t,e);return o.matched?(r=bD(t,r),KD(r,t,e,i,s).pipe(Me(c=>c===!0?o:A({},Af)))):Z(o)}function Xb(n,t,e){if(t.path==="**")return eR(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?A({},Af):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||wb)(e,n,t);if(!i)return A({},Af);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?A(A({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eR(n){return{matched:!0,parameters:n.length>0?Tb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _b(n,t,e,r){return e.length>0&&rR(n,e,r)?{segmentGroup:new ge(t,nR(r,new ge(e,n.children))),slicedSegments:[]}:e.length===0&&iR(n,e,r)?{segmentGroup:new ge(n.segments,tR(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:e}}function tR(n,t,e,r){let i={};for(let s of e)if(Hu(n,t,s)&&!r[cn(s)]){let o=new ge([],{});i[cn(s)]=o}return A(A({},r),i)}function nR(n,t){let e={};e[J]=t;for(let r of n)if(r.path===""&&cn(r)!==J){let i=new ge([],{});e[cn(r)]=i}return e}function rR(n,t,e){return e.some(r=>Hu(n,t,r)&&cn(r)!==J)}function iR(n,t,e){return e.some(r=>Hu(n,t,r))}function Hu(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function sR(n,t,e){return t.length===0&&!n.children[e]}var oR=class{};async function aR(n,t,e,r,i,s,o="emptyOnly",c){return new uR(n,t,e,r,i,o,s,c).recognize()}var cR=31,uR=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,c,u){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.abortSignal=u,this.applyRedirects=new JD(this.urlSerializer,this.urlTree)}noMatchError(t){return new W(4002,`'${t.segmentGroup}'`)}async recognize(){let t=_b(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:r}=await this.match(t),i=new Ft(r,e),s=new ya("",i),o=kb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(t){let e=new bi([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,J,e),rootSnapshot:e}}catch(r){if(r instanceof Sf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vi?this.noMatchError(r):r}}async processSegmentGroup(t,e,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,e,r,s);let o=await this.processSegment(t,e,r,r.segments,i,!0,s);return o instanceof Ft?[o]:[]}async processChildren(t,e,r,i){let s=[];for(let u of Object.keys(r.children))u==="primary"?s.unshift(u):s.push(u);let o=[];for(let u of s){let l=r.children[u],h=ED(e,u),p=await this.processSegmentGroup(t,h,l,u,i);o.push(...p)}let c=Zb(o);return lR(c),c}async processSegment(t,e,r,i,s,o,c){for(let u of e)try{return await this.processSegmentAgainstRoute(u._injector??t,e,u,r,i,s,o,c)}catch(l){if(l instanceof vi||qb(l))continue;throw l}if(sR(r,i,s))return new oR;throw new vi(r)}async processSegmentAgainstRoute(t,e,r,i,s,o,c,u){if(cn(r)!==o&&(o===J||!Hu(i,s,r)))throw new vi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,s,o,u);if(this.allowRedirects&&c)return this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,u);throw new vi(i)}async expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Xb(e,i,s);if(!u)throw new vi(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cR&&(this.allowRedirects=!1));let v=new bi(s,l,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,bb(i),cn(i),i.component??i._loadedComponent??null,i,Eb(i)),D=Bu(v,c,this.paramsInheritanceStrategy);if(v.params=Object.freeze(D.params),v.data=Object.freeze(D.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let N=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,t),S=await this.applyRedirects.lineralizeSegments(i,N);return this.processSegment(t,r,e,S.concat(m),o,!1,c)}async matchSegmentAgainstRoute(t,e,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let c=await Cu(ZD(e,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(e.children={}),!c?.matched)throw new vi(e);t=r._injector??t;let{routes:u}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:h,consumedSegments:p,remainingSegments:m}=c,v=new bi(p,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,bb(r),cn(r),r.component??r._loadedComponent??null,r,Eb(r)),D=Bu(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let{segmentGroup:N,slicedSegments:S}=_b(e,p,m,u);if(S.length===0&&N.hasChildren()){let j=await this.processChildren(l,u,N,v);return new Ft(v,j)}if(u.length===0&&S.length===0)return new Ft(v,[]);let k=cn(r)===s,U=await this.processSegment(l,u,N,S,k?J:s,!0,v);return new Ft(v,U instanceof Ft?[U]:[])}async getChildConfig(t,e,r){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Cu(WD(t,e,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=s.routes,e._loadedInjector=s.injector,s}throw YD(e)}return{routes:[],injector:t}}};function lR(n){n.sort((t,e)=>t.value.outlet===J?-1:e.value.outlet===J?1:t.value.outlet.localeCompare(e.value.outlet))}function dR(n){let t=n.value.routeConfig;return t&&t.path===""}function Zb(n){let t=[],e=new Set;for(let r of n){if(!dR(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=Zb(r.children);t.push(new Ft(r.value,i))}return t.filter(r=>!e.has(r))}function bb(n){return n.data||{}}function Eb(n){return n.resolve||{}}var hR=new $("",{factory:()=>aR});function fR(n,t,e,r,i,s,o){let c=n.get(hR);return vn(u=>Z(u).pipe(qt(l=>c(n,t,e,r,l.extractedUrl,i,s,o)),Me(({state:l,tree:h})=>ne(A({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function pR(n,t){return vn(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Z(e);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of eE(u))o.add(l);let c=0;return ft(o).pipe(ui(u=>s.has(u)?gR(u,r,n,t):(u.data=Bu(u,u.parent,n).resolve,Z(void 0))),Tt(()=>c++),Ih(1),vn(u=>c===o.size?Z(e):Hn))})}function eE(n){let t=n.children.map(e=>eE(e)).flat();return[n,...t]}function gR(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!$b(i)&&(s[_a]=i.title),xc(()=>(n.data=Bu(n,n.parent,e).resolve,mR(s,n,t,r).pipe(Me(o=>(n._resolvedData=o,n.data=A(A({},n.data),o),null)))))}function mR(n,t,e,r){let i=yf(n);if(i.length===0)return Z({});let s={};return ft(i).pipe(vn(o=>yR(n[o],t,e,r).pipe(Tr(),Tt(c=>{if(c instanceof ws)throw $u(new Xn,c);s[o]=c}))),Ih(1),Me(()=>s),Lc(o=>qb(o)?Hn:Uv(o)))}function yR(n,t,e,r){let i=Ts(t)??r,s=Cs(n,i),o=s.resolve?s.resolve(t,e):Ct(i,()=>s(t,e));return wi(o)}function gf(n){return qt(t=>{let e=n(t);return e?ft(e).pipe(Me(()=>t)):Z(t)})}var Mf=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(e){return e.data[_a]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>P(tE),providedIn:"root"})}return n})(),tE=(()=>{class n extends Mf{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(fb))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Or=new $("",{factory:()=>({})}),Ci=new $(""),Gu=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(g_);async loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await Cb(Ct(e,()=>r.loadComponent())),o=await iE(rE(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await nE(r,this.compiler,e,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function nE(n,t,e,r){let i=await Cb(Ct(e,()=>n.loadChildren())),s=await iE(rE(i)),o;s instanceof a_||Array.isArray(s)?o=s:o=await t.compileModuleAsync(s),r&&r(n);let c,u,l=!1;return Array.isArray(o)?(u=o,l=!0):(c=o.create(e).injector,u=c.get(Ci,[],{optional:!0,self:!0}).flat()),{routes:u.map(Of),injector:c}}function vR(n){return n&&typeof n=="object"&&"default"in n}function rE(n){return vR(n)?n.default:n}async function iE(n){return n}var qu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>P(_R),providedIn:"root"})}return n})(),_R=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kf=new $(""),xf=new $("");function sE(n,t,e){let r=n.get(xf),i=n.get(ve);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),bR(n)));c.updateCallbackDone.catch(l=>{}),c.ready.catch(l=>{}),c.finished.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Ct(n,()=>u({transition:c,from:t,to:e})),o}function bR(n){return new Promise(t=>{Ph({read:()=>setTimeout(t)},{injector:n})})}var ER=()=>{},Lf=new $(""),Wu=(()=>{class n{currentNavigation=le(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=le(null);events=new Je;transitionAbortWithErrorSubject=new Je;configLoader=P(Gu);environmentInjector=P(_n);destroyRef=P(as);urlSerializer=P(Ii);rootContexts=P(Ti);location=P(Ar);inputBindingEnabled=P(ba,{optional:!0})!==null;titleStrategy=P(Mf);options=P(Or,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(qu);createViewTransition=P(kf,{optional:!0});navigationErrorHandler=P(Lf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Ou(i)),r=i=>this.events.next(new Mu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;Xe(()=>{this.transitions?.next(ne(A({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(e){return this.transitions=new Gt(null),this.transitions.pipe(tn(r=>r!==null),qt(r=>{let i=!1,s=new AbortController;return Z(r).pipe(qt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),Hn;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:c?ne(A({},c),{previousNavigation:null}):null,abort:()=>s.abort()});let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Sn(o.id,this.urlSerializer.serialize(o.rawUrl),"",vs.IgnoredSameUrlNavigation)),o.resolve(!1),Hn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(qt(h=>(this.events.next(new Nr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Hn:Promise.resolve(h))),fR(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Tt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=h.urlAfterRedirects,m));let p=new pa(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:v,extras:D}=o,N=new Nr(h,this.urlSerializer.serialize(p),m,v);this.events.next(N);let S=Ub(this.rootComponentType).snapshot;return this.currentTransition=r=ne(A({},o),{targetSnapshot:S,urlAfterRedirects:p,extras:ne(A({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=p,k)),Z(r)}else return this.events.next(new Sn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",vs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Hn}),Tt(o=>{let c=new Du(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),Me(o=>(this.currentTransition=r=ne(A({},o),{guards:DD(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),UD(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw $u(this.urlSerializer,o.guardsResult);let c=new Ru(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),tn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",wt.GuardRejected),!1)),gf(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe(Tt(c=>{let u=new Pu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),qt(c=>{let u=!1;return Z(c).pipe(pR(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",wt.NoDataFromResolver)}}))}),Tt(c=>{let u=new Nu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),gf(o=>{let c=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Ts(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)h.push(...c(p));return h},u=c(o.targetSnapshot.root);return u.length===0?Z(o):ft(Promise.all(u).then(()=>o))}),gf(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:o,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return u?ft(u).pipe(Me(()=>r)):Z(r)}),Me(o=>{let c=ID(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ne(A({},o),{targetRouterState:c}),this.currentNavigation.update(u=>(u.targetRouterState=c,u)),r}),Tt(()=>{this.events.next(new ga)}),AD(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ss(1),Vc(Wb(s.signal).pipe(tn(()=>!i&&!r.targetRouterState),Tt(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",wt.Aborted)}))),Tt({next:o=>{i=!0,this.currentNavigation.update(c=>(c.abort=ER,c)),this.lastSuccessfulNavigation.set(Xe(this.currentNavigation)),this.events.next(new Ut(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vc(this.transitionAbortWithErrorSubject.pipe(Tt(o=>{throw o}))),Fc(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Lc(o=>{if(this.destroyed)return r.resolve(!1),Hn;if(i=!0,Gb(o))this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),SD(o)?this.events.next(new Es(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let c=new _s(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=Ct(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ws){let{message:l,cancellationCode:h}=$u(this.urlSerializer,u);this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Es(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Hn}))}))}cancelNavigationTransition(e,r,i){let s=new Cn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Xe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wR(n){return n!==ms}var oE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>P(IR),providedIn:"root"})}return n})(),zu=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},IR=(()=>{class n extends zu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ff=(()=>{class n{urlSerializer=P(Ii);options=P(Or,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Ar);urlHandlingStrategy=P(qu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,o=i??s;return o instanceof un?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Ub(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>P(aE),providedIn:"root"})}return n})(),aE=(()=>{class n extends Ff{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Nr?this.updateStateMemento():e instanceof Sn?this.commitTransition(r):e instanceof pa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof ga?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Cn&&e.code!==wt.SupersededByNewNavigation&&e.code!==wt.Redirect?this.restoreHistory(r):e instanceof _s?this.restoreHistory(r,!0):e instanceof Ut&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(e)||s){let c=this.browserPageId,u=A(A({},o),this.generateNgRouterState(i,c));this.location.replaceState(e,"",u)}else{let c=A(A({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ku(n,t){n.events.pipe(tn(e=>e instanceof Ut||e instanceof Cn||e instanceof _s||e instanceof Sn),Me(e=>e instanceof Ut||e instanceof Sn?0:(e instanceof Cn?e.code===wt.Redirect||e.code===wt.SupersededByNewNavigation:!1)?2:1),tn(e=>e!==2),ss(1)).subscribe(()=>{t()})}var TR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Oh);stateManager=P(Ff);options=P(Or,{optional:!0})||{};pendingTasks=P(qv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Wu);urlSerializer=P(Ii);location=P(Ar);urlHandlingStrategy=P(qu);injector=P(_n);_events=new Je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(oE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Ci,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(ba,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fv;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=Xe(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Cn&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof Es){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=A({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wR(i.source)},o);this.scheduleNavigation(c,ms,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_D(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ms,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=A({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,o,s).catch(u=>{this.disposed||this.injector.get(jo)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Xe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Of),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=A(A({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=xb(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return Lb(p,e,h,l??null,this.urlSerializer)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Pr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ms,null,r)}navigate(e,r={skipLocationChange:!1}){return SR(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(li(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=A({},TR):r===!1?i=A({},CR):i=r,Pr(e))return pb(this.currentUrlTree,e,i);let s=this.parseUrl(e);return pb(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return Ku(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SR(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new W(4008,!1)}var Qu=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=le(null);get href(){return Xe(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Je;applicationErrorHandler=P(jo);options=P(Or,{optional:!0});constructor(e,r,i,s,o,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.reactiveHref.set(P(new y_("href"),{optional:!0}));let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(z(Dn),z(An),Ch("tabindex"),z(St),z(pt),z(on))};static \u0275dir=Q({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&xt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&bt("href",i.reactiveHref(),r_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",se],skipLocationChange:[2,"skipLocationChange","skipLocationChange",se],replaceUrl:[2,"replaceUrl","replaceUrl",se],routerLink:"routerLink"},features:[kt]})}return n})(),AR=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new pe;link=P(Qu,{optional:!0});constructor(e,r,i,s){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=e.events.subscribe(o=>{o instanceof Ut&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Bo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ft(e).pipe(Bo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=DR(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(z(Dn),z(pt),z(St),z(En))};static \u0275dir=Q({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&ls(s,Qu,5),r&2){let o;Kt(o=Qt())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[kt]})}return n})();function DR(n){return!!n.paths}var wa=class{};var cE=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,s){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(tn(e=>e instanceof Ut),ui(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=$c(s.providers,e,""));let o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ft(i).pipe(Bo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=ft(this.loader.loadChildren(e,r)):i=Z(null);let s=i.pipe(vn(o=>o===null?Z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(e,r);return ft([s,o]).pipe(Bo())}else return s})}static \u0275fac=function(r){return new(r||n)(K(Dn),K(_n),K(wa),K(Gu))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uE=new $(""),RR=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ms;restoredId=0;store={};constructor(e,r,i,s,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Nr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ut?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Sn&&e.code===vs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof bs))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new bs(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){o_()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function PR(n,...t){return Cr([{provide:Ci,multi:!0,useValue:n},[],{provide:An,useFactory:lE},{provide:Mh,multi:!0,useFactory:dE},t.map(e=>e.\u0275providers)])}function lE(){return P(Dn).routerState.root}function Ia(n,t){return{\u0275kind:n,\u0275providers:t}}function dE(){let n=P(Wn);return t=>{let e=n.get(jc);if(t!==e.components[0])return;let r=n.get(Dn),i=n.get(hE);n.get(Uf)===1&&r.initialNavigation(),n.get(gE,null,{optional:!0})?.setUpPreloading(),n.get(uE,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hE=new $("",{factory:()=>new Je}),Uf=new $("",{factory:()=>1});function fE(){let n=[{provide:Dh,useValue:!0},{provide:Uf,useValue:0},Go(()=>{let t=P(Wn);return t.get($h,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Dn),s=t.get(hE);Ku(i,()=>{r(!0)}),t.get(Wu).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))})];return Ia(2,n)}function pE(){let n=[Go(()=>{P(Dn).setUpLocationChangeListener()}),{provide:Uf,useValue:2}];return Ia(3,n)}var gE=new $("");function mE(n){return Ia(0,[{provide:gE,useExisting:cE},{provide:wa,useExisting:n}])}function yE(){return Ia(8,[Pf,{provide:ba,useExisting:Pf}])}function vE(n){Rh("NgRouterViewTransitions");let t=[{provide:kf,useValue:sE},{provide:xf,useValue:A({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ia(9,t)}var _E=[Ar,{provide:Ii,useClass:Xn},Dn,Ti,{provide:An,useFactory:lE},Gu,[]],NR=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[_E,[],{provide:Ci,multi:!0,useValue:e},[],r?.errorHandler?{provide:Lf,useValue:r.errorHandler}:[],{provide:Or,useValue:r||{}},r?.useHash?MR():kR(),OR(),r?.preloadingStrategy?mE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xR(r):[],r?.bindToComponentInputs?yE().\u0275providers:[],r?.enableViewTransitions?vE().\u0275providers:[],LR()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ci,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({})}return n})();function OR(){return{provide:uE,useFactory:()=>{let n=P(G_),t=P(nn),e=P(Or),r=P(Wu),i=P(Ii);return e.scrollOffset&&n.setOffset(e.scrollOffset),new RR(i,r,n,t,e)}}}function MR(){return{provide:on,useClass:qh}}function kR(){return{provide:on,useClass:Zc}}function xR(n){return[n.initialNavigation==="disabled"?pE().\u0275providers:[],n.initialNavigation==="enabledBlocking"?fE().\u0275providers:[]]}var Vf=new $("");function LR(){return[{provide:Vf,useFactory:dE},{provide:Mh,multi:!0,useExisting:Vf}]}function Mr(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")t.push(r);else if(i==="object"){let s=Array.isArray(r)?[Mr(...r)]:Object.entries(r).map(([o,c])=>c?o:void 0);t=s.length?t.concat(s.filter(o=>!!o)):t}}return t.join(" ").trim()}}function bE(n,t){return n?n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className):!1}function Bt(n,t){if(n&&t){let e=r=>{bE(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function FR(){return window.innerWidth-document.documentElement.offsetWidth}function EE(n){typeof n=="string"?Bt(document.body,n||"p-overflow-hidden"):(n!=null&&n.variableName&&document.body.style.setProperty(n.variableName,FR()+"px"),Bt(document.body,n?.className||"p-overflow-hidden"))}function $t(n,t){if(n&&t){let e=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function wE(n){typeof n=="string"?$t(document.body,n||"p-overflow-hidden"):(n!=null&&n.variableName&&document.body.style.removeProperty(n.variableName),$t(document.body,n?.className||"p-overflow-hidden"))}function Ta(n){for(let t of document?.styleSheets)try{for(let e of t?.cssRules)for(let r of e?.style)if(n.test(r))return{name:r,value:e.style.getPropertyValue(r).trim()}}catch{}return null}function Yu(n){let t={width:0,height:0};if(n){let[e,r]=[n.style.visibility,n.style.display],i=n.getBoundingClientRect();n.style.visibility="hidden",n.style.display="block",t.width=i.width||n.offsetWidth,t.height=i.height||n.offsetHeight,n.style.display=r,n.style.visibility=e}return t}function IE(){let n=window,t=document,e=t.documentElement,r=t.getElementsByTagName("body")[0],i=n.innerWidth||e.clientWidth||r.clientWidth,s=n.innerHeight||e.clientHeight||r.clientHeight;return{width:i,height:s}}function Bf(n){return n?Math.abs(n.scrollLeft):0}function VR(){let n=document.documentElement;return(window.pageXOffset||Bf(n))-(n.clientLeft||0)}function UR(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function BR(n){return n?getComputedStyle(n).direction==="rtl":!1}function TE(n,t,e=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:Yu(n),u=c.height,l=c.width,h=t.offsetHeight,p=t.offsetWidth,m=t.getBoundingClientRect(),v=UR(),D=VR(),N=IE(),S,k,U="top";m.top+h+u>N.height?(S=m.top+v-u,U="bottom",S<0&&(S=v)):S=h+m.top+v,m.left+l>N.width?k=Math.max(0,m.left+D+p-l):k=m.left+D,BR(n)?n.style.insetInlineEnd=k+"px":n.style.insetInlineStart=k+"px",n.style.top=S+"px",n.style.transformOrigin=U,e&&(n.style.marginTop=U==="bottom"?`calc(${(i=(r=Ta(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=Ta(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function lU(n,t){n&&(typeof t=="string"?n.style.cssText=t:Object.entries(t||{}).forEach(([e,r])=>n.style[e]=r))}function Ju(n,t){if(n instanceof HTMLElement){let e=n.offsetWidth;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return e}return 0}function CE(n,t,e=!0,r=void 0){var i;if(n){let s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:Yu(n),o=t.offsetHeight,c=t.getBoundingClientRect(),u=IE(),l,h,p=r??"top";if(!r&&c.top+o+s.height>u.height?(l=-1*s.height,p="bottom",c.top+l<0&&(l=-1*c.top)):l=o,s.width>u.width?h=c.left*-1:c.left+s.width>u.width?h=(c.left+s.width-u.width)*-1:h=0,n.style.top=l+"px",n.style.insetInlineStart=h+"px",n.style.transformOrigin=p,e){let m=(i=Ta(/-anchor-gutter$/))==null?void 0:i.value;n.style.marginTop=p==="bottom"?`calc(${m??"2px"} * -1)`:m??""}}}function SE(n){if(n){let t=n.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}function $R(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&SE(n))}function Ss(n){return typeof Element<"u"?n instanceof Element:n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}function AE(n){let t=n;return n&&typeof n=="object"&&(Object.hasOwn(n,"current")?t=n.current:Object.hasOwn(n,"el")&&(Object.hasOwn(n.el,"nativeElement")?t=n.el.nativeElement:t=n.el)),Ss(t)?t:void 0}function $f(n,t){var e,r,i;if(n)switch(n){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@first":return t?.firstElementChild;case"@last":return t?.lastElementChild;case"@child":return(e=t?.children)==null?void 0:e[0];case"@parent":return t?.parentElement;case"@grandparent":return(r=t?.parentElement)==null?void 0:r.parentElement;default:{if(typeof n=="string"){let c=n.match(/^@child\[(\d+)]/);return c?((i=t?.children)==null?void 0:i[parseInt(c[1],10)])||null:document.querySelector(n)||null}let s=(c=>typeof c=="function"&&"call"in c&&"apply"in c)(n)?n():n,o=AE(s);return $R(o)?o:s?.nodeType===9?s:void 0}}}function jf(n,t){let e=$f(n,t);if(e)e.appendChild(t);else throw new Error("Cannot append "+t+" to "+n)}function Xu(n,t={}){if(Ss(n)){let e=(r,i)=>{var s,o;let c=(s=n?.$attrs)!=null&&s[r]?[(o=n?.$attrs)==null?void 0:o[r]]:[];return[i].flat().reduce((u,l)=>{if(l!=null){let h=typeof l;if(h==="string"||h==="number")u.push(l);else if(h==="object"){let p=Array.isArray(l)?e(r,l):Object.entries(l).map(([m,v])=>r==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(t).forEach(([r,i])=>{if(i!=null){let s=r.match(/^on(.+)/);s?n.addEventListener(s[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?Xu(n,i):(i=r==="class"?[...new Set(e("class",i))].join(" ").trim():r==="style"?e("style",i).join(";").trim():i,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=i),n.setAttribute(r,i))}})}}function Zu(n,t={},...e){if(n){let r=document.createElement(n);return Xu(r,t),r.append(...e),r}}function dU(n,t){if(n){n.style.opacity="0";let e=+new Date,r="0",i=function(){r=`${+n.style.opacity+(new Date().getTime()-e)/t}`,n.style.opacity=r,e=+new Date,+r<1&&("requestAnimationFrame"in window?requestAnimationFrame(i):setTimeout(i,16))};i()}}function jR(n,t){return Ss(n)?Array.from(n.querySelectorAll(t)):[]}function As(n,t){return Ss(n)?n.matches(t)?n:n.querySelector(t):null}function zf(n,t){n&&document.activeElement!==n&&n.focus(t)}function hU(n,t){if(Ss(n)){let e=n.getAttribute(t);return isNaN(e)?e==="true"||e==="false"?e==="true":e:+e}}function DE(n,t=""){let e=jR(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [href]:not([tabindex = "-1"]):not([style*="display:none"]):not([hidden])${t},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of e)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r}function fU(n,t){let e=DE(n,t);return e.length>0?e[0]:null}function Hf(n){if(n){let t=n.offsetHeight,e=getComputedStyle(n);return t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),t}return 0}function pU(n){var t;if(n){let e=(t=SE(n))==null?void 0:t.childNodes,r=0;if(e)for(let i=0;i<e.length;i++){if(e[i]===n)return r;e[i].nodeType===1&&r++}}return-1}function gU(n,t){let e=DE(n,t);return e.length>0?e[e.length-1]:null}function RE(n){if(n){let t=n.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||Bf(document.documentElement)||Bf(document.body)||0)}}return{top:"auto",left:"auto"}}function Gf(n,t){if(n){let e=n.offsetHeight;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return e}return 0}function mU(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function qf(n){if(n){let t=n.offsetWidth,e=getComputedStyle(n);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),t}return 0}function yU(n){if(n){let t=n.nodeName,e=n.parentElement&&n.parentElement.nodeName;return t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||e==="INPUT"||e==="TEXTAREA"||e==="BUTTON"||e==="A"||!!n.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function vU(n){return!!(n&&n.offsetParent!=null)}function _U(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}function PE(){return typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ca(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function el(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function NE(n){var t;n&&("remove"in Element.prototype?n.remove():(t=n.parentNode)==null||t.removeChild(n))}function bU(n,t){let e=AE(n);if(e)e.removeChild(t);else throw new Error("Cannot remove "+t+" from "+n)}function EU(n,t){let e=getComputedStyle(n).getPropertyValue("borderTopWidth"),r=e?parseFloat(e):0,i=getComputedStyle(n).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=n.getBoundingClientRect(),c=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,u=n.scrollTop,l=n.clientHeight,h=Gf(t);c<0?n.scrollTop=u+c:c+h>l&&(n.scrollTop=u+c-l+h)}function OE(n,t="",e){Ss(n)&&e!==null&&e!==void 0&&n.setAttribute(t,e)}function Wf(n,t,e=null,r){var i;t&&((i=n?.style)==null||i.setProperty(t,e,r))}function ME(){let n=new Map;return{on(t,e){let r=n.get(t);return r?r.push(e):r=[e],n.set(t,r),this},off(t,e){let r=n.get(t);return r&&r.splice(r.indexOf(e)>>>0,1),this},emit(t,e){let r=n.get(t);r&&r.forEach(i=>{i(e)})},clear(){n.clear()}}}var zR=Object.defineProperty,kE=Object.getOwnPropertySymbols,HR=Object.prototype.hasOwnProperty,GR=Object.prototype.propertyIsEnumerable,xE=(n,t,e)=>t in n?zR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,LE=(n,t)=>{for(var e in t||(t={}))HR.call(t,e)&&xE(n,e,t[e]);if(kE)for(var e of kE(t))GR.call(t,e)&&xE(n,e,t[e]);return n};function FE(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")t.push(r);else if(i==="object"){let s=Array.isArray(r)?[FE(...r)]:Object.entries(r).map(([o,c])=>c?o:void 0);t=s.length?t.concat(s.filter(o=>!!o)):t}}return t.join(" ").trim()}}function qR(n){return typeof n=="function"&&"call"in n&&"apply"in n}function Kf(...n){return n?.reduce((t,e={})=>{for(let r in e){let i=e[r];if(r==="style")t.style=LE(LE({},t.style),e.style);else if(r==="class"||r==="className")t[r]=FE(t[r],e[r]);else if(qR(i)){let s=t[r];t[r]=s?(...o)=>{s(...o),i(...o)}:i}else t[r]=i}return t},{})}function Rn(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function Qf(n,t,e=new WeakSet){if(n===t)return!0;if(!n||!t||typeof n!="object"||typeof t!="object"||e.has(n)||e.has(t))return!1;e.add(n).add(t);let r=Array.isArray(n),i=Array.isArray(t),s,o,c;if(r&&i){if(o=n.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!Qf(n[s],t[s],e))return!1;return!0}if(r!=i)return!1;let u=n instanceof Date,l=t instanceof Date;if(u!=l)return!1;if(u&&l)return n.getTime()==t.getTime();let h=n instanceof RegExp,p=t instanceof RegExp;if(h!=p)return!1;if(h&&p)return n.toString()==t.toString();let m=Object.keys(n);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!Qf(n[c],t[c],e))return!1;return!0}function WR(n,t){return Qf(n,t)}function nl(n){return typeof n=="function"&&"call"in n&&"apply"in n}function me(n){return!Rn(n)}function tl(n,t){if(!n||!t)return null;try{let e=n[t];if(me(e))return e}catch{}if(Object.keys(n).length){if(nl(t))return t(n);if(t.indexOf(".")===-1)return n[t];{let e=t.split("."),r=n;for(let i=0,s=e.length;i<s;++i){if(r==null)return null;r=r[e[i]]}return r}}return null}function Sa(n,t,e){return e?tl(n,e)===tl(t,e):WR(n,t)}function CU(n,t){if(n!=null&&t&&t.length){for(let e of t)if(Sa(n,e))return!0}return!1}function Zn(n,t=!0){return n instanceof Object&&n.constructor===Object&&(t||Object.keys(n).length!==0)}function SU(n,t){let e=-1;if(me(n))try{e=n.findLastIndex(t)}catch{e=n.lastIndexOf([...n].reverse().find(t))}return e}function it(n,...t){return nl(n)?n(...t):n}function Xt(n,t=!0){return typeof n=="string"&&(t||n!=="")}function kr(n){return Xt(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function rl(n,t="",e={}){let r=kr(t).split("."),i=r.shift();if(i){if(Zn(n)){let s=Object.keys(n).find(o=>kr(o)===i)||"";return rl(it(n[s],e),r.join("."),e)}return}return it(n,e)}function Yf(n,t=!0){return Array.isArray(n)&&(t||n.length!==0)}function AU(n){return n instanceof Date}function VE(n){return me(n)&&!isNaN(n)}function DU(n=""){return me(n)&&n.length===1&&!!n.match(/\S| /)}function ln(n,t){if(t){let e=t.test(n);return t.lastIndex=0,e}return!1}function Si(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function jt(n){if(n&&/[\xC0-\xFF\u0100-\u017E]/.test(n)){let t={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let e in t)n=n.replace(t[e],e)}return n}function il(n){return Xt(n)?n.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():n}function Jf(n){return n==="auto"?0:typeof n=="number"?n:Number(n.replace(/[^\d.]/g,"").replace(",","."))*1e3}var sl={};function Aa(n="pui_id_"){return Object.hasOwn(sl,n)||(sl[n]=0),sl[n]++,`${n}${sl[n]}`}var UE=["*"],KR=(function(n){return n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",n})(KR||{}),kU=(()=>{class n{requireConfirmationSource=new Je;acceptConfirmationSource=new Je;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var lt=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),xU=(()=>{class n{static AND="and";static OR="or"}return n})(),LU=(()=>{class n{filter(e,r,i,s,o){let c=[];if(e)for(let u of e)for(let l of r){let h=tl(u,l);if(this.filters[s](h,i,o)){c.push(u);break}}return c}filters={startsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=jt(r.toString()).toLocaleLowerCase(i);return jt(e.toString()).toLocaleLowerCase(i).slice(0,s.length)===s},contains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=jt(r.toString()).toLocaleLowerCase(i);return jt(e.toString()).toLocaleLowerCase(i).indexOf(s)!==-1},notContains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=jt(r.toString()).toLocaleLowerCase(i);return jt(e.toString()).toLocaleLowerCase(i).indexOf(s)===-1},endsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=jt(r.toString()).toLocaleLowerCase(i),o=jt(e.toString()).toLocaleLowerCase(i);return o.indexOf(s,o.length-s.length)!==-1},equals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():e==r?!0:jt(e.toString()).toLocaleLowerCase(i)==jt(r.toString()).toLocaleLowerCase(i),notEquals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!1:e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():e==r?!1:jt(e.toString()).toLocaleLowerCase(i)!=jt(r.toString()).toLocaleLowerCase(i),in:(e,r)=>{if(r==null||r.length===0)return!0;for(let i=0;i<r.length;i++)if(Sa(e,r[i]))return!0;return!1},between:(e,r)=>r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1],lt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r,lte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r,gt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r,gte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r,is:(e,r,i)=>this.filters.equals(e,r,i),isNot:(e,r,i)=>this.filters.notEquals(e,r,i),before:(e,r,i)=>this.filters.lt(e,r,i),after:(e,r,i)=>this.filters.gt(e,r,i),dateIs:(e,r)=>r==null?!0:e==null?!1:e.toDateString()===r.toDateString(),dateIsNot:(e,r)=>r==null?!0:e==null?!1:e.toDateString()!==r.toDateString(),dateBefore:(e,r)=>r==null?!0:e==null?!1:e.getTime()<r.getTime(),dateAfter:(e,r)=>r==null?!0:e==null?!1:(e.setHours(0,0,0,0),e.getTime()>r.getTime())};register(e,r){this.filters[e]=r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FU=(()=>{class n{messageSource=new Je;clearSource=new Je;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),BE=(()=>{class n{clickSource=new Je;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["p-header"]],standalone:!1,ngContentSelectors:UE,decls:1,vars:0,template:function(r,i){r&1&&(Lt(),At(0))},encapsulation:2})}return n})(),UU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:UE,decls:1,vars:0,template:function(r,i){r&1&&(Lt(),At(0))},encapsulation:2})}return n})(),ol=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(z(zo))};static \u0275dir=Q({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),Pn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({imports:[Et]})}return n})(),BU=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var $E=()=>{};var HE=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},YR=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[e++],o=n[e++],c=n[e++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(e[h],e[p],e[m],e[v])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(HE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):YR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;let l=i<n.length?e[n.charAt(i)]:64;++i;let p=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Zf;let m=s<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},JR=function(n){let t=HE(n);return GE.encodeByteArray(t,!0)},Ra=function(n){return JR(n).replace(/\./g,"")},cl=function(n){try{return GE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XR=()=>qE().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&cl(n[1]);return t&&JSON.parse(t)},ul=()=>{try{return $E()||XR()||ZR()||e1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tp=n=>ul()?.emulatorHosts?.[n],ll=n=>{let t=tp(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},np=()=>ul()?.config,rp=n=>ul()?.[`_${n}`];var al=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function Nn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ds(n){return(await fetch(n,{credentials:"include"})).ok}function WE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=A({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ra(JSON.stringify(e)),Ra(JSON.stringify(o)),""].join(".")}var Da={};function t1(){let n={prod:[],emulator:[]};for(let t of Object.keys(Da))Da[t]?n.emulator.push(t):n.prod.push(t);return n}function n1(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var jE=!1;function Rs(n,t){if(typeof window>"u"||typeof document>"u"||!Nn(window.location.host)||Da[n]===t||Da[n]||jE)return;Da[n]=t;function e(m){return`__firebase__banner__${m}`}let r="__firebase__banner",s=t1().prod.length>0;function o(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jE=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=n1(r),v=e("text"),D=document.getElementById(v)||document.createElement("span"),N=e("learnmore"),S=document.getElementById(N)||document.createElement("a"),k=e("preprendIcon"),U=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let j=m.element;c(j),h(S,N);let Y=l();u(U,k),j.append(U,D,S,Y),document.body.appendChild(j)}s?(D.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function r1(){let n=ul()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YE(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XE(){let n=st();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZE(){return!r1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ip(){try{return typeof indexedDB=="object"}catch{return!1}}function ew(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}var i1="FirebaseError",Rt=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=i1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}},er=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?s1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Rt(i,c,r)}};function s1(n,t){return n.replace(o1,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var o1=/\{\$([^}]+)}/g;function tw(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function On(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let s=n[i],o=t[i];if(zE(s)&&zE(o)){if(!On(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function zE(n){return n!==null&&typeof n=="object"}function Pa(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ps(n){let t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Ns(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function nw(n,t){let e=new ep(n,t);return e.subscribe.bind(e)}var ep=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");a1(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=Xf),i.error===void 0&&(i.error=Xf),i.complete===void 0&&(i.complete=Xf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function a1(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Xf(){}var zU=14400*1e3;function Ne(n){return n&&n._delegate?n._delegate:n}var Pt=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Ai="[DEFAULT]";var sp=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new al;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){let e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u1(t))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ai){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ai){return this.instances.has(t)}getOptions(t=Ai){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,e){let r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c1(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ai){return this.component?this.component.multipleInstances?t:Ai:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c1(n){return n===Ai?void 0:n}function u1(n){return n.instantiationMode==="EAGER"}var dl=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new sp(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var l1=[],oe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(oe||{}),d1={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},h1=oe.INFO,f1={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},p1=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=f1[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},xr=class{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=p1,this._userLogHandler=null,l1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}};var g1=(n,t)=>t.some(e=>n instanceof e),rw,iw;function m1(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y1(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sw=new WeakMap,ap=new WeakMap,ow=new WeakMap,op=new WeakMap,up=new WeakMap;function v1(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Mn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&sw.set(e,n)}).catch(()=>{}),up.set(t,n),t}function _1(n){if(ap.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ap.set(n,t)}var cp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ap.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ow.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Mn(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function aw(n){cp=n(cp)}function b1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(hl(this),t,...e);return ow.set(r,t.sort?t.sort():[t]),Mn(r)}:y1().includes(n)?function(...t){return n.apply(hl(this),t),Mn(sw.get(this))}:function(...t){return Mn(n.apply(hl(this),t))}}function E1(n){return typeof n=="function"?b1(n):(n instanceof IDBTransaction&&_1(n),g1(n,m1())?new Proxy(n,cp):n)}function Mn(n){if(n instanceof IDBRequest)return v1(n);if(op.has(n))return op.get(n);let t=E1(n);return t!==n&&(op.set(n,t),up.set(t,n)),t}var hl=n=>up.get(n);function uw(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,t),c=Mn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mn(o.result),u.oldVersion,u.newVersion,Mn(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var w1=["get","getKey","getAll","getAllKeys","count"],I1=["put","add","delete","clear"],lp=new Map;function cw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(lp.get(t))return lp.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=I1.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w1.includes(e)))return;let s=async function(o,...c){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),i&&u.done]))[0]};return lp.set(t,s),s}aw(n=>ne(A({},n),{get:(t,e,r)=>cw(t,e)||n.get(t,e,r),has:(t,e)=>!!cw(t,e)||n.has(t,e)}));var hp=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(T1(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function T1(n){return n.getComponent()?.type==="VERSION"}var fp="@firebase/app",lw="0.14.6";var tr=new xr("@firebase/app"),C1="@firebase/app-compat",S1="@firebase/analytics-compat",A1="@firebase/analytics",D1="@firebase/app-check-compat",R1="@firebase/app-check",P1="@firebase/auth",N1="@firebase/auth-compat",O1="@firebase/database",M1="@firebase/data-connect",k1="@firebase/database-compat",x1="@firebase/functions",L1="@firebase/functions-compat",F1="@firebase/installations",V1="@firebase/installations-compat",U1="@firebase/messaging",B1="@firebase/messaging-compat",$1="@firebase/performance",j1="@firebase/performance-compat",z1="@firebase/remote-config",H1="@firebase/remote-config-compat",G1="@firebase/storage",q1="@firebase/storage-compat",W1="@firebase/firestore",K1="@firebase/ai",Q1="@firebase/firestore-compat",Y1="firebase",J1="12.6.0";var pp="[DEFAULT]",X1={[fp]:"fire-core",[C1]:"fire-core-compat",[A1]:"fire-analytics",[S1]:"fire-analytics-compat",[R1]:"fire-app-check",[D1]:"fire-app-check-compat",[P1]:"fire-auth",[N1]:"fire-auth-compat",[O1]:"fire-rtdb",[M1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[x1]:"fire-fn",[L1]:"fire-fn-compat",[F1]:"fire-iid",[V1]:"fire-iid-compat",[U1]:"fire-fcm",[B1]:"fire-fcm-compat",[$1]:"fire-perf",[j1]:"fire-perf-compat",[z1]:"fire-rc",[H1]:"fire-rc-compat",[G1]:"fire-gcs",[q1]:"fire-gcs-compat",[W1]:"fire-fst",[Q1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[Y1]:"fire-js-all"};var fl=new Map,Z1=new Map,gp=new Map;function dw(n,t){try{n.container.addComponent(t)}catch(e){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kn(n){let t=n.name;if(gp.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;gp.set(t,n);for(let e of fl.values())dw(e,n);for(let e of Z1.values())dw(e,n);return!0}function Di(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function It(n){return n==null?!1:n.settings!==void 0}var eP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new er("app","Firebase",eP);var mp=class{constructor(t,e,r){this._isDeleted=!1,this._options=A({},t),this._config=A({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};var Fr=J1;function _p(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=A({name:pp,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(e||(e=np()),!e)throw Lr.create("no-options");let s=fl.get(i);if(s){if(On(e,s.options)&&On(r,s.config))return s;throw Lr.create("duplicate-app",{appName:i})}let o=new dl(i);for(let u of gp.values())o.addComponent(u);let c=new mp(e,r,o);return fl.set(i,c),c}function Os(n=pp){let t=fl.get(n);if(!t&&n===pp&&np())return _p();if(!t)throw Lr.create("no-app",{appName:n});return t}function Nt(n,t,e){let r=X1[n]??n;e&&(r+=`-${e}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(o.join(" "));return}kn(new Pt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var tP="firebase-heartbeat-database",nP=1,Na="firebase-heartbeat-store",dp=null;function gw(){return dp||(dp=uw(tP,nP,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Na)}catch(e){console.warn(e)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),dp}async function rP(n){try{let e=(await gw()).transaction(Na),r=await e.objectStore(Na).get(mw(n));return await e.done,r}catch(t){if(t instanceof Rt)tr.warn(t.message);else{let e=Lr.create("idb-get",{originalErrorMessage:t?.message});tr.warn(e.message)}}}async function hw(n,t){try{let r=(await gw()).transaction(Na,"readwrite");await r.objectStore(Na).put(t,mw(n)),await r.done}catch(e){if(e instanceof Rt)tr.warn(e.message);else{let r=Lr.create("idb-set",{originalErrorMessage:e?.message});tr.warn(r.message)}}}function mw(n){return`${n.name}!${n.options.appId}`}var iP=1024,sP=30,yp=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new vp(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>sP){let i=aP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=fw(),{heartbeatsToSend:e,unsentEntries:r}=oP(this._heartbeatsCache.heartbeats),i=Ra(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return tr.warn(t),""}}};function fw(){return new Date().toISOString().substring(0,10)}function oP(n,t=iP){let e=[],r=n.slice();for(let i of n){let s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pw(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),pw(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var vp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ip()?ew().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await rP(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return hw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return hw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}};function pw(n){return Ra(JSON.stringify({version:2,heartbeats:n})).length}function aP(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function cP(n){kn(new Pt("platform-logger",t=>new hp(t),"PRIVATE")),kn(new Pt("heartbeat",t=>new yp(t),"PRIVATE")),Nt(fp,lw,n),Nt(fp,lw,"esm2020"),Nt("fire-js","")}cP("");var uP="firebase",lP="12.7.0";Nt(uP,lP,"app");var dP=Object.defineProperty,hP=Object.defineProperties,fP=Object.getOwnPropertyDescriptors,pl=Object.getOwnPropertySymbols,_w=Object.prototype.hasOwnProperty,bw=Object.prototype.propertyIsEnumerable,yw=(n,t,e)=>t in n?dP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,hn=(n,t)=>{for(var e in t||(t={}))_w.call(t,e)&&yw(n,e,t[e]);if(pl)for(var e of pl(t))bw.call(t,e)&&yw(n,e,t[e]);return n},bp=(n,t)=>hP(n,fP(t)),nr=(n,t)=>{var e={};for(var r in n)_w.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&pl)for(var r of pl(n))t.indexOf(r)<0&&bw.call(n,r)&&(e[r]=n[r]);return e};var pP=ME(),tt=pP,Oa=/{([^}]*)}/g,Ew=/(\d+\s+[\+\-\*\/]\s+\d+)/g,ww=/var\([^)]+\)/g;function vw(n){return Xt(n)?n.replace(/[A-Z]/g,(t,e)=>e===0?t:"."+t.toLowerCase()).toLowerCase():n}function gP(n){return Zn(n)&&n.hasOwnProperty("$value")&&n.hasOwnProperty("$type")?n.$value:n}function mP(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Ep(n="",t=""){return mP(`${Xt(n,!1)&&Xt(t,!1)?`${n}-`:n}${t}`)}function Iw(n="",t=""){return`--${Ep(n,t)}`}function yP(n=""){let t=(n.match(/{/g)||[]).length,e=(n.match(/}/g)||[]).length;return(t+e)%2!==0}function Tw(n,t="",e="",r=[],i){if(Xt(n)){let s=n.trim();if(yP(s))return;if(ln(s,Oa)){let o=s.replaceAll(Oa,c=>{let u=c.replace(/{|}/g,"").split(".").filter(l=>!r.some(h=>ln(l,h)));return`var(${Iw(e,il(u.join("-")))}${me(i)?`, ${i}`:""})`});return ln(o.replace(ww,"0"),Ew)?`calc(${o})`:o}return s}else if(VE(n))return n}function vP(n,t,e){Xt(t,!1)&&n.push(`${t}:${e};`)}function Ms(n,t){return n?`${n}{${t}}`:""}function Cw(n,t){if(n.indexOf("dt(")===-1)return n;function e(o,c){let u=[],l=0,h="",p=null,m=0;for(;l<=o.length;){let v=o[l];if((v==='"'||v==="'"||v==="`")&&o[l-1]!=="\\"&&(p=p===v?null:v),!p&&(v==="("&&m++,v===")"&&m--,(v===","||l===o.length)&&m===0)){let D=h.trim();D.startsWith("dt(")?u.push(Cw(D,c)):u.push(r(D)),h="",l++;continue}v!==void 0&&(h+=v),l++}return u}function r(o){let c=o[0];if((c==='"'||c==="'"||c==="`")&&o[o.length-1]===c)return o.slice(1,-1);let u=Number(o);return isNaN(u)?o:u}let i=[],s=[];for(let o=0;o<n.length;o++)if(n[o]==="d"&&n.slice(o,o+3)==="dt(")s.push(o),o+=2;else if(n[o]===")"&&s.length>0){let c=s.pop();s.length===0&&i.push([c,o])}if(!i.length)return n;for(let o=i.length-1;o>=0;o--){let[c,u]=i[o],l=n.slice(c+3,u),h=e(l,t),p=t(...h);n=n.slice(0,c)+p+n.slice(u+1)}return n}var Ip=n=>{var t;let e=Ae.getTheme(),r=wp(e,n,void 0,"variable"),i=(t=r?.match(/--[\w-]+/g))==null?void 0:t[0],s=wp(e,n,void 0,"value");return{name:i,variable:r,value:s}},rr=(...n)=>wp(Ae.getTheme(),...n),wp=(n={},t,e,r)=>{if(t){let{variable:i,options:s}=Ae.defaults||{},{prefix:o,transform:c}=n?.options||s||{},u=ln(t,Oa)?t:`{${t}}`;return r==="value"||Rn(r)&&c==="strict"?Ae.getTokenValue(t):Tw(u,void 0,o,[i.excludedKeyRegex],e)}return""};function ks(n,...t){if(n instanceof Array){let e=n.reduce((r,i,s)=>{var o;return r+i+((o=it(t[s],{dt:rr}))!=null?o:"")},"");return Cw(e,rr)}return it(n,{dt:rr})}function _P(n,t={}){let e=Ae.defaults.variable,{prefix:r=e.prefix,selector:i=e.selector,excludedKeyRegex:s=e.excludedKeyRegex}=t,o=[],c=[],u=[{node:n,path:r}];for(;u.length;){let{node:h,path:p}=u.pop();for(let m in h){let v=h[m],D=gP(v),N=ln(m,s)?Ep(p):Ep(p,il(m));if(Zn(D))u.push({node:D,path:N});else{let S=Iw(N),k=Tw(D,N,r,[s]);vP(c,S,k);let U=N;r&&U.startsWith(r+"-")&&(U=U.slice(r.length+1)),o.push(U.replace(/-/g,"."))}}}let l=c.join("");return{value:c,tokens:o,declarations:l,css:Ms(i,l)}}var dn={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n},:host${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:n,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){let t=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[n].flat().map(e=>{var r;return(r=t.map(i=>i.resolve(e)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(e)})}},_toVariables(n,t){return _P(n,{prefix:t?.prefix})},getCommon({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o,c,u,l,h,p;let{preset:m,options:v}=t,D,N,S,k,U,j,Y;if(me(m)&&v.transform!=="strict"){let{primitive:fe,semantic:ue,extend:E}=m,y=ue||{},{colorScheme:b}=y,I=nr(y,["colorScheme"]),w=E||{},{colorScheme:C}=w,_=nr(w,["colorScheme"]),je=b||{},{dark:Ot}=je,Qi=nr(je,["dark"]),Yi=C||{},{dark:jn}=Yi,zn=nr(Yi,["dark"]),Ji=me(fe)?this._toVariables({primitive:fe},v):{},ti=me(I)?this._toVariables({semantic:I},v):{},ni=me(Qi)?this._toVariables({light:Qi},v):{},mo=me(Ot)?this._toVariables({dark:Ot},v):{},ri=me(_)?this._toVariables({semantic:_},v):{},Xi=me(zn)?this._toVariables({light:zn},v):{},Zi=me(jn)?this._toVariables({dark:jn},v):{},[yo,vo]=[(s=Ji.declarations)!=null?s:"",Ji.tokens],[yc,vc]=[(o=ti.declarations)!=null?o:"",ti.tokens||[]],[nh,_c]=[(c=ni.declarations)!=null?c:"",ni.tokens||[]],[bc,_o]=[(u=mo.declarations)!=null?u:"",mo.tokens||[]],[Ec,rh]=[(l=ri.declarations)!=null?l:"",ri.tokens||[]],[bo,Eo]=[(h=Xi.declarations)!=null?h:"",Xi.tokens||[]],[wo,nt]=[(p=Zi.declarations)!=null?p:"",Zi.tokens||[]];D=this.transformCSS(n,yo,"light","variable",v,r,i),N=vo;let ct=this.transformCSS(n,`${yc}${nh}`,"light","variable",v,r,i),es=this.transformCSS(n,`${bc}`,"dark","variable",v,r,i);S=`${ct}${es}`,k=[...new Set([...vc,..._c,..._o])];let ih=this.transformCSS(n,`${Ec}${bo}color-scheme:light`,"light","variable",v,r,i),wc=this.transformCSS(n,`${wo}color-scheme:dark`,"dark","variable",v,r,i);U=`${ih}${wc}`,j=[...new Set([...rh,...Eo,...nt])],Y=it(m.css,{dt:rr})}return{primitive:{css:D,tokens:N},semantic:{css:S,tokens:k},global:{css:U,tokens:j},style:Y}},getPreset({name:n="",preset:t={},options:e,params:r,set:i,defaults:s,selector:o}){var c,u,l;let h,p,m;if(me(t)&&e.transform!=="strict"){let v=n.replace("-directive",""),D=t,{colorScheme:N,extend:S,css:k}=D,U=nr(D,["colorScheme","extend","css"]),j=S||{},{colorScheme:Y}=j,fe=nr(j,["colorScheme"]),ue=N||{},{dark:E}=ue,y=nr(ue,["dark"]),b=Y||{},{dark:I}=b,w=nr(b,["dark"]),C=me(U)?this._toVariables({[v]:hn(hn({},U),fe)},e):{},_=me(y)?this._toVariables({[v]:hn(hn({},y),w)},e):{},je=me(E)?this._toVariables({[v]:hn(hn({},E),I)},e):{},[Ot,Qi]=[(c=C.declarations)!=null?c:"",C.tokens||[]],[Yi,jn]=[(u=_.declarations)!=null?u:"",_.tokens||[]],[zn,Ji]=[(l=je.declarations)!=null?l:"",je.tokens||[]],ti=this.transformCSS(v,`${Ot}${Yi}`,"light","variable",e,i,s,o),ni=this.transformCSS(v,zn,"dark","variable",e,i,s,o);h=`${ti}${ni}`,p=[...new Set([...Qi,...jn,...Ji])],m=it(k,{dt:rr})}return{css:h,tokens:p,style:m}},getPresetC({name:n="",theme:t={},params:e,set:r,defaults:i}){var s;let{preset:o,options:c}=t,u=(s=o?.components)==null?void 0:s[n];return this.getPreset({name:n,preset:u,options:c,params:e,set:r,defaults:i})},getPresetD({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o;let c=n.replace("-directive",""),{preset:u,options:l}=t,h=((s=u?.components)==null?void 0:s[c])||((o=u?.directives)==null?void 0:o[c]);return this.getPreset({name:c,preset:h,options:l,params:e,set:r,defaults:i})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,t){var e;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?t.options.darkModeSelector:(e=n.darkModeSelector)!=null?e:t.options.darkModeSelector):[]},getLayerOrder(n,t={},e,r){let{cssLayer:i}=t;return i?`@layer ${it(i.order||i.name||"primeui",e)}`:""},getCommonStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){let o=this.getCommon({name:n,theme:t,params:e,set:i,defaults:s}),c=Object.entries(r).reduce((u,[l,h])=>u.push(`${l}="${h}"`)&&u,[]).join(" ");return Object.entries(o||{}).reduce((u,[l,h])=>{if(Zn(h)&&Object.hasOwn(h,"css")){let p=Si(h.css),m=`${l}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${m}" ${c}>${p}</style>`)}return u},[]).join("")},getStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){var o;let c={name:n,theme:t,params:e,set:i,defaults:s},u=(o=n.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:o.css,l=Object.entries(r).reduce((h,[p,m])=>h.push(`${p}="${m}"`)&&h,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${n}-variables" ${l}>${Si(u)}</style>`:""},createTokens(n={},t,e="",r="",i={}){let s=function(c,u={},l=[]){if(l.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:c,path:this.path,paths:u,value:void 0};l.push(this.path),u.name=this.path,u.binding||(u.binding={});let h=this.value;if(typeof this.value=="string"&&Oa.test(this.value)){let p=this.value.trim().replace(Oa,m=>{var v;let D=m.slice(1,-1),N=this.tokens[D];if(!N)return console.warn(`Token not found for path: ${D}`),"__UNRESOLVED__";let S=N.computed(c,u,l);return Array.isArray(S)&&S.length===2?`light-dark(${S[0].value},${S[1].value})`:(v=S?.value)!=null?v:"__UNRESOLVED__"});h=Ew.test(p.replace(ww,"0"))?`calc(${p})`:p}return Rn(u.binding)&&delete u.binding,l.pop(),{colorScheme:c,path:this.path,paths:u,value:h.includes("__UNRESOLVED__")?void 0:h}},o=(c,u,l)=>{Object.entries(c).forEach(([h,p])=>{let m=ln(h,t.variable.excludedKeyRegex)?u:u?`${u}.${vw(h)}`:vw(h),v=l?`${l}.${h}`:h;Zn(p)?o(p,m,v):(i[m]||(i[m]={paths:[],computed:(D,N={},S=[])=>{if(i[m].paths.length===1)return i[m].paths[0].computed(i[m].paths[0].scheme,N.binding,S);if(D&&D!=="none")for(let k=0;k<i[m].paths.length;k++){let U=i[m].paths[k];if(U.scheme===D)return U.computed(D,N.binding,S)}return i[m].paths.map(k=>k.computed(k.scheme,N[k.scheme],S))}}),i[m].paths.push({path:v,value:p,scheme:v.includes("colorScheme.light")?"light":v.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:i}))})};return o(n,e,r),i},getTokenValue(n,t,e){var r;let i=(c=>c.split(".").filter(u=>!ln(u.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(t),s=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,o=[(r=n[i])==null?void 0:r.computed(s)].flat().filter(c=>c);return o.length===1?o[0].value:o.reduce((c={},u)=>{let l=u,{colorScheme:h}=l,p=nr(l,["colorScheme"]);return c[h]=p,c},void 0)},getSelectorRule(n,t,e,r){return e==="class"||e==="attr"?Ms(me(t)?`${n}${t},${n} ${t}`:n,r):Ms(n,Ms(t??":root,:host",r))},transformCSS(n,t,e,r,i={},s,o,c){if(me(t)){let{cssLayer:u}=i;if(r!=="style"){let l=this.getColorSchemeOption(i,o);t=e==="dark"?l.reduce((h,{type:p,selector:m})=>(me(m)&&(h+=m.includes("[CSS]")?m.replace("[CSS]",t):this.getSelectorRule(m,c,p,t)),h),""):Ms(c??":root,:host",t)}if(u){let l={name:"primeui",order:"primeui"};Zn(u)&&(l.name=it(u.name,{name:n,type:r})),me(l.name)&&(t=Ms(`@layer ${l.name}`,t),s?.layerNames(l.name))}return t}return""}},Ae={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:t}=n;t&&(this._theme=bp(hn({},t),{options:hn(hn({},this.defaults.options),t.options)}),this._tokens=dn.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),tt.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=bp(hn({},this.theme),{preset:n}),this._tokens=dn.createTokens(n,this.defaults),this.clearLoadedStyleNames(),tt.emit("preset:change",n),tt.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=bp(hn({},this.theme),{options:n}),this.clearLoadedStyleNames(),tt.emit("options:change",n),tt.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return dn.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",t){return dn.getCommon({name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return dn.getPresetC(e)},getDirective(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return dn.getPresetD(e)},getCustomPreset(n="",t,e,r){let i={name:n,preset:t,options:this.options,selector:e,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return dn.getPreset(i)},getLayerOrderCSS(n=""){return dn.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",t,e="style",r){return dn.transformCSS(n,t,r,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",t,e={}){return dn.getCommonStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,t,e={}){return dn.getStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),tt.emit(`theme:${t}:load`,n),!this._loadingStyles.size&&tt.emit("theme:load"))}};var Sw=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    .p-collapsible-enter-active {
        animation: p-animate-collapsible-expand 0.2s ease-out;
        overflow: hidden;
    }

    .p-collapsible-leave-active {
        animation: p-animate-collapsible-collapse 0.2s ease-out;
        overflow: hidden;
    }

    @keyframes p-animate-collapsible-expand {
        from {
            grid-template-rows: 0fr;
        }
        to {
            grid-template-rows: 1fr;
        }
    }

    @keyframes p-animate-collapsible-collapse {
        from {
            grid-template-rows: 1fr;
        }
        to {
            grid-template-rows: 0fr;
        }
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: var(--px-mask-background, dt('mask.background'));
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter-active {
        animation: p-animate-overlay-mask-enter dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave-active {
        animation: p-animate-overlay-mask-leave dt('mask.transition.duration') forwards;
    }

    @keyframes p-animate-overlay-mask-enter {
        from {
            background: transparent;
        }
        to {
            background: var(--px-mask-background, dt('mask.background'));
        }
    }
    @keyframes p-animate-overlay-mask-leave {
        from {
            background: var(--px-mask-background, dt('mask.background'));
        }
        to {
            background: transparent;
        }
    }

    .p-anchored-overlay-enter-active {
        animation: p-animate-anchored-overlay-enter 300ms cubic-bezier(.19,1,.22,1);
    }

    .p-anchored-overlay-leave-active {
        animation: p-animate-anchored-overlay-leave 300ms cubic-bezier(.19,1,.22,1);
    }

    @keyframes p-animate-anchored-overlay-enter {
        from {
            opacity: 0;
            transform: scale(0.93);
        }
    }

    @keyframes p-animate-anchored-overlay-leave {
        to {
            opacity: 0;
            transform: scale(0.93);
        }
    }
`;var bP=0,Aw=(()=>{class n{document=P(ve);use(e,r={}){let i=!1,s=e,o=null,{immediate:c=!0,manual:u=!1,name:l=`style_${++bP}`,id:h=void 0,media:p=void 0,nonce:m=void 0,first:v=!1,props:D={}}=r;if(this.document){if(o=this.document.querySelector(`style[data-primeng-style-id="${l}"]`)||h&&this.document.getElementById(h)||this.document.createElement("style"),o){if(!o.isConnected){s=e;let N=this.document.head;OE(o,"nonce",m),v&&N.firstChild?N.insertBefore(o,N.firstChild):N.appendChild(o),Xu(o,{type:"text/css",media:p,nonce:m,"data-primeng-style-id":l})}o.textContent!==s&&(o.textContent=s)}return{id:h,name:l,el:o,css:s}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xs={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},EP=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: dt('scrollbar.width');
}
`,Fe=(()=>{class n{name="base";useStyle=P(Aw);css=void 0;style=void 0;classes={};inlineStyles={};load=(e,r={},i=s=>s)=>{let s=i(ks`${it(e,{dt:rr})}`);return s?this.useStyle.use(Si(s),A({name:this.name},r)):{}};loadCSS=(e={})=>this.load(this.css,e);loadStyle=(e={},r="")=>this.load(this.style,e,(i="")=>Ae.transformCSS(e.name||this.name,`${i}${ks`${r}`}`));loadBaseCSS=(e={})=>this.load(EP,e);loadBaseStyle=(e={},r="")=>this.load(Sw,e,(i="")=>Ae.transformCSS(e.name||this.name,`${i}${ks`${r}`}`));getCommonTheme=e=>Ae.getCommon(this.name,e);getComponentTheme=e=>Ae.getComponent(this.name,e);getPresetTheme=(e,r,i)=>Ae.getCustomPreset(this.name,e,r,i);getLayerOrderThemeCSS=()=>Ae.getLayerOrderCSS(this.name);getStyleSheet=(e="",r={})=>{if(this.css){let i=it(this.css,{dt:rr}),s=Si(ks`${i}${e}`),o=Object.entries(r).reduce((c,[u,l])=>c.push(`${u}="${l}"`)&&c,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${o}>${s}</style>`}return""};getCommonThemeStyleSheet=(e,r={})=>Ae.getCommonStyleSheet(this.name,e,r);getThemeStyleSheet=(e,r={})=>{let i=[Ae.getStyleSheet(this.name,e,r)];if(this.style){let s=this.name==="base"?"global-style":`${this.name}-style`,o=ks`${it(this.style,{dt:rr})}`,c=Si(Ae.transformCSS(s,o)),u=Object.entries(r).reduce((l,[h,p])=>l.push(`${h}="${p}"`)&&l,[]).join(" ");i.push(`<style type="text/css" data-primeng-style-id="${s}" ${u}>${c}</style>`)}return i.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wP=(()=>{class n{theme=le(void 0);csp=le({nonce:void 0});isThemeChanged=!1;document=P(ve);baseStyle=P(Fe);constructor(){De(()=>{tt.on("theme:change",e=>{Xe(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),De(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){Ae.clearLoadedStyleNames(),tt.clear()}onThemeChange(e){Ae.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!Ae.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.baseStyle.getCommonTheme?.()||{},o={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,A({name:"primitive-variables"},o)),this.baseStyle.load(r?.css,A({name:"semantic-variables"},o)),this.baseStyle.load(i?.css,A({name:"global-variables"},o)),this.baseStyle.loadBaseStyle(A({name:"global-style"},o),s),Ae.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:r,csp:i}=e||{};r&&this.theme.set(r),i&&this.csp.set(i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tp=(()=>{class n extends wP{ripple=le(!1);platformId=P(bn);inputStyle=le(null);inputVariant=le(null);overlayAppendTo=le("self");overlayOptions={};csp=le({nonce:void 0});unstyled=le(void 0);pt=le(void 0);ptOptions=le(void 0);filterMatchModeOptions={text:[lt.STARTS_WITH,lt.CONTAINS,lt.NOT_CONTAINS,lt.ENDS_WITH,lt.EQUALS,lt.NOT_EQUALS],numeric:[lt.EQUALS,lt.NOT_EQUALS,lt.LESS_THAN,lt.LESS_THAN_OR_EQUAL_TO,lt.GREATER_THAN,lt.GREATER_THAN_OR_EQUAL_TO],date:[lt.DATE_IS,lt.DATE_IS_NOT,lt.DATE_BEFORE,lt.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",completed:"Completed",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize",minimizeLabel:"Minimize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Je;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=A(A({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:r,ripple:i,inputStyle:s,inputVariant:o,theme:c,overlayOptions:u,translation:l,filterMatchModeOptions:h,overlayAppendTo:p,zIndex:m,ptOptions:v,pt:D,unstyled:N}=e||{};r&&this.csp.set(r),p&&this.overlayAppendTo.set(p),i&&this.ripple.set(i),s&&this.inputStyle.set(s),o&&this.inputVariant.set(o),u&&(this.overlayOptions=u),l&&this.setTranslation(l),h&&(this.filterMatchModeOptions=h),m&&(this.zIndex=m),D&&this.pt.set(D),v&&this.ptOptions.set(v),N&&this.unstyled.set(N),c&&this.setThemeConfig({theme:c,csp:r})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IP=new $("PRIME_NG_CONFIG");function jB(...n){let t=n?.map(r=>({provide:IP,useValue:r,multi:!1})),e=Go(()=>{let r=P(Tp);n?.forEach(i=>r.setConfig(i))});return Cr([...t,e])}var Dw=(()=>{class n extends Fe{name="common";static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dt=new $("PARENT_INSTANCE"),Ve=(()=>{class n{document=P(ve);platformId=P(bn);el=P(pt);injector=P(Wn);cd=P(En);renderer=P(St);config=P(Tp);$parentInstance=P(dt,{optional:!0,skipSelf:!0})??void 0;baseComponentStyle=P(Dw);baseStyle=P(Fe);scopedStyleEl;parent=this.$params.parent;cn=Mr;_themeScopedListener;dt=x();unstyled=x();pt=x();ptOptions=x();$attrSelector=Aa("pc");get $name(){return this.componentName||this.constructor?.name?.replace(/^_/,"")||"UnknownComponent"}get $hostName(){return this.hostName}get $el(){return this.el?.nativeElement}directivePT=le(void 0);directiveUnstyled=le(void 0);$unstyled=_e(()=>this.unstyled()??this.directiveUnstyled()??this.config?.unstyled()??!1);$pt=_e(()=>it(this.pt()||this.directivePT(),this.$params));get $globalPT(){return this._getPT(this.config?.pt(),void 0,e=>it(e,this.$params))}get $defaultPT(){return this._getPT(this.config?.pt(),void 0,e=>this._getOptionValue(e,this.$hostName||this.$name,this.$params)||it(e,this.$params))}get $style(){return A(A({theme:void 0,css:void 0,classes:void 0,inlineStyles:void 0},(this._getHostInstance(this)||{}).$style),this._componentStyle)}get $styleOptions(){return{nonce:this.config?.csp().nonce}}get $params(){let e=this._getHostInstance(this)||this.$parentInstance;return{instance:this,parent:{instance:e}}}onInit(){}onChanges(e){}onDoCheck(){}onAfterContentInit(){}onAfterContentChecked(){}onAfterViewInit(){}onAfterViewChecked(){}onDestroy(){}constructor(){De(e=>{this.document&&!Yh(this.platformId)&&(tt.off("theme:change",this._themeScopedListener),this.dt()?(this._loadScopedThemeStyles(this.dt()),this._themeScopedListener=()=>this._loadScopedThemeStyles(this.dt()),this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()),e(()=>{tt.off("theme:change",this._themeScopedListener)})}),De(e=>{this.document&&!Yh(this.platformId)&&(tt.off("theme:change",this._loadCoreStyles),this.$unstyled()||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))),e(()=>{tt.off("theme:change",this._loadCoreStyles)})}),this._hook("onBeforeInit")}ngOnInit(){this._loadCoreStyles(),this._loadStyles(),this.onInit(),this._hook("onInit")}ngOnChanges(e){this.onChanges(e),this._hook("onChanges",e)}ngDoCheck(){this.onDoCheck(),this._hook("onDoCheck")}ngAfterContentInit(){this.onAfterContentInit(),this._hook("onAfterContentInit")}ngAfterContentChecked(){this.onAfterContentChecked(),this._hook("onAfterContentChecked")}ngAfterViewInit(){this.$el?.setAttribute(this.$attrSelector,""),this.onAfterViewInit(),this._hook("onAfterViewInit")}ngAfterViewChecked(){this.onAfterViewChecked(),this._hook("onAfterViewChecked")}ngOnDestroy(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this.onDestroy(),this._hook("onDestroy")}_mergeProps(e,...r){return nl(e)?e(...r):Kf(...r)}_getHostInstance(e){return e?this.$hostName?this.$name===this.$hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0}_getPropValue(e){return this[e]||this._getHostInstance(this)?.[e]}_getOptionValue(e,r="",i={}){return rl(e,r,i)}_hook(e,...r){if(!this.$hostName){let i=this._usePT(this._getPT(this.$pt(),this.$name),this._getOptionValue,`hooks.${e}`),s=this._useDefaultPT(this._getOptionValue,`hooks.${e}`);i?.(...r),s?.(...r)}}_load(){xs.isStyleNameLoaded("base")||(this.baseStyle.loadBaseCSS(this.$styleOptions),this._loadGlobalStyles(),xs.setLoadedStyleName("base")),this._loadThemeStyles()}_loadStyles(){this._load(),this._themeChangeListener(()=>this._load())}_loadGlobalStyles(){let e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);me(e)&&this.baseStyle.load(e,A({name:"global"},this.$styleOptions))}_loadCoreStyles(){!xs.isStyleNameLoaded(this.$style?.name)&&this.$style?.name&&(this.baseComponentStyle.loadCSS(this.$styleOptions),this.$style.loadCSS(this.$styleOptions),xs.setLoadedStyleName(this.$style.name))}_loadThemeStyles(){if(!(this.$unstyled()||this.config?.theme()==="none")){if(!Ae.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.$style?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,A({name:"primitive-variables"},this.$styleOptions)),this.baseStyle.load(r?.css,A({name:"semantic-variables"},this.$styleOptions)),this.baseStyle.load(i?.css,A({name:"global-variables"},this.$styleOptions)),this.baseStyle.loadBaseStyle(A({name:"global-style"},this.$styleOptions),s),Ae.setLoadedStyleName("common")}if(!Ae.isStyleNameLoaded(this.$style?.name)&&this.$style?.name){let{css:e,style:r}=this.$style?.getComponentTheme?.()||{};this.$style?.load(e,A({name:`${this.$style?.name}-variables`},this.$styleOptions)),this.$style?.loadStyle(A({name:`${this.$style?.name}-style`},this.$styleOptions),r),Ae.setLoadedStyleName(this.$style?.name)}if(!Ae.isStyleNameLoaded("layer-order")){let e=this.$style?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,A({name:"layer-order",first:!0},this.$styleOptions)),Ae.setLoadedStyleName("layer-order")}}}_loadScopedThemeStyles(e){let{css:r}=this.$style?.getPresetTheme?.(e,`[${this.$attrSelector}]`)||{},i=this.$style?.load(r,A({name:`${this.$attrSelector}-${this.$style?.name}`},this.$styleOptions));this.scopedStyleEl=i?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){xs.clearLoadedStyleNames(),tt.on("theme:change",e.bind(this))}_removeThemeListeners(){tt.off("theme:change",this._loadCoreStyles),tt.off("theme:change",this._load),tt.off("theme:change",this._themeScopedListener)}_getPTValue(e={},r="",i={},s=!0){let o=/./g.test(r)&&!!i[r.split(".")[0]],{mergeSections:c=!0,mergeProps:u=!1}=this._getPropValue("ptOptions")?.()||this.config?.ptOptions?.()||{},l=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,h=o?void 0:this._usePT(this._getPT(e,this.$hostName||this.$name),this._getPTClassValue,r,ne(A({},i),{global:l||{}})),p=this._getPTDatasets(r);return c||!c&&h?u?this._mergeProps(u,l,h,p):A(A(A({},l),h),p):A(A({},h),p)}_getPTDatasets(e=""){let r="data-pc-",i=e==="root"&&me(this.$pt()?.["data-pc-section"]);return e!=="transition"&&ne(A({},e==="root"&&ne(A({[`${r}name`]:kr(i?this.$pt()?.["data-pc-section"]:this.$name)},i&&{[`${r}extend`]:kr(this.$name)}),{[`${this.$attrSelector}`]:""})),{[`${r}section`]:kr(e.includes(".")?e.split(".").at(-1)??"":e)})}_getPTClassValue(e,r,i){let s=this._getOptionValue(e,r,i);return Xt(s)||Yf(s)?{class:s}:s}_getPT(e,r="",i){let s=(o,c=!1)=>{let u=i?i(o):o,l=kr(r),h=kr(this.$hostName||this.$name);return(c?l!==h?u?.[l]:void 0:u?.[l])??u};return e?.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)}_usePT(e,r,i,s){let o=c=>r?.call(this,c,i,s);if(e?.hasOwnProperty("_usept")){let{mergeSections:c=!0,mergeProps:u=!1}=e._usept||this.config?.ptOptions()||{},l=o(e.originalValue),h=o(e.value);return l===void 0&&h===void 0?void 0:Xt(h)?h:Xt(l)?l:c||!c&&h?u?this._mergeProps(u,l,h):A(A({},l),h):h}return o(e)}_useGlobalPT(e,r,i){return this._usePT(this.$globalPT,e,r,i)}_useDefaultPT(e,r,i){return this._usePT(this.$defaultPT,e,r,i)}ptm(e="",r={}){return this._getPTValue(this.$pt(),e,A(A({},this.$params),r))}ptms(e,r={}){return e.reduce((i,s)=>(i=Kf(i,this.ptm(s,r))||{},i),{})}ptmo(e={},r="",i={}){return this._getPTValue(e,r,A({instance:this},i),!1)}cx(e,r={}){return this.$unstyled()?void 0:Mr(this._getOptionValue(this.$style.classes,e,A(A({},this.$params),r)))}sx(e="",r=!0,i={}){if(r){let s=this._getOptionValue(this.$style.inlineStyles,e,A(A({},this.$params),i)),o=this._getOptionValue(this.baseComponentStyle.inlineStyles,e,A(A({},this.$params),i));return A(A({},o),s)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,inputs:{dt:[1,"dt"],unstyled:[1,"unstyled"],pt:[1,"pt"],ptOptions:[1,"ptOptions"]},features:[Se([Dw,Fe]),kt]})}return n})();var Cp=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,r){e&&r&&(e.classList?e.classList.add(r):e.className+=" "+r)}static addMultipleClasses(e,r){if(e&&r)if(e.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)e.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)e.className+=" "+i[s]}}static removeClass(e,r){e&&r&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,r){e&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,r){return e&&r?e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(r){return r!==e})}static find(e,r){return Array.from(e.querySelectorAll(r))}static findSingle(e,r){return this.isElement(e)?e.querySelector(r):null}static index(e){let r=e.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==e)return i;r[s].nodeType==1&&i++}return-1}static indexWithinGroup(e,r){let i=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==e)return s;i[o].attributes&&i[o].attributes[r]&&i[o].nodeType==1&&s++}return-1}static appendOverlay(e,r,i="self"){i!=="self"&&e&&r&&this.appendChild(e,r)}static alignOverlay(e,r,i="self",s=!0){e&&r&&(s&&(e.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(e,r):this.absolutePosition(e,r))}static relativePosition(e,r,i=!0){let s=j=>{if(j)return getComputedStyle(j).getPropertyValue("position")==="relative"?j:s(j.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=r.offsetHeight,u=r.getBoundingClientRect(),l=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),v=s(e)?.getBoundingClientRect()||{top:-1*l,left:-1*h},D,N,S="top";u.top+c+o.height>p.height?(D=u.top-v.top-o.height,S="bottom",u.top+D<0&&(D=-1*u.top)):(D=c+u.top-v.top,S="top");let k=u.left+o.width-p.width,U=u.left-v.left;if(o.width>p.width?N=(u.left-v.left)*-1:k>0?N=U-k:N=u.left-v.left,e.style.top=D+"px",e.style.left=N+"px",e.style.transformOrigin=S,i){let j=Ta(/-anchor-gutter$/)?.value;e.style.marginTop=S==="bottom"?`calc(${j??"2px"} * -1)`:j??""}}static absolutePosition(e,r,i=!0){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,c=s.width,u=r.offsetHeight,l=r.offsetWidth,h=r.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),v=this.getViewport(),D,N;h.top+u+o>v.height?(D=h.top+p-o,e.style.transformOrigin="bottom",D<0&&(D=p)):(D=u+h.top+p,e.style.transformOrigin="top"),h.left+c>v.width?N=Math.max(0,h.left+m+l-c):N=h.left+m,e.style.top=D+"px",e.style.left=N+"px",i&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,r=[]){return e.parentNode===null?r:this.getParents(e.parentNode,r.concat([e.parentNode]))}static getScrollableParents(e){let r=[];if(e){let i=this.getParents(e),s=/(auto|scroll)/,o=c=>{let u=window.getComputedStyle(c,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let c of i){let u=c.nodeType===1&&c.dataset.scrollselectors;if(u){let l=u.split(",");for(let h of l){let p=this.findSingle(c,h);p&&o(p)&&r.push(p)}}c.nodeType!==9&&o(c)&&r.push(c)}}return r}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementDimensions(e){let r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}static scrollInView(e,r){let i=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),c=o?parseFloat(o):0,u=e.getBoundingClientRect(),h=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-c,p=e.scrollTop,m=e.clientHeight,v=this.getOuterHeight(r);h<0?e.scrollTop=p+h:h+v>m&&(e.scrollTop=p+h-m+v)}static fadeIn(e,r){e.style.opacity=0;let i=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,e.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame?window.requestAnimationFrame(o):setTimeout(o,16))};o()}static fadeOut(e,r){var i=1,s=50,o=r,c=s/o;let u=setInterval(()=>{i=i-c,i<=0&&(i=0,clearInterval(u)),e.style.opacity=i},s)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,r){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(e,r)}static getOuterWidth(e,r){let i=e.offsetWidth;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(e){let r=getComputedStyle(e);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(e){let r=getComputedStyle(e);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(e,r){let i=e.offsetHeight;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let e=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=e.innerWidth||i.clientWidth||s.clientWidth,c=e.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:c}}static getOffset(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,r){let i=e.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,r=e.indexOf("MSIE ");if(r>0)return!0;var i=e.indexOf("Trident/");if(i>0){var s=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,r){if(this.isElement(r))r.appendChild(e);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(e);else throw"Cannot append "+r+" to "+e}static removeChild(e,r){if(this.isElement(r))r.removeChild(e);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+r}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode?.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let r=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(e,r,i){e[r].apply(e,i)}static clearSelection(){if(window.getSelection&&window.getSelection())window.getSelection()?.empty?window.getSelection()?.empty():window.getSelection()?.removeAllRanges&&(window.getSelection()?.rangeCount||0)>0&&(window.getSelection()?.getRangeAt(0)?.getClientRects()?.length||0)>0&&window.getSelection()?.removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,r){e&&document.activeElement!==e&&e.focus(r)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,r=""){let i=this.find(e,this.getFocusableSelectorString(r)),s=[];for(let o of i){let c=getComputedStyle(o);this.isVisible(o)&&c.display!="none"&&c.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(e,r=""){let i=this.findSingle(e,this.getFocusableSelectorString(r));if(i){let s=getComputedStyle(i);if(this.isVisible(i)&&s.display!="none"&&s.visibility!="hidden")return i}return null}static getFirstFocusableElement(e,r=""){let i=this.getFocusableElements(e,r);return i.length>0?i[0]:null}static getLastFocusableElement(e,r){let i=this.getFocusableElements(e,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(e,r=!1){let i=n.getFocusableElements(e),s=0;if(i&&i.length>0){let o=i.indexOf(i[0].ownerDocument.activeElement);r?o==-1||o===0?s=i.length-1:s=o-1:o!=-1&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection()?.toString():document.getSelection?document.getSelection()?.toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,r){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement?.parentElement;default:let i=typeof e;if(i==="string")return document.querySelector(e);if(i==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(c=>!!(c&&c.constructor&&c.call&&c.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,r){if(e){let i=e.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,r={},...i){if(e){let s=document.createElement(e);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(e,r="",i){this.isElement(e)&&i!==null&&i!==void 0&&e.setAttribute(r,i)}static setAttributes(e,r={}){if(this.isElement(e)){let i=(s,o)=>{let c=e?.$attrs?.[s]?[e?.$attrs?.[s]]:[];return[o].flat().reduce((u,l)=>{if(l!=null){let h=typeof l;if(h==="string"||h==="number")u.push(l);else if(h==="object"){let p=Array.isArray(l)?i(s,l):Object.entries(l).map(([m,v])=>s==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(r).forEach(([s,o])=>{if(o!=null){let c=s.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),o):s==="pBind"?this.setAttributes(e,o):(o=s==="class"?[...new Set(i("class",o))].join(" ").trim():s==="style"?i("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[s]=o),e.setAttribute(s,o))}})}}static isFocusableElement(e,r=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})();function i$(){EE({variableName:Ip("scrollbar.width").name})}function s$(){wE({variableName:Ip("scrollbar.width").name})}var gl=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Cp.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Rw=(()=>{class n extends Ve{autofocus=!1;focused=!1;platformId=P(bn);document=P(ve);host=P(pt);onAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}onAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Dr(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=Cp.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[0,"pAutoFocus","autofocus"]},features:[re]})}return n})();var he=(()=>{class n{el;renderer;pBind=x(void 0);_attrs=le(void 0);attrs=_e(()=>this._attrs()||this.pBind());styles=_e(()=>this.attrs()?.style);classes=_e(()=>Mr(this.attrs()?.class));listeners=[];constructor(e,r){this.el=e,this.renderer=r,De(()=>{let c=this.attrs()||{},{style:i,class:s}=c,o=is(c,["style","class"]);for(let[u,l]of Object.entries(o))if(u.startsWith("on")&&typeof l=="function"){let h=u.slice(2).toLowerCase();if(!this.listeners.some(p=>p.eventName===h)){let p=this.renderer.listen(this.el.nativeElement,h,l);this.listeners.push({eventName:h,unlisten:p})}}else l==null?this.renderer.removeAttribute(this.el.nativeElement,u):(this.renderer.setAttribute(this.el.nativeElement,u,l.toString()),u in this.el.nativeElement&&(this.el.nativeElement[u]=l))})}ngOnDestroy(){this.clearListeners()}setAttrs(e){Sa(this._attrs(),e)||this._attrs.set(e)}clearListeners(){this.listeners.forEach(({unlisten:e})=>e()),this.listeners=[]}static \u0275fac=function(r){return new(r||n)(z(pt),z(St))};static \u0275dir=Q({type:n,selectors:[["","pBind",""]],hostVars:4,hostBindings:function(r,i){r&2&&(Wc(i.styles()),$e(i.classes()))},inputs:{pBind:[1,"pBind"]}})}return n})(),ml=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({})}return n})();var Pw=`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`;var TP=`
    ${Pw}

    /* For PrimeNG (directive)*/
    .p-overlay-badge {
        position: relative;
    }

    .p-overlay-badge > .p-badge {
        position: absolute;
        top: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
    }
`,CP={root:({instance:n})=>{let t=typeof n.value=="function"?n.value():n.value,e=typeof n.size=="function"?n.size():n.size,r=typeof n.badgeSize=="function"?n.badgeSize():n.badgeSize,i=typeof n.severity=="function"?n.severity():n.severity;return["p-badge p-component",{"p-badge-circle":me(t)&&String(t).length===1,"p-badge-dot":Rn(t),"p-badge-sm":e==="small"||r==="small","p-badge-lg":e==="large"||r==="large","p-badge-xl":e==="xlarge"||r==="xlarge","p-badge-info":i==="info","p-badge-success":i==="success","p-badge-warn":i==="warn","p-badge-danger":i==="danger","p-badge-secondary":i==="secondary","p-badge-contrast":i==="contrast"}]}},Nw=(()=>{class n extends Fe{name="badge";style=TP;classes=CP;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var Ow=new $("BADGE_INSTANCE");var Sp=(()=>{class n extends Ve{$pcBadge=P(Ow,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass=x();badgeSize=x();size=x();severity=x();value=x();badgeDisabled=x(!1,{transform:se});_componentStyle=P(Nw);get dataP(){return this.cn({circle:this.value()!=null&&String(this.value()).length===1,empty:this.value()==null,disabled:this.badgeDisabled(),[this.severity()]:this.severity(),[this.size()]:this.size()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["p-badge"]],hostVars:5,hostBindings:function(r,i){r&2&&(bt("data-p",i.dataP),$e(i.cn(i.cx("root"),i.styleClass())),f_("display",i.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[Se([Nw,{provide:Ow,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re],decls:1,vars:1,template:function(r,i){r&1&&Kc(0),r&2&&Qc(i.value())},dependencies:[Et,Pn,ml],encapsulation:2,changeDetection:0})}return n})(),Mw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({imports:[Sp,Pn,Pn]})}return n})();var AP=["*"],DP={root:"p-fluid"},kw=(()=>{class n extends Fe{name="fluid";classes=DP;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var xw=new $("FLUID_INSTANCE"),Ri=(()=>{class n extends Ve{$pcFluid=P(xw,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=P(kw);static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(r,i){r&2&&$e(i.cx("root"))},features:[Se([kw,{provide:xw,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re],ngContentSelectors:AP,decls:1,vars:0,template:function(r,i){r&1&&(Lt(),At(0))},dependencies:[Et],encapsulation:2,changeDetection:0})}return n})();var RP=["*"],PP=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
    flex-shrink: 0;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Lw=(()=>{class n extends Fe{name="baseicon";css=PP;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yl=(()=>{class n extends Ve{spin=!1;_componentStyle=P(Lw);getClassNames(){return Mr("p-icon",{"p-icon-spin":this.spin})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["ng-component"]],hostAttrs:["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],hostVars:2,hostBindings:function(r,i){r&2&&$e(i.getClassNames())},inputs:{spin:[2,"spin","spin",se]},features:[Se([Lw]),re],ngContentSelectors:RP,decls:1,vars:0,template:function(r,i){r&1&&(Lt(),At(0))},encapsulation:2,changeDetection:0})}return n})();var NP=["data-p-icon","spinner"],Fw=(()=>{class n extends yl{pathId;onInit(){this.pathId="url(#"+Aa()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["","data-p-icon","spinner"]],features:[re],attrs:NP,decls:5,vars:2,consts:[["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(os(),kh(0,"g"),Wo(1,"path",0),xh(),kh(2,"defs")(3,"clipPath",1),Wo(4,"rect",2),xh()()),r&2&&(bt("clip-path",i.pathId),ze(3),u_("id",i.pathId))},encapsulation:2})}return n})();var OP=["data-p-icon","times"],c4=(()=>{class n extends yl{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["","data-p-icon","times"]],features:[re],attrs:OP,decls:1,vars:0,consts:[["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(os(),Wo(0,"path",0))},encapsulation:2})}return n})();var Vw=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`;var MP=`
    ${Vw}

    /* For PrimeNG */
    .p-ripple {
        overflow: hidden;
        position: relative;
    }

    .p-ripple-disabled .p-ink {
        display: none !important;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,kP={root:"p-ink"},Uw=(()=>{class n extends Fe{name="ripple";style=MP;classes=kP;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var Bw=(()=>{class n extends Ve{zone=P(nn);_componentStyle=P(Uw);animationListener;mouseDownListener;timeout;constructor(){super(),De(()=>{Dr(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}onAfterViewInit(){}onMouseDown(e){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(!this.$unstyled()&&$t(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"),!Hf(r)&&!qf(r)){let c=Math.max(Ju(this.el.nativeElement),Gf(this.el.nativeElement));r.style.height=c+"px",r.style.width=c+"px"}let i=RE(this.el.nativeElement),s=e.pageX-i.left+this.document.body.scrollTop-qf(r)/2,o=e.pageY-i.top+this.document.body.scrollLeft-Hf(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),!this.$unstyled()&&Bt(r,"p-ink-active"),r.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&(!this.$unstyled()&&$t(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"))},401)}getInk(){let e=this.el.nativeElement.children;for(let r=0;r<e.length;r++)if(typeof e[r].className=="string"&&e[r].className.indexOf("p-ink")!==-1)return e[r];return null}resetInk(){let e=this.getInk();e&&(!this.$unstyled()&&$t(e,"p-ink-active"),e.setAttribute("data-p-ink-active","false"))}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),!this.$unstyled()&&$t(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"data-p-ink","true"),this.renderer.setAttribute(e,"data-p-ink-active","false"),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,NE(e))}onDestroy(){this.config&&this.config.ripple()&&this.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[Se([Uw]),re]})}return n})();var $w=`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-icon-only::after {
        content: "\0A0";
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;var xP=["content"],LP=["loadingicon"],FP=["icon"],VP=["*"],Kw=(n,t)=>({class:n,pt:t});function UP(n,t){n&1&&Ko(0)}function BP(n,t){if(n&1&&gi(0,"span",7),n&2){let e=xe(3);$e(e.cn(e.cx("loadingIcon"),"pi-spin",e.loadingIcon||(e.buttonProps==null?null:e.buttonProps.loadingIcon))),Ce("pBind",e.ptm("loadingIcon")),bt("aria-hidden",!0)}}function $P(n,t){if(n&1&&(os(),gi(0,"svg",8)),n&2){let e=xe(3);$e(e.cn(e.cx("loadingIcon"),e.cx("spinnerIcon"))),Ce("pBind",e.ptm("loadingIcon"))("spin",!0),bt("aria-hidden",!0)}}function jP(n,t){if(n&1&&(Gc(0),rn(1,BP,1,4,"span",3)(2,$P,1,5,"svg",6),qc()),n&2){let e=xe(2);ze(),Ce("ngIf",e.loadingIcon||(e.buttonProps==null?null:e.buttonProps.loadingIcon)),ze(),Ce("ngIf",!(e.loadingIcon||e.buttonProps!=null&&e.buttonProps.loadingIcon))}}function zP(n,t){}function HP(n,t){if(n&1&&rn(0,zP,0,0,"ng-template",9),n&2){let e=xe(2);Ce("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function GP(n,t){if(n&1&&(Gc(0),rn(1,jP,3,2,"ng-container",2)(2,HP,1,1,null,5),qc()),n&2){let e=xe();ze(),Ce("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),ze(),Ce("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Lh(3,Kw,e.cx("loadingIcon"),e.ptm("loadingIcon")))}}function qP(n,t){if(n&1&&gi(0,"span",7),n&2){let e=xe(2);$e(e.cn(e.cx("icon"),e.icon||(e.buttonProps==null?null:e.buttonProps.icon))),Ce("pBind",e.ptm("icon")),bt("data-p",e.dataIconP)}}function WP(n,t){}function KP(n,t){if(n&1&&rn(0,WP,0,0,"ng-template",9),n&2){let e=xe(2);Ce("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function QP(n,t){if(n&1&&(Gc(0),rn(1,qP,1,4,"span",3)(2,KP,1,1,null,5),qc()),n&2){let e=xe();ze(),Ce("ngIf",(e.icon||(e.buttonProps==null?null:e.buttonProps.icon))&&!e.iconTemplate&&!e._iconTemplate),ze(),Ce("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Lh(3,Kw,e.cx("icon"),e.ptm("icon")))}}function YP(n,t){if(n&1&&(pi(0,"span",7),Kc(1),qo()),n&2){let e=xe();$e(e.cx("label")),Ce("pBind",e.ptm("label")),bt("aria-hidden",(e.icon||(e.buttonProps==null?null:e.buttonProps.icon))&&!(e.label||e.buttonProps!=null&&e.buttonProps.label))("data-p",e.dataLabelP),ze(),Qc(e.label||(e.buttonProps==null?null:e.buttonProps.label))}}function JP(n,t){if(n&1&&gi(0,"p-badge",10),n&2){let e=xe();Ce("value",e.badge||(e.buttonProps==null?null:e.buttonProps.badge))("severity",e.badgeSeverity||(e.buttonProps==null?null:e.buttonProps.badgeSeverity))("pt",e.ptm("pcBadge"))("unstyled",e.unstyled())}}var XP={root:({instance:n})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!n.label&&!n.buttonProps?.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading||n.buttonProps?.loading,"p-button-link":n.link||n.buttonProps?.link,[`p-button-${n.severity||n.buttonProps?.severity}`]:n.severity||n.buttonProps?.severity,"p-button-raised":n.raised||n.buttonProps?.raised,"p-button-rounded":n.rounded||n.buttonProps?.rounded,"p-button-text":n.text||n.variant==="text"||n.buttonProps?.text||n.buttonProps?.variant==="text","p-button-outlined":n.outlined||n.variant==="outlined"||n.buttonProps?.outlined||n.buttonProps?.variant==="outlined","p-button-sm":n.size==="small"||n.buttonProps?.size==="small","p-button-lg":n.size==="large"||n.buttonProps?.size==="large","p-button-plain":n.plain||n.buttonProps?.plain,"p-button-fluid":n.hasFluid}],loadingIcon:"p-button-loading-icon",icon:({instance:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos||n.buttonProps?.iconPos}`]:n.label||n.buttonProps?.label,"p-button-icon-left":(n.iconPos==="left"||n.buttonProps?.iconPos==="left")&&n.label||n.buttonProps?.label,"p-button-icon-right":(n.iconPos==="right"||n.buttonProps?.iconPos==="right")&&n.label||n.buttonProps?.label,"p-button-icon-top":(n.iconPos==="top"||n.buttonProps?.iconPos==="top")&&n.label||n.buttonProps?.label,"p-button-icon-bottom":(n.iconPos==="bottom"||n.buttonProps?.iconPos==="bottom")&&n.label||n.buttonProps?.label},n.icon,n.buttonProps?.icon],spinnerIcon:({instance:n})=>Object.entries(n.cx("icon")).filter(([,t])=>!!t).reduce((t,[e])=>t+` ${e}`,"p-button-loading-icon"),label:"p-button-label"},Fs=(()=>{class n extends Fe{name="button";style=$w;classes=XP;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var jw=new $("BUTTON_INSTANCE"),zw=new $("BUTTON_DIRECTIVE_INSTANCE"),Hw=new $("BUTTON_LABEL_INSTANCE"),Gw=new $("BUTTON_ICON_INSTANCE"),Vr={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},qw=(()=>{class n extends Ve{ptButtonLabel=x();pButtonLabelPT=x();pButtonLabelUnstyled=x();$pcButtonLabel=P(Hw,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});constructor(){super(),De(()=>{let e=this.ptButtonLabel()||this.pButtonLabelPT();e&&this.directivePT.set(e)}),De(()=>{this.pButtonLabelUnstyled()&&this.directiveUnstyled.set(this.pButtonLabelUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,i){r&2&&mi("p-button-label",!i.$unstyled()&&!0)},inputs:{ptButtonLabel:[1,"ptButtonLabel"],pButtonLabelPT:[1,"pButtonLabelPT"],pButtonLabelUnstyled:[1,"pButtonLabelUnstyled"]},features:[Se([Fs,{provide:Hw,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re]})}return n})(),Ww=(()=>{class n extends Ve{ptButtonIcon=x();pButtonIconPT=x();pButtonUnstyled=x();$pcButtonIcon=P(Gw,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});constructor(){super(),De(()=>{let e=this.ptButtonIcon()||this.pButtonIconPT();e&&this.directivePT.set(e)}),De(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,i){r&2&&mi("p-button-icon",!i.$unstyled()&&!0)},inputs:{ptButtonIcon:[1,"ptButtonIcon"],pButtonIconPT:[1,"pButtonIconPT"],pButtonUnstyled:[1,"pButtonUnstyled"]},features:[Se([Fs,{provide:Gw,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re]})}return n})(),G4=(()=>{class n extends Ve{$pcButtonDirective=P(zw,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});_componentStyle=P(Fs);ptButtonDirective=x();pButtonPT=x();pButtonUnstyled=x();hostName="";onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}constructor(){super(),De(()=>{let e=this.ptButtonDirective()||this.pButtonPT();e&&this.directivePT.set(e)}),De(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())}),De(()=>{let e=this.$unstyled();this.initialized&&e&&this.setStyleClass()})}text=!1;plain=!1;raised=!1;size;outlined=!1;rounded=!1;iconPos="left";loadingIcon;fluid=x(void 0,{transform:se});iconSignal=Fh(Ww);labelSignal=Fh(qw);isIconOnly=_e(()=>!!(!this.labelSignal()&&this.iconSignal()));_label;_icon;_loading=!1;_severity;_buttonProps;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Vr);pcFluid=P(Ri,{optional:!0,host:!0,skipSelf:!0});isTextButton=_e(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}get severity(){return this._severity}set severity(e){this._severity=e,this.initialized&&this.setStyleClass()}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;onAfterViewInit(){!this.$unstyled()&&Bt(this.htmlElement,this.getStyleClass().join(" ")),Dr(this.platformId)&&(this.createIcon(),this.createLabel(),this.initialized=!0)}getStyleClass(){let e=[Vr.button,Vr.component];return this.icon&&!this.label&&Rn(this.htmlElement.textContent)&&e.push(Vr.iconOnly),this.loading&&(e.push(Vr.disabled,Vr.loading),!this.icon&&this.label&&e.push(Vr.labelOnly),this.icon&&!this.label&&!Rn(this.htmlElement.textContent)&&e.push(Vr.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),this.hasFluid&&e.push("p-button-fluid"),this.$unstyled()?[]:e}get hasFluid(){return this.fluid()??!!this.pcFluid}setStyleClass(){let e=this.getStyleClass();this.removeExistingSeverityClass(),this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}removeExistingSeverityClass(){let e=["success","info","warn","danger","help","primary","secondary","contrast"],r=this.htmlElement.classList.value.split(" ").find(i=>e.some(s=>i===`p-button-${s}`));r&&this.htmlElement.classList.remove(r)}createLabel(){if(!As(this.htmlElement,'[data-pc-section="buttonlabel"]')&&this.label){let r=Zu("span",{class:this.cx("label"),"p-bind":this.ptm("buttonlabel"),"aria-hidden":this.icon&&!this.label?"true":null});r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!As(this.htmlElement,'[data-pc-section="buttonicon"]')&&(this.icon||this.loading)){let r=this.label&&!this.$unstyled()?"p-button-icon-"+this.iconPos:null,i=!this.$unstyled()&&this.getIconClass(),s=Zu("span",{class:this.cn(this.cx("icon"),r,i),"aria-hidden":"true","p-bind":this.ptm("buttonicon")});!this.loadingIcon&&this.loading&&(s.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(s,this.htmlElement.firstChild)}}updateLabel(){let e=As(this.htmlElement,'[data-pc-section="buttonlabel"]');if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=As(this.htmlElement,'[data-pc-section="buttonicon"]'),r=As(this.htmlElement,'[data-pc-section="buttonlabel"]');this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e&&!this.$unstyled()?this.iconPos?e.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}onDestroy(){this.initialized=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","pButton",""]],contentQueries:function(r,i,s){r&1&&d_(s,i.iconSignal,Ww,5)(s,i.labelSignal,qw,5),r&2&&h_(2)},hostVars:4,hostBindings:function(r,i){r&2&&mi("p-button-icon-only",!i.$unstyled()&&i.isIconOnly())("p-button-text",!i.$unstyled()&&i.isTextButton())},inputs:{ptButtonDirective:[1,"ptButtonDirective"],pButtonPT:[1,"pButtonPT"],pButtonUnstyled:[1,"pButtonUnstyled"],hostName:"hostName",text:[2,"text","text",se],plain:[2,"plain","plain",se],raised:[2,"raised","raised",se],size:"size",outlined:[2,"outlined","outlined",se],rounded:[2,"rounded","rounded",se],iconPos:"iconPos",loadingIcon:"loadingIcon",fluid:[1,"fluid"],label:"label",icon:"icon",loading:"loading",buttonProps:"buttonProps",severity:"severity"},features:[Se([Fs,{provide:zw,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re]})}return n})(),ZP=(()=>{class n extends Ve{hostName="";$pcButton=P(jw,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});_componentStyle=P(Fs);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}type="button";badge;disabled;raised=!1;rounded=!1;text=!1;plain=!1;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;iconPos="left";icon;label;loading=!1;loadingIcon;severity;buttonProps;fluid=x(void 0,{transform:se});onClick=new pe;onFocus=new pe;onBlur=new pe;contentTemplate;loadingIconTemplate;iconTemplate;templates;pcFluid=P(Ri,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}get hasIcon(){return this.icon||this.buttonProps?.icon||this.iconTemplate||this._iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate}_contentTemplate;_iconTemplate;_loadingIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}get dataP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge,loading:this.loading,fluid:this.hasFluid,rounded:this.rounded,raised:this.raised,outlined:this.outlined||this.variant==="outlined",text:this.text||this.variant==="text",link:this.link,vertical:(this.iconPos==="top"||this.iconPos==="bottom")&&this.label})}get dataIconP(){return this.cn({[this.iconPos]:this.iconPos,[this.size]:this.size})}get dataLabelP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(r&1&&ls(s,xP,5)(s,LP,5)(s,FP,5)(s,ol,4),r&2){let o;Kt(o=Qt())&&(i.contentTemplate=o.first),Kt(o=Qt())&&(i.loadingIconTemplate=o.first),Kt(o=Qt())&&(i.iconTemplate=o.first),Kt(o=Qt())&&(i.templates=o)}},inputs:{hostName:"hostName",type:"type",badge:"badge",disabled:[2,"disabled","disabled",se],raised:[2,"raised","raised",se],rounded:[2,"rounded","rounded",se],text:[2,"text","text",se],plain:[2,"plain","plain",se],outlined:[2,"outlined","outlined",se],link:[2,"link","link",se],tabindex:[2,"tabindex","tabindex",Vh],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",se],iconPos:"iconPos",icon:"icon",label:"label",loading:[2,"loading","loading",se],loadingIcon:"loadingIcon",severity:"severity",buttonProps:"buttonProps",fluid:[1,"fluid"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Se([Fs,{provide:jw,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re],ngContentSelectors:VP,decls:7,vars:17,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","pAutoFocus","pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"value","severity","pt","unstyled",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","spinner",3,"class","pBind","spin",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"pBind","spin"],[3,"ngIf"],[3,"value","severity","pt","unstyled"]],template:function(r,i){r&1&&(Lt(),pi(0,"button",0),xt("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),At(1),rn(2,UP,1,0,"ng-container",1)(3,GP,3,6,"ng-container",2)(4,QP,3,6,"ng-container",2)(5,YP,2,6,"span",3)(6,JP,1,4,"p-badge",4),qo()),r&2&&($e(i.cn(i.cx("root"),i.styleClass,i.buttonProps==null?null:i.buttonProps.styleClass)),Ce("ngStyle",i.style||(i.buttonProps==null?null:i.buttonProps.style))("disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("pAutoFocus",i.autofocus||(i.buttonProps==null?null:i.buttonProps.autofocus))("pBind",i.ptm("root")),bt("type",i.type||(i.buttonProps==null?null:i.buttonProps.type))("aria-label",i.ariaLabel||(i.buttonProps==null?null:i.buttonProps.ariaLabel))("tabindex",i.tabindex||(i.buttonProps==null?null:i.buttonProps.tabindex))("data-p",i.dataP)("data-p-disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("data-p-severity",i.severity||(i.buttonProps==null?null:i.buttonProps.severity)),ze(2),Ce("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),ze(),Ce("ngIf",i.loading||(i.buttonProps==null?null:i.buttonProps.loading)),ze(),Ce("ngIf",!(i.loading||i.buttonProps!=null&&i.buttonProps.loading)),ze(),Ce("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.label||(i.buttonProps==null?null:i.buttonProps.label))),ze(),Ce("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.badge||(i.buttonProps==null?null:i.buttonProps.badge))))},dependencies:[Et,ea,ta,Wh,Bw,Rw,Fw,Mw,Sp,Pn,he],encapsulation:2,changeDetection:0})}return n})(),q4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({imports:[Et,ZP,Pn,Pn]})}return n})();var i0=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(z(St),z(pt))};static \u0275dir=Q({type:n})}return n})(),eN=(()=>{class n extends i0{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275dir=Q({type:n,features:[re]})}return n})(),Op=new $("");var tN={provide:Op,useExisting:$o(()=>s0),multi:!0};function nN(){let n=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var rN=new $(""),s0=(()=>{class n extends i0{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!nN())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(z(St),z(pt),z(rN,8))};static \u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&xt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Se([tN]),re]})}return n})();function Mp(n){return n==null||kp(n)===0}function kp(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var xp=new $(""),Lp=new $(""),iN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qw=class{static min(t){return sN(t)}static max(t){return oN(t)}static required(t){return aN(t)}static requiredTrue(t){return cN(t)}static email(t){return uN(t)}static minLength(t){return lN(t)}static maxLength(t){return dN(t)}static pattern(t){return hN(t)}static nullValidator(t){return o0()}static compose(t){return h0(t)}static composeAsync(t){return p0(t)}};function sN(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function oN(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function aN(n){return Mp(n.value)?{required:!0}:null}function cN(n){return n.value===!0?null:{required:!0}}function uN(n){return Mp(n.value)||iN.test(n.value)?null:{email:!0}}function lN(n){return t=>{let e=t.value?.length??kp(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function dN(n){return t=>{let e=t.value?.length??kp(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function hN(n){if(!n)return o0;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Mp(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function o0(n){return null}function a0(n){return n!=null}function c0(n){return Ho(n)?ft(n):n}function u0(n){let t={};return n.forEach(e=>{t=e!=null?A(A({},t),e):t}),Object.keys(t).length===0?null:t}function l0(n,t){return t.map(e=>e(n))}function fN(n){return!n.validate}function d0(n){return n.map(t=>fN(t)?t:e=>t.validate(e))}function h0(n){if(!n)return null;let t=n.filter(a0);return t.length==0?null:function(e){return u0(l0(e,t))}}function f0(n){return n!=null?h0(d0(n)):null}function p0(n){if(!n)return null;let t=n.filter(a0);return t.length==0?null:function(e){let r=l0(e,t).map(c0);return jv(r).pipe(Me(u0))}}function g0(n){return n!=null?p0(d0(n)):null}function Yw(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function m0(n){return n._rawValidators}function y0(n){return n._rawAsyncValidators}function Ap(n){return n?Array.isArray(n)?n:[n]:[]}function _l(n,t){return Array.isArray(n)?n.includes(t):n===t}function Jw(n,t){let e=Ap(t);return Ap(n).forEach(i=>{_l(e,i)||e.push(i)}),e}function Xw(n,t){return Ap(t).filter(e=>!_l(n,e))}var bl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=f0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=g0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Pi=class extends bl{name;get formDirective(){return null}get path(){return null}},ir=class extends bl{_parent=null;name=null;valueAccessor=null},El=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var lj=(()=>{class n extends El{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(z(ir,2))};static \u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[re]})}return n})(),dj=(()=>{class n extends El{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(z(Pi,10))};static \u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[re]})}return n})();var Ma="VALID",vl="INVALID",Vs="PENDING",ka="DISABLED",Ur=class{},wl=class extends Ur{value;source;constructor(t,e){super(),this.value=t,this.source=e}},xa=class extends Ur{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},La=class extends Ur{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Us=class extends Ur{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Dp=class extends Ur{source;constructor(t){super(),this.source=t}},Va=class extends Ur{source;constructor(t){super(),this.source=t}};function Fp(n){return(Sl(n)?n.validators:n)||null}function pN(n){return Array.isArray(n)?f0(n):n||null}function Vp(n,t){return(Sl(t)?t.asyncValidators:n)||null}function gN(n){return Array.isArray(n)?g0(n):n||null}function Sl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function v0(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new W(1e3,"");if(!r[e])throw new W(1001,"")}function _0(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new W(1002,"")})}var Bs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Xe(this.statusReactive)}set status(t){Xe(()=>this.statusReactive.set(t))}_status=_e(()=>this.statusReactive());statusReactive=le(void 0);get valid(){return this.status===Ma}get invalid(){return this.status===vl}get pending(){return this.status==Vs}get disabled(){return this.status===ka}get enabled(){return this.status!==ka}errors;get pristine(){return Xe(this.pristineReactive)}set pristine(t){Xe(()=>this.pristineReactive.set(t))}_pristine=_e(()=>this.pristineReactive());pristineReactive=le(!0);get dirty(){return!this.pristine}get touched(){return Xe(this.touchedReactive)}set touched(t){Xe(()=>this.touchedReactive.set(t))}_touched=_e(()=>this.touchedReactive());touchedReactive=le(!1);get untouched(){return!this.touched}_events=new Je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Jw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Jw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xw(t,this._rawAsyncValidators))}hasValidator(t){return _l(this._rawValidators,t)}hasAsyncValidator(t){return _l(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ne(A({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new La(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new La(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ne(A({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new xa(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new xa(!0,r))}markAsPending(t={}){this.status=Vs;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Us(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ne(A({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ka,this.errors=null,this._forEachChild(i=>{i.disable(ne(A({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wl(this.value,r)),this._events.next(new Us(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(A({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ma,this._forEachChild(r=>{r.enable(ne(A({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ne(A({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ma||this.status===Vs)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wl(this.value,e)),this._events.next(new Us(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ne(A({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ka:Ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=c0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Us(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?ka:this.errors?vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(vl)?vl:Ma}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new xa(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new La(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=pN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=gN(this._rawAsyncValidators)}},Il=class extends Bs{constructor(t,e,r){super(Fp(e),Vp(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){_0(this,!0,t),Object.keys(t).forEach(r=>{v0(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,ne(A({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Va(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Rp=class extends Il{};var Al=new $("",{factory:()=>Dl}),Dl="always";function b0(n,t){return[...t.path,n]}function Pp(n,t,e=Dl){Up(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),yN(n,t),_N(n,t),vN(n,t),mN(n,t)}function Zw(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Cl(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Tl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function mN(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Up(n,t){let e=m0(n);t.validator!==null?n.setValidators(Yw(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=y0(n);t.asyncValidator!==null?n.setAsyncValidators(Yw(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Tl(t._rawValidators,i),Tl(t._rawAsyncValidators,i)}function Cl(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=m0(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let i=y0(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Tl(t._rawValidators,r),Tl(t._rawAsyncValidators,r),e}function yN(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&E0(n,t)})}function vN(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&E0(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function E0(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _N(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function bN(n,t){n==null,Up(n,t)}function EN(n,t){return Cl(n,t)}function w0(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function wN(n){return Object.getPrototypeOf(n.constructor)===eN}function IN(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function I0(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(s=>{s.constructor===s0?e=s:wN(s)?r=s:i=s}),i||r||e||null}function TN(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function e0(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function t0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Fa=class extends Bs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Fp(e),Vp(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(t0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Va(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){e0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){e0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){t0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var CN=n=>n instanceof Fa;var SN={provide:ir,useExisting:$o(()=>AN)},n0=Promise.resolve(),AN=(()=>{class n extends ir{_changeDetectorRef;callSetDisabledState;control=new Fa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pe;constructor(e,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=I0(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),w0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){n0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&se(r);n0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?b0(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(z(Pi,9),z(xp,10),z(Lp,10),z(Op,10),z(En,8),z(Al,8))};static \u0275dir=Q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Se([SN]),re,kt]})}return n})();var fj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Np=class extends Bs{constructor(t,e,r){super(Fp(e),Vp(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){_0(this,!1,t),t.forEach((r,i)=>{v0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],ne(A({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Va(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var DN=(()=>{class n extends Pi{callSetDisabledState;get submitted(){return Xe(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=_e(()=>this._submittedReactive());_submittedReactive=le(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Cl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Pp(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Zw(e.control||null,e,!1),TN(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,r){this.form.get(e.path).setValue(r)}onReset(){this.resetForm()}resetForm(e=void 0,r={}){this.form.reset(e,r),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,IN(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Dp(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Zw(r||null,e),CN(i)&&(Pp(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);bN(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&EN(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Up(this.form,this),this._oldForm&&Cl(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(z(xp,10),z(Lp,10),z(Al,8))};static \u0275dir=Q({type:n,features:[re,kt]})}return n})();var T0=new $("");var RN={provide:ir,useExisting:$o(()=>PN)},PN=(()=>{class n extends ir{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new pe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=I0(this,s)}ngOnChanges(e){this._added||this._setUpControl(),w0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return b0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(z(Pi,13),z(xp,10),z(Lp,10),z(Op,10),z(T0,8))};static \u0275dir=Q({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Se([RN]),re,kt]})}return n})();var NN={provide:Pi,useExisting:$o(()=>ON)},ON=(()=>{class n extends DN{form=null;ngSubmit=new pe;get control(){return this.form}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&xt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Se([NN]),re]})}return n})();var C0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({})}return n})();function r0(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var pj=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),s={};return r0(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Il(i,s)}record(e,r=null){let i=this._reduceControls(e);return new Rp(i,r)}control(e,r,i){let s={};return this.useNonNullable?(r0(r)?s=r:(s.validators=r,s.asyncValidators=i),new Fa(e,ne(A({},s),{nonNullable:!0}))):new Fa(e,r,i)}array(e,r,i){let s=e.map(o=>this._createControl(o));return new Np(s,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof Fa)return e;if(e instanceof Bs)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(r,i,s)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Al,useValue:e.callSetDisabledState??Dl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({imports:[C0]})}return n})(),mj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:T0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Al,useValue:e.callSetDisabledState??Dl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({imports:[C0]})}return n})();var Rl=(()=>{class n extends Ve{modelValue=le(void 0);$filled=_e(()=>me(this.modelValue()));writeModelValue(e){this.modelValue.set(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275dir=Q({type:n,features:[re]})}return n})();var S0=`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`;var MN=`
    ${S0}

    /* For PrimeNG */
   .p-inputtext.ng-invalid.ng-dirty {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.ng-invalid.ng-dirty::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,kN={root:({instance:n})=>["p-inputtext p-component",{"p-filled":n.$filled(),"p-inputtext-sm":n.pSize==="small","p-inputtext-lg":n.pSize==="large","p-invalid":n.invalid(),"p-variant-filled":n.$variant()==="filled","p-inputtext-fluid":n.hasFluid}]},A0=(()=>{class n extends Fe{name="inputtext";style=MN;classes=kN;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var D0=new $("INPUTTEXT_INSTANCE"),Vj=(()=>{class n extends Rl{hostName="";ptInputText=x();pInputTextPT=x();pInputTextUnstyled=x();bindDirectiveInstance=P(he,{self:!0});$pcInputText=P(D0,{optional:!0,skipSelf:!0})??void 0;ngControl=P(ir,{optional:!0,self:!0});pcFluid=P(Ri,{optional:!0,host:!0,skipSelf:!0});pSize;variant=x();fluid=x(void 0,{transform:se});invalid=x(void 0,{transform:se});$variant=_e(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());_componentStyle=P(A0);constructor(){super(),De(()=>{let e=this.ptInputText()||this.pInputTextPT();e&&this.directivePT.set(e)}),De(()=>{this.pInputTextUnstyled()&&this.directiveUnstyled.set(this.pInputTextUnstyled())})}onAfterViewInit(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value),this.cd.detectChanges()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}onDoCheck(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}get hasFluid(){return this.fluid()??!!this.pcFluid}get dataP(){return this.cn({invalid:this.invalid(),fluid:this.hasFluid,filled:this.$variant()==="filled",[this.pSize]:this.pSize})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","pInputText",""]],hostVars:3,hostBindings:function(r,i){r&1&&xt("input",function(){return i.onInput()}),r&2&&(bt("data-p",i.dataP),$e(i.cx("root")))},inputs:{hostName:"hostName",ptInputText:[1,"ptInputText"],pInputTextPT:[1,"pInputTextPT"],pInputTextUnstyled:[1,"pInputTextUnstyled"],pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},features:[Se([A0,{provide:D0,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re]})}return n})(),Uj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({})}return n})();function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var q0=G0,W0=new er("auth","Firebase",G0());var xl=new xr("@firebase/auth");function xN(n,...t){xl.logLevel<=oe.WARN&&xl.warn(`Auth (${Fr}): ${n}`,...t)}function Nl(n,...t){xl.logLevel<=oe.ERROR&&xl.error(`Auth (${Fr}): ${n}`,...t)}function Ln(n,...t){throw ug(n,...t)}function Ni(n,...t){return ug(n,...t)}function K0(n,t,e){let r=ne(A({},q0()),{[t]:e});return new er("auth","Firebase",r).create(t,{appName:n.name})}function jr(n){return K0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ug(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return W0.create(n,...t)}function q(n,t,...e){if(!n)throw ug(t,...e)}function sr(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Nl(t),new Error(t)}function zr(n,t){n||sr(t)}function zp(){return typeof self<"u"&&self.location?.href||""}function LN(){return R0()==="http:"||R0()==="https:"}function R0(){return typeof self<"u"&&self.location?.protocol||null}function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LN()||YE()||"connection"in navigator)?navigator.onLine:!0}function VN(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Oi=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,zr(e>t,"Short delay should be less than long delay!"),this.isMobile=KE()||JE()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lg(n,t){zr(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Ll=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var UN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new Oi(3e4,6e4);function ki(n,t){return n.tenantId&&!t.tenantId?ne(A({},t),{tenantId:n.tenantId}):t}async function Hr(n,t,e,r,i={}){return Q0(n,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});let c=Pa(A({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=A({method:t,headers:u},s);return QE()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Nn(n.emulatorConfig.host)&&(l.credentials="include"),Ll.fetch()(await Y0(n,n.config.apiHost,e,c),l)})}async function Q0(n,t,e){n._canInitEmulator=!1;let r=A(A({},UN),t);try{let i=new Hp(n),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Pl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Pl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Pl(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw K0(n,h,l);Ln(n,h)}}catch(i){if(i instanceof Rt)throw i;Ln(n,"network-request-failed",{message:String(i)})}}async function Wl(n,t,e,r,i={}){let s=await Hr(n,t,e,r,i);return"mfaPendingCredential"in s&&Ln(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Y0(n,t,e,r){let i=`${t}${e}?${r}`,s=n,o=s.config.emulator?lg(n.config,i):`${n.config.apiScheme}://${i}`;return BN.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function jN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Hp=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),$N.get())})}};function Pl(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=Ni(n,t,r);return i.customData._tokenResponse=e,i}function P0(n){return n!==void 0&&n.enterprise!==void 0}var Gp=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return jN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function zN(n,t){return Hr(n,"GET","/v2/recaptchaConfig",ki(n,t))}async function HN(n,t){return Hr(n,"POST","/v1/accounts:delete",t)}async function Fl(n,t){return Hr(n,"POST","/v1/accounts:lookup",t)}function Ba(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function J0(n,t=!1){let e=Ne(n),r=await e.getIdToken(t),i=dg(r);q(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ba(Bp(i.auth_time)),issuedAtTime:Ba(Bp(i.iat)),expirationTime:Ba(Bp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Bp(n){return Number(n)*1e3}function dg(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Nl("JWT malformed, contained fewer than 3 sections"),null;try{let i=cl(e);return i?JSON.parse(i):(Nl("Failed to decode base64 JWT payload"),null)}catch(i){return Nl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function N0(n){let t=dg(n);return q(t,"internal-error"),q(typeof t.exp<"u","internal-error"),q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ja(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Rt&&GN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qp=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var za=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Vl(n){let t=n.auth,e=await n.getIdToken(),r=await ja(n,Fl(t,{idToken:e}));q(r?.users.length,t,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?Z0(i.providerUserInfo):[],o=qN(n.providerData,s),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!o?.length,l=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new za(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function X0(n){let t=Ne(n);await Vl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qN(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Z0(n){return n.map(r=>{var i=r,{providerId:t}=i,e=is(i,["providerId"]);return{providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}})}async function WN(n,t){let e=await Q0(n,{},async()=>{let r=Pa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await Y0(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Nn(n.emulatorConfig.host)&&(u.credentials="include"),Ll.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function KN(n,t){return Hr(n,"POST","/v2/accounts:revokeToken",ki(n,t))}var $a=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){q(t.idToken,"internal-error"),q(typeof t.idToken<"u","internal-error"),q(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):N0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){q(t.length!==0,"internal-error");let e=N0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){let{accessToken:r,refreshToken:i,expiresIn:s}=await WN(t,e);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new n;return r&&(q(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return sr("not implemented")}};function Br(n,t){q(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var $r=class n{constructor(s){var o=s,{uid:t,auth:e,stsTokenManager:r}=o,i=is(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new za(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){let e=await ja(this,this.stsTokenManager.getToken(this.auth,t));return q(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return J0(this,t)}reload(){return X0(this)}_assign(t){this!==t&&(q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>A({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(ne(A({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Vl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(jr(this.auth));let t=await this.getIdToken();return await ja(this,HN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ne(A({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>A({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){let r=e.displayName??void 0,i=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,c=e.tenantId??void 0,u=e._redirectEventId??void 0,l=e.createdAt??void 0,h=e.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:v,providerData:D,stsTokenManager:N}=e;q(p&&N,t,"internal-error");let S=$a.fromJSON(this.name,N);q(typeof p=="string",t,"internal-error"),Br(r,t.name),Br(i,t.name),q(typeof m=="boolean",t,"internal-error"),q(typeof v=="boolean",t,"internal-error"),Br(s,t.name),Br(o,t.name),Br(c,t.name),Br(u,t.name),Br(l,t.name),Br(h,t.name);let k=new n({uid:p,auth:t,email:i,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:l,lastLoginAt:h});return D&&Array.isArray(D)&&(k.providerData=D.map(U=>A({},U))),u&&(k._redirectEventId=u),k}static async _fromIdTokenResponse(t,e,r=!1){let i=new $a;i.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Vl(s),s}static async _fromGetAccountInfoResponse(t,e,r){let i=e.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Z0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new $a;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u}};var O0=new Map;function or(n){zr(n instanceof Function,"Expected a class definition");let t=O0.get(n);return t?(zr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,O0.set(n,t),t)}var QN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){let r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),Wp=QN;function Ol(n,t,e){return`firebase:${n}:${t}:${e}`}var Ul=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ol(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ol("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){let t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=await Fl(this.auth,{idToken:t}).catch(()=>{});return e?$r._fromGetAccountInfoResponse(this.auth,e,t):null}return $r._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;let e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new n(or(Wp),t,r);let i=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),s=i[0]||or(Wp),o=Ol(r,t.config.apiKey,t.name),c=null;for(let l of e)try{let h=await l._get(o);if(h){let p;if(typeof h=="string"){let m=await Fl(t,{idToken:h}).catch(()=>{});if(!m)break;p=await $r._fromGetAccountInfoResponse(t,m,h)}else p=$r._fromJSON(t,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,t,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new n(s,t,r))}};function M0(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sI(t))return"Blackberry";if(oI(t))return"Webos";if(tI(t))return"Safari";if((t.includes("chrome/")||nI(t))&&!t.includes("edge/"))return"Chrome";if(iI(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function eI(n=st()){return/firefox\//i.test(n)}function tI(n=st()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nI(n=st()){return/crios\//i.test(n)}function rI(n=st()){return/iemobile/i.test(n)}function iI(n=st()){return/android/i.test(n)}function sI(n=st()){return/blackberry/i.test(n)}function oI(n=st()){return/webos/i.test(n)}function hg(n=st()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YN(n=st()){return hg(n)&&!!window.navigator?.standalone}function JN(){return XE()&&document.documentMode===10}function aI(n=st()){return hg(n)||iI(n)||oI(n)||sI(n)||/windows phone/i.test(n)||rI(n)}function cI(n,t=[]){let e;switch(n){case"Browser":e=M0(st());break;case"Worker":e=`${M0(st())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fr}/${r}`}var Kp=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=s=>new Promise((o,c)=>{try{let u=t(s);o(u)}catch(u){c(u)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function XN(n,t={}){return Hr(n,"GET","/v2/passwordPolicy",ki(n,t))}var ZN=6,Qp=class{constructor(t){let e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??ZN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Yp=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new Kp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=or(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ul.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{let e=await Fl(this,{idToken:t}),r=await $r._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(It(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let e=await this.assertedPersistence.getCurrentUser(),r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!s||s===o)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Vl(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(It(this.app))return Promise.reject(jr(this));let e=t?Ne(t):null;return e&&q(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return It(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let t=await XN(this),e=new Qp(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new er("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){let e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await KN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){let r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){let e=t&&or(t)||this._popupRedirectResolver;q(e,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[or(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let u=t.addObserver(e,r,i);return()=>{o=!0,u()}}else{let u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xN(`Error while retrieving App Check token: ${t.error}`),t?.token}};function $s(n){return Ne(n)}var Bl=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=nw(e=>this.observer=e)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eO(n){Kl=n}function uI(n){return Kl.loadJS(n)}function tO(){return Kl.recaptchaEnterpriseScript}function nO(){return Kl.gapiScript}function lI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Jp=class{constructor(){this.enterprise=new Xp}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},Xp=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var rO="recaptcha-enterprise",dI="NO_RECAPTCHA",Zp=class{constructor(t){this.type=rO,this.auth=$s(t)}async verify(t="verify",e=!1){async function r(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{zN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Gp(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){let u=window.grecaptcha;P0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(dI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jp().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!e&&P0(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=tO();u.length!==0&&(u+=c),uI(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})}};async function Ua(n,t,e,r=!1,i=!1){let s=new Zp(n),o;if(i)o=dI;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}let c=A({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function k0(n,t,e,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await Ua(n,t,e,e==="getOobCode");return r(n,s)}else return r(n,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await Ua(n,t,e,e==="getOobCode");return r(n,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await Ua(n,t,e);return r(n,s).catch(async o=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let c=await Ua(n,t,e,!1,!0);return r(n,c)}return Promise.reject(o)})}else{let s=await Ua(n,t,e,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}function hI(n,t){let e=Di(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),s=e.getOptions();if(On(s,t??{}))return i;Ln(i,"already-initialized")}return e.initialize({options:t})}function iO(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(or);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function fI(n,t,e){let r=$s(n);q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,s=pI(t),{host:o,port:c}=sO(t),u=c===null?"":`:${c}`,l={url:`${s}//${o}${u}/`},h=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(On(l,r.config.emulator)&&On(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Nn(o)?(Ds(`${s}//${o}${u}`),Rs("Auth",!0)):i||oO()}function pI(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function sO(n){let t=pI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:x0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:x0(o)}}}function x0(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function oO(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ha=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,e){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}};async function aO(n,t){return Hr(n,"POST","/v1/accounts:signUp",t)}async function cO(n,t){return Wl(n,"POST","/v1/accounts:signInWithPassword",ki(n,t))}async function uO(n,t){return Wl(n,"POST","/v1/accounts:signInWithEmailLink",ki(n,t))}async function lO(n,t){return Wl(n,"POST","/v1/accounts:signInWithEmailLink",ki(n,t))}var Ga=class n extends Ha{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new n(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k0(t,e,"signInWithPassword",cO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uO(t,{email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":let r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k0(t,r,"signUpPassword",aO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return lO(t,{idToken:e,email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};async function $p(n,t){return Wl(n,"POST","/v1/accounts:signInWithIdp",ki(n,t))}function dO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hO(n){let t=Ps(Ns(n)).link,e=t?Ps(Ns(t)).deep_link_id:null,r=Ps(Ns(n)).deep_link_id;return(r?Ps(Ns(r)).link:null)||r||e||t||n}var $l=class n{constructor(t){let e=Ps(Ns(t)),r=e.apiKey??null,i=e.oobCode??null,s=dO(e.mode??null);q(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){let e=hO(t);try{return new n(e)}catch{return null}}};var gI=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return Ga._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){let i=$l.parseLink(r);return q(i,"argument-error"),Ga._fromEmailAndCode(e,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),jl=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var eg=class extends jl{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var qa=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){let s=await $r._fromIdTokenResponse(t,r,i),o=L0(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);let i=L0(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})}};function L0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var tg=class n extends Rt{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function mI(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tg._fromErrorAndOperation(n,s,t,r):s})}async function fO(n,t,e=!1){let r=await ja(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return qa._forOperation(n,"link",r)}async function pO(n,t,e=!1){let{auth:r}=n;if(It(r.app))return Promise.reject(jr(r));let i="reauthenticate";try{let s=await ja(n,mI(r,i,t,n),e);q(s.idToken,r,"internal-error");let o=dg(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(n.uid===c,r,"user-mismatch"),qa._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}async function yI(n,t,e=!1){if(It(n.app))return Promise.reject(jr(n));let r="signIn",i=await mI(n,r,t),s=await qa._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(s.user),s}async function vI(n,t){return yI($s(n),t)}async function gO(n){let t=$s(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function mO(n,t,e){return It(n.app)?Promise.reject(jr(n)):vI(Ne(n),gI.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gO(n),r})}function fg(n,t){return Ne(n).setPersistence(t)}function _I(n,t,e,r){return Ne(n).onIdTokenChanged(t,e,r)}function bI(n,t,e){return Ne(n).beforeAuthStateChanged(t,e)}function yO(n,t,e,r){return Ne(n).onAuthStateChanged(t,e,r)}function vO(n){return Ne(n).signOut()}var zl="__sak";var Hl=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(zl,"1"),this.storage.removeItem(zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var _O=1e3,bO=10,EO=(()=>{class n extends Hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=e.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);JN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bO):s()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){let r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}return n.type="LOCAL",n})(),Ql=EO;var wO=(()=>{class n extends Hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),pg=wO;function IO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}var TO=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let r=e,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(async h=>h(r.origin,o)),l=await IO(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function EI(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var ng=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=EI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function xn(){return window}function CO(n){xn().location.href=n}function wI(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function SO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AO(){return navigator?.serviceWorker?.controller||null}function DO(){return wI()?self:null}var II="firebaseLocalStorageDb",RO=1,Gl="firebaseLocalStorage",TI="fbase_key",Mi=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Yl(n,t){return n.transaction([Gl],t?"readwrite":"readonly").objectStore(Gl)}function PO(){let n=indexedDB.deleteDatabase(II);return new Mi(n).toPromise()}function rg(){let n=indexedDB.open(II,RO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gl,{keyPath:TI})}catch(i){e(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Gl)?t(r):(r.close(),await PO(),t(await rg()))})})}async function F0(n,t,e){let r=Yl(n,!0).put({[TI]:t,value:e});return new Mi(r).toPromise()}async function NO(n,t){let e=Yl(n,!1).get(t),r=await new Mi(e).toPromise();return r===void 0?null:r.value}function V0(n,t){let e=Yl(n,!0).delete(t);return new Mi(e).toPromise()}var OO=800,MO=3,kO=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let r=0;for(;;)try{let i=await this._openDb();return await e(i)}catch(i){if(r++>MO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=TO._getInstance(DO()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SO(),!this.activeServiceWorker)return;this.sender=new ng(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await rg();return await F0(e,zl,"1"),await V0(e,zl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>F0(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){let r=await this._withRetries(i=>NO(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(s=>{let o=Yl(s,!1).getAll();return new Mi(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),CI=kO;var Gj=lI("rcb"),qj=new Oi(3e4,6e4);function xO(n,t){return t?or(t):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Wa=class extends Ha{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $p(t,this._buildIdpRequest())}_linkToIdToken(t,e){return $p(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return $p(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function LO(n){return yI(n.auth,new Wa(n),n.bypassAuthState)}function FO(n){let{auth:t,user:e}=n;return q(e,t,"internal-error"),pO(e,new Wa(n),n.bypassAuthState)}async function VO(n){let{auth:t,user:e}=n;return q(e,t,"internal-error"),fO(e,new Wa(n),n.bypassAuthState)}var ig=class{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){let{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return FO;default:Ln(this.auth,"internal-error")}}resolve(t){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Wj=new Oi(2e3,1e4);var UO="pendingRedirect",Ml=new Map,sg=class extends ig{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Ml.get(this.auth._key());if(!t){try{let r=await BO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Ml.set(this.auth._key(),t)}return this.bypassAuthState||Ml.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function BO(n,t){let e=zO(t),r=jO(n);if(!await r._isAvailable())return!1;let i=await r._get(e)==="true";return await r._remove(e),i}function $O(n,t){Ml.set(n._key(),t)}function jO(n){return or(n._redirectPersistence)}function zO(n){return Ol(UO,n.config.apiKey,n.name)}async function HO(n,t,e=!1){if(It(n.app))return Promise.reject(jr(n));let r=$s(n),i=xO(r,t),o=await new sg(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}var GO=600*1e3,og=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!SI(t)){let r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ni(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=GO&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(t))}saveEventToCache(t){this.cachedEventUids.add(U0(t)),this.lastProcessedEventTime=Date.now()}};function U0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function SI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function qO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SI(n);default:return!1}}async function WO(n,t={}){return Hr(n,"GET","/v1/projects",t)}var KO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QO=/^https?/;async function YO(n){if(n.config.emulator)return;let{authorizedDomains:t}=await WO(n);for(let e of t)try{if(JO(e))return}catch{}Ln(n,"unauthorized-domain")}function JO(n){let t=zp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!QO.test(e))return!1;if(KO.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var XO=new Oi(3e4,6e4);function B0(){let n=xn().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function ZO(n){return new Promise((t,e)=>{function r(){B0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{B0(),e(Ni(n,"network-request-failed"))},timeout:XO.get()})}if(xn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xn().gapi?.load)r();else{let i=lI("iframefcb");return xn()[i]=()=>{gapi.load?r():e(Ni(n,"network-request-failed"))},uI(`${nO()}?onload=${i}`).catch(s=>e(s))}}).catch(t=>{throw kl=null,t})}var kl=null;function eM(n){return kl=kl||ZO(n),kl}var tM=new Oi(5e3,15e3),nM="__/auth/iframe",rM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oM(n){let t=n.config;q(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?lg(t,rM):`https://${n.config.authDomain}/${nM}`,r={apiKey:t.apiKey,appName:n.name,v:Fr},i=sM.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${Pa(r).slice(1)}`}async function aM(n){let t=await eM(n),e=xn().gapi;return q(e,n,"internal-error"),t.open({where:document.body,url:oM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Ni(n,"network-request-failed"),c=xn().setTimeout(()=>{s(o)},tM.get());function u(){xn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}var cM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uM=500,lM=600,dM="_blank",hM="http://localhost",ql=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fM(n,t,e,r=uM,i=lM){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=ne(A({},cM),{width:r.toString(),height:i.toString(),top:s,left:o}),l=st().toLowerCase();e&&(c=nI(l)?dM:e),eI(l)&&(t=t||hM,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,D])=>`${m}${v}=${D},`,"");if(YN(l)&&c!=="_self")return pM(t||"",c),new ql(null);let p=window.open(t||"",c,h);q(p,n,"popup-blocked");try{p.focus()}catch{}return new ql(p)}function pM(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var gM="__/auth/handler",mM="emulator/auth/handler",yM=encodeURIComponent("fac");async function $0(n,t,e,r,i,s){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Fr,eventId:i};if(t instanceof jl){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",tw(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(t instanceof eg){let h=t.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=await n._getAppCheckToken(),l=u?`#${yM}=${encodeURIComponent(u)}`:"";return`${vM(n)}?${Pa(c).slice(1)}${l}`}function vM({config:n}){return n.emulator?lg(n,mM):`https://${n.authDomain}/${gM}`}var jp="webStorageSupport",ag=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pg,this._completeRedirectFn=HO,this._overrideRedirectResult=$O}async _openPopup(t,e,r,i){zr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let s=await $0(t,e,r,zp(),i);return fM(t,s,EI())}async _openRedirect(t,e,r,i){await this._originValidation(t);let s=await $0(t,e,r,zp(),i);return CO(s),new Promise(()=>{})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){let e=await aM(t),r=new og(t);return e.register("authEvent",i=>(q(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(jp,{type:jp},i=>{let s=i?.[0]?.[jp];s!==void 0&&e(!!s),Ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=YO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return aI()||tI()||hg()}},AI=ag;var j0="@firebase/auth",z0="1.12.0";var cg=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _M(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bM(n){kn(new Pt("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cI(n)},l=new Yp(r,i,s,u);return iO(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),kn(new Pt("auth-internal",t=>{let e=$s(t.getProvider("auth").getImmediate());return(r=>new cg(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(j0,z0,_M(n)),Nt(j0,z0,"esm2020")}var EM=300,wM=rp("authIdTokenMaxAge")||EM,H0=null,IM=n=>async t=>{let e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>wM)return;let i=e?.token;H0!==i&&(H0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gg(n=Os()){let t=Di(n,"auth");if(t.isInitialized())return t.getImmediate();let e=hI(n,{popupRedirectResolver:AI,persistence:[CI,Ql,pg]}),r=rp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=IM(s.toString());bI(e,o,()=>o(e.currentUser)),_I(e,c=>o(c))}}let i=tp("auth");return i&&fI(e,`http://${i}`),e}function TM(){return document.getElementsByTagName("head")?.[0]??document}eO({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let s=Ni("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",TM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bM("Browser");var DI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RI={};var ar,mg;(function(){var n;function t(E,y){function b(){}b.prototype=y.prototype,E.F=y.prototype,E.prototype=new b,E.prototype.constructor=E,E.D=function(I,w,C){for(var _=Array(arguments.length-2),je=2;je<arguments.length;je++)_[je-2]=arguments[je];return y.prototype[w].apply(I,_)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,b){b||(b=0);let I=Array(16);if(typeof y=="string")for(var w=0;w<16;++w)I[w]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(w=0;w<16;++w)I[w]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=E.g[0],b=E.g[1],w=E.g[2];let C=E.g[3],_;_=y+(C^b&(w^C))+I[0]+3614090360&4294967295,y=b+(_<<7&4294967295|_>>>25),_=C+(w^y&(b^w))+I[1]+3905402710&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(b^C&(y^b))+I[2]+606105819&4294967295,w=C+(_<<17&4294967295|_>>>15),_=b+(y^w&(C^y))+I[3]+3250441966&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(C^b&(w^C))+I[4]+4118548399&4294967295,y=b+(_<<7&4294967295|_>>>25),_=C+(w^y&(b^w))+I[5]+1200080426&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(b^C&(y^b))+I[6]+2821735955&4294967295,w=C+(_<<17&4294967295|_>>>15),_=b+(y^w&(C^y))+I[7]+4249261313&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(C^b&(w^C))+I[8]+1770035416&4294967295,y=b+(_<<7&4294967295|_>>>25),_=C+(w^y&(b^w))+I[9]+2336552879&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(b^C&(y^b))+I[10]+4294925233&4294967295,w=C+(_<<17&4294967295|_>>>15),_=b+(y^w&(C^y))+I[11]+2304563134&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(C^b&(w^C))+I[12]+1804603682&4294967295,y=b+(_<<7&4294967295|_>>>25),_=C+(w^y&(b^w))+I[13]+4254626195&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(b^C&(y^b))+I[14]+2792965006&4294967295,w=C+(_<<17&4294967295|_>>>15),_=b+(y^w&(C^y))+I[15]+1236535329&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(w^C&(b^w))+I[1]+4129170786&4294967295,y=b+(_<<5&4294967295|_>>>27),_=C+(b^w&(y^b))+I[6]+3225465664&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(C^y))+I[11]+643717713&4294967295,w=C+(_<<14&4294967295|_>>>18),_=b+(C^y&(w^C))+I[0]+3921069994&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(w^C&(b^w))+I[5]+3593408605&4294967295,y=b+(_<<5&4294967295|_>>>27),_=C+(b^w&(y^b))+I[10]+38016083&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(C^y))+I[15]+3634488961&4294967295,w=C+(_<<14&4294967295|_>>>18),_=b+(C^y&(w^C))+I[4]+3889429448&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(w^C&(b^w))+I[9]+568446438&4294967295,y=b+(_<<5&4294967295|_>>>27),_=C+(b^w&(y^b))+I[14]+3275163606&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(C^y))+I[3]+4107603335&4294967295,w=C+(_<<14&4294967295|_>>>18),_=b+(C^y&(w^C))+I[8]+1163531501&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(w^C&(b^w))+I[13]+2850285829&4294967295,y=b+(_<<5&4294967295|_>>>27),_=C+(b^w&(y^b))+I[2]+4243563512&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(C^y))+I[7]+1735328473&4294967295,w=C+(_<<14&4294967295|_>>>18),_=b+(C^y&(w^C))+I[12]+2368359562&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(b^w^C)+I[5]+4294588738&4294967295,y=b+(_<<4&4294967295|_>>>28),_=C+(y^b^w)+I[8]+2272392833&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^b)+I[11]+1839030562&4294967295,w=C+(_<<16&4294967295|_>>>16),_=b+(w^C^y)+I[14]+4259657740&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(b^w^C)+I[1]+2763975236&4294967295,y=b+(_<<4&4294967295|_>>>28),_=C+(y^b^w)+I[4]+1272893353&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^b)+I[7]+4139469664&4294967295,w=C+(_<<16&4294967295|_>>>16),_=b+(w^C^y)+I[10]+3200236656&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(b^w^C)+I[13]+681279174&4294967295,y=b+(_<<4&4294967295|_>>>28),_=C+(y^b^w)+I[0]+3936430074&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^b)+I[3]+3572445317&4294967295,w=C+(_<<16&4294967295|_>>>16),_=b+(w^C^y)+I[6]+76029189&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(b^w^C)+I[9]+3654602809&4294967295,y=b+(_<<4&4294967295|_>>>28),_=C+(y^b^w)+I[12]+3873151461&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^b)+I[15]+530742520&4294967295,w=C+(_<<16&4294967295|_>>>16),_=b+(w^C^y)+I[2]+3299628645&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(w^(b|~C))+I[0]+4096336452&4294967295,y=b+(_<<6&4294967295|_>>>26),_=C+(b^(y|~w))+I[7]+1126891415&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~b))+I[14]+2878612391&4294967295,w=C+(_<<15&4294967295|_>>>17),_=b+(C^(w|~y))+I[5]+4237533241&4294967295,b=w+(_<<21&4294967295|_>>>11),_=y+(w^(b|~C))+I[12]+1700485571&4294967295,y=b+(_<<6&4294967295|_>>>26),_=C+(b^(y|~w))+I[3]+2399980690&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~b))+I[10]+4293915773&4294967295,w=C+(_<<15&4294967295|_>>>17),_=b+(C^(w|~y))+I[1]+2240044497&4294967295,b=w+(_<<21&4294967295|_>>>11),_=y+(w^(b|~C))+I[8]+1873313359&4294967295,y=b+(_<<6&4294967295|_>>>26),_=C+(b^(y|~w))+I[15]+4264355552&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~b))+I[6]+2734768916&4294967295,w=C+(_<<15&4294967295|_>>>17),_=b+(C^(w|~y))+I[13]+1309151649&4294967295,b=w+(_<<21&4294967295|_>>>11),_=y+(w^(b|~C))+I[4]+4149444226&4294967295,y=b+(_<<6&4294967295|_>>>26),_=C+(b^(y|~w))+I[11]+3174756917&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~b))+I[2]+718787259&4294967295,w=C+(_<<15&4294967295|_>>>17),_=b+(C^(w|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.v=function(E,y){y===void 0&&(y=E.length);let b=y-this.blockSize,I=this.C,w=this.h,C=0;for(;C<y;){if(w==0)for(;C<=b;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<y;)if(I[w++]=E.charCodeAt(C++),w==this.blockSize){i(this,I),w=0;break}}else for(;C<y;)if(I[w++]=E[C++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=y},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;y=this.o*8;for(var b=E.length-8;b<E.length;++b)E[b]=y&255,y/=256;for(this.v(E),E=Array(16),y=0,b=0;b<4;++b)for(let I=0;I<32;I+=8)E[y++]=this.g[b]>>>I&255;return E};function s(E,y){var b=c;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=y(E)}function o(E,y){this.h=y;let b=[],I=!0;for(let w=E.length-1;w>=0;w--){let C=E[w]|0;I&&C==y||(b[w]=C,I=!1)}this.g=b}var c={};function u(E){return-128<=E&&E<128?s(E,function(y){return new o([y|0],y<0?-1:0)}):new o([E|0],E<0?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return S(l(-E));let y=[],b=1;for(let I=0;E>=b;I++)y[I]=E/b|0,b*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return S(h(E.substring(1),y));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');let b=l(Math.pow(y,8)),I=p;for(let C=0;C<E.length;C+=8){var w=Math.min(8,E.length-C);let _=parseInt(E.substring(C,C+w),y);w<8?(w=l(Math.pow(y,w)),I=I.j(w).add(l(_))):(I=I.j(b),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-S(this).m();let E=0,y=1;for(let b=0;b<this.g.length;b++){let I=this.i(b);E+=(I>=0?I:4294967296+I)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(N(this))return"-"+S(this).toString(E);let y=l(Math.pow(E,6));var b=this;let I="";for(;;){let w=Y(b,y).g;b=k(b,w.j(y));let C=((b.g.length>0?b.g[0]:b.h)>>>0).toString(E);if(b=w,D(b))return C+I;for(;C.length<6;)C="0"+C;I=C+I}},n.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(let y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}n.l=function(E){return E=k(this,E),N(E)?-1:D(E)?0:1};function S(E){let y=E.g.length,b=[];for(let I=0;I<y;I++)b[I]=~E.g[I];return new o(b,~E.h).add(m)}n.abs=function(){return N(this)?S(this):this},n.add=function(E){let y=Math.max(this.g.length,E.g.length),b=[],I=0;for(let w=0;w<=y;w++){let C=I+(this.i(w)&65535)+(E.i(w)&65535),_=(C>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);I=_>>>16,C&=65535,_&=65535,b[w]=_<<16|C}return new o(b,b[b.length-1]&-2147483648?-1:0)};function k(E,y){return E.add(S(y))}n.j=function(E){if(D(this)||D(E))return p;if(N(this))return N(E)?S(this).j(S(E)):S(S(this).j(E));if(N(E))return S(this.j(S(E)));if(this.l(v)<0&&E.l(v)<0)return l(this.m()*E.m());let y=this.g.length+E.g.length,b=[];for(var I=0;I<2*y;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(let w=0;w<E.g.length;w++){let C=this.i(I)>>>16,_=this.i(I)&65535,je=E.i(w)>>>16,Ot=E.i(w)&65535;b[2*I+2*w]+=_*Ot,U(b,2*I+2*w),b[2*I+2*w+1]+=C*Ot,U(b,2*I+2*w+1),b[2*I+2*w+1]+=_*je,U(b,2*I+2*w+1),b[2*I+2*w+2]+=C*je,U(b,2*I+2*w+2)}for(E=0;E<y;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=y;E<2*y;E++)b[E]=0;return new o(b,0)};function U(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function j(E,y){this.g=E,this.h=y}function Y(E,y){if(D(y))throw Error("division by zero");if(D(E))return new j(p,p);if(N(E))return y=Y(S(E),y),new j(S(y.g),S(y.h));if(N(y))return y=Y(E,S(y)),new j(S(y.g),y.h);if(E.g.length>30){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,I=y;I.l(E)<=0;)b=fe(b),I=fe(I);var w=ue(b,1),C=ue(I,1);for(I=ue(I,2),b=ue(b,2);!D(I);){var _=C.add(I);_.l(E)<=0&&(w=w.add(b),C=_),I=ue(I,1),b=ue(b,1)}return y=k(E,w.j(y)),new j(w,y)}for(w=p;E.l(y)>=0;){for(b=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),C=l(b),_=C.j(y);N(_)||_.l(E)>0;)b-=I,C=l(b),_=C.j(y);D(C)&&(C=m),w=w.add(C),E=k(E,_)}return new j(w,E)}n.B=function(E){return Y(this,E).h},n.and=function(E){let y=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<y;I++)b[I]=this.i(I)&E.i(I);return new o(b,this.h&E.h)},n.or=function(E){let y=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<y;I++)b[I]=this.i(I)|E.i(I);return new o(b,this.h|E.h)},n.xor=function(E){let y=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<y;I++)b[I]=this.i(I)^E.i(I);return new o(b,this.h^E.h)};function fe(E){let y=E.g.length+1,b=[];for(let I=0;I<y;I++)b[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(b,E.h)}function ue(E,y){let b=y>>5;y%=32;let I=E.g.length-b,w=[];for(let C=0;C<I;C++)w[C]=y>0?E.i(C+b)>>>y|E.i(C+b+1)<<32-y:E.i(C+b);return new o(w,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mg=RI.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,ar=RI.Integer=o}).apply(typeof DI<"u"?DI:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var yg,CM,js,vg,Ka,Xl,_g,bg,Eg;(function(){var n,t=Object.defineProperty;function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=e(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in f))break e;f=f[T]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&t(f,a,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(d){var f=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.push([g,d[g]]);return f}});var s=s||{},o=this||self;function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,f){return a.call.apply(a.bind,arguments)}function l(a,d,f){return l=u,l.apply(null,arguments)}function h(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function p(a,d){function f(){}f.prototype=d.prototype,a.Z=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(g,T,R){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return d.prototype[T].apply(g,V)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function v(a){let d=a.length;if(d>0){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function D(a,d){for(let g=1;g<arguments.length;g++){let T=arguments[g];var f=typeof T;if(f=f!="object"?f:T?Array.isArray(T)?"array":f:"null",f=="array"||f=="object"&&typeof T.length=="number"){f=a.length||0;let R=T.length||0;a.length=f+R;for(let V=0;V<R;V++)a[f+V]=T[V]}else a.push(T)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function S(a){o.setTimeout(()=>{throw a},0)}function k(){var a=E;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class U{constructor(){this.h=this.g=null}add(d,f){let g=j.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var j=new N(()=>new Y,a=>a.reset());class Y{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ue=!1,E=new U,y=()=>{let a=Promise.resolve(void 0);fe=()=>{a.then(b)}};function b(){for(var a;a=k();){try{a.h.call(a.g)}catch(f){S(f)}var d=j;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}ue=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};o.addEventListener("test",f,d),o.removeEventListener("test",f,d)}catch{}return a})();function _(a){return/^[\s\xa0]*$/.test(a)}function je(a,d){w.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p(je,w),je.prototype.init=function(a,d){let f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Qi=0;function Yi(a,d,f,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++Qi,this.da=this.fa=!1}function jn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function zn(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function Ji(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function ti(a){let d={};for(let f in a)d[f]=a[f];return d}let ni="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mo(a,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)a[f]=g[f];for(let R=0;R<ni.length;R++)f=ni[R],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function ri(a){this.src=a,this.g={},this.h=0}ri.prototype.add=function(a,d,f,g,T){let R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);let V=Zi(a,d,g,T);return V>-1?(d=a[V],f||(d.fa=!1)):(d=new Yi(d,this.src,R,!!g,T),d.fa=f,a.push(d)),d};function Xi(a,d){let f=d.type;if(f in a.g){var g=a.g[f],T=Array.prototype.indexOf.call(g,d,void 0),R;(R=T>=0)&&Array.prototype.splice.call(g,T,1),R&&(jn(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Zi(a,d,f,g){for(let T=0;T<a.length;++T){let R=a[T];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return T}return-1}var yo="closure_lm_"+(Math.random()*1e6|0),vo={};function yc(a,d,f,g,T){if(g&&g.once)return _c(a,d,f,g,T);if(Array.isArray(d)){for(let R=0;R<d.length;R++)yc(a,d[R],f,g,T);return null}return f=wo(f),a&&a[Ot]?a.J(d,f,c(g)?!!g.capture:!!g,T):vc(a,d,f,!1,g,T)}function vc(a,d,f,g,T,R){if(!d)throw Error("Invalid event type");let V=c(T)?!!T.capture:!!T,ie=bo(a);if(ie||(a[yo]=ie=new ri(a)),f=ie.add(d,f,g,V,R),f.proxy)return f;if(g=nh(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)C||(T=V),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(Ec(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function nh(){function a(f){return d.call(a.src,a.listener,f)}let d=rh;return a}function _c(a,d,f,g,T){if(Array.isArray(d)){for(let R=0;R<d.length;R++)_c(a,d[R],f,g,T);return null}return f=wo(f),a&&a[Ot]?a.K(d,f,c(g)?!!g.capture:!!g,T):vc(a,d,f,!0,g,T)}function bc(a,d,f,g,T){if(Array.isArray(d))for(var R=0;R<d.length;R++)bc(a,d[R],f,g,T);else g=c(g)?!!g.capture:!!g,f=wo(f),a&&a[Ot]?(a=a.i,R=String(d).toString(),R in a.g&&(d=a.g[R],f=Zi(d,f,g,T),f>-1&&(jn(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete a.g[R],a.h--)))):a&&(a=bo(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Zi(d,f,g,T)),(f=a>-1?d[a]:null)&&_o(f))}function _o(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ot])Xi(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(Ec(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=bo(d))?(Xi(f,a),f.h==0&&(f.src=null,d[yo]=null)):jn(a)}}}function Ec(a){return a in vo?vo[a]:vo[a]="on"+a}function rh(a,d){if(a.da)a=!0;else{d=new je(d,this);let f=a.listener,g=a.ha||a.src;a.fa&&_o(a),a=f.call(g,d)}return a}function bo(a){return a=a[yo],a instanceof ri?a:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(a){return typeof a=="function"?a:(a[Eo]||(a[Eo]=function(d){return a.handleEvent(d)}),a[Eo])}function nt(){I.call(this),this.i=new ri(this),this.M=this,this.G=null}p(nt,I),nt.prototype[Ot]=!0,nt.prototype.removeEventListener=function(a,d,f,g){bc(this,a,d,f,g)};function ct(a,d){var f,g=a.G;if(g)for(f=[];g;g=g.G)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new w(d,a);else if(d instanceof w)d.target=d.target||a;else{var T=d;d=new w(g,a),mo(d,T)}T=!0;let R,V;if(f)for(V=f.length-1;V>=0;V--)R=d.g=f[V],T=es(R,g,!0,d)&&T;if(R=d.g=a,T=es(R,g,!0,d)&&T,T=es(R,g,!1,d)&&T,f)for(V=0;V<f.length;V++)R=d.g=f[V],T=es(R,g,!1,d)&&T}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var a=this.i;for(let d in a.g){let f=a.g[d];for(let g=0;g<f.length;g++)jn(f[g]);delete a.g[d],a.h--}}this.G=null},nt.prototype.J=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},nt.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function es(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let R=0;R<d.length;++R){let V=d[R];if(V&&!V.da&&V.capture==f){let ie=V.listener,Ye=V.ha||V.src;V.fa&&Xi(a.i,V),T=ie.call(Ye,g)!==!1&&T}}return T&&!g.defaultPrevented}function ih(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=l(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function wc(a){a.g=ih(()=>{a.g=null,a.i&&(a.i=!1,wc(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class lS extends I{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(a){I.call(this),this.h=a,this.g={}}p(Io,I);var Hy=[];function Gy(a){zn(a.g,function(d,f){this.g.hasOwnProperty(f)&&_o(d)},a),a.g={}}Io.prototype.N=function(){Io.Z.N.call(this),Gy(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sh=o.JSON.stringify,dS=o.JSON.parse,hS=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function qy(){}function Wy(){}var To={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function oh(){w.call(this,"d")}p(oh,w);function ah(){w.call(this,"c")}p(ah,w);var ii={},Ky=null;function Ic(){return Ky=Ky||new nt}ii.Ia="serverreachability";function Qy(a){w.call(this,ii.Ia,a)}p(Qy,w);function Co(a){let d=Ic();ct(d,new Qy(d))}ii.STAT_EVENT="statevent";function Yy(a,d){w.call(this,ii.STAT_EVENT,a),this.stat=d}p(Yy,w);function vt(a){let d=Ic();ct(d,new Yy(d,a))}ii.Ja="timingevent";function Jy(a,d){w.call(this,ii.Ja,a),this.size=d}p(Jy,w);function So(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function Ao(){this.g=!0}Ao.prototype.ua=function(){this.g=!1};function fS(a,d,f,g,T,R){a.info(function(){if(a.g)if(R){var V="",ie=R.split("&");for(let we=0;we<ie.length;we++){var Ye=ie[we].split("=");if(Ye.length>1){let rt=Ye[0];Ye=Ye[1];let yn=rt.split("_");V=yn.length>=2&&yn[1]=="type"?V+(rt+"="+Ye+"&"):V+(rt+"=redacted&")}}}else V=null;else V=R;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+V})}function pS(a,d,f,g,T,R,V){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+R+" "+V})}function ts(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+mS(a,f)+(g?" "+g:"")})}function gS(a,d){a.info(function(){return"TIMEOUT: "+d})}Ao.prototype.info=function(){};function mS(a,d){if(!a.g)return d;if(!d)return null;try{let R=JSON.parse(d);if(R){for(a=0;a<R.length;a++)if(Array.isArray(R[a])){var f=R[a];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var T=g[0];if(T!="noop"&&T!="stop"&&T!="close")for(let V=1;V<g.length;V++)g[V]=""}}}}return sh(R)}catch{return d}}var Tc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zy;function ch(){}p(ch,qy),ch.prototype.g=function(){return new XMLHttpRequest},Zy=new ch;function Do(a){return encodeURIComponent(String(a))}function yS(a){var d=1;a=a.split(":");let f=[];for(;d>0&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function vr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.S=g||1,this.V=new Io(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ev}function ev(){this.i=null,this.g="",this.h=!1}var tv={},uh={};function lh(a,d,f){a.M=1,a.A=Sc(mn(d)),a.u=f,a.R=!0,nv(a,null)}function nv(a,d){a.F=Date.now(),Cc(a),a.B=mn(a.A);var f=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),gv(f.i,"t",g),a.C=0,f=a.j.L,a.h=new ev,a.g=Mv(a.j,f?d:null,!a.u),a.P>0&&(a.O=new lS(l(a.Y,a,a.g),a.P)),d=a.V,f=a.g,g=a.ba;var T="readystatechange";Array.isArray(T)||(T&&(Hy[0]=T.toString()),T=Hy);for(let R=0;R<T.length;R++){let V=yc(f,T[R],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=a.J?ti(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),Co(),fS(a.i,a.v,a.B,a.l,a.S,a.u)}vr.prototype.ba=function(a){a=a.target;let d=this.O;d&&Er(a)==3?d.j():this.Y(a)},vr.prototype.Y=function(a){try{if(a==this.g)e:{let ie=Er(this.g),Ye=this.g.ya(),we=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||wv(this.g)))){this.K||ie!=4||Ye==7||(Ye==8||we<=0?Co(3):Co(2)),dh(this);var d=this.g.ca();this.X=d;var f=vS(this);if(this.o=d==200,pS(this.i,this.v,this.B,this.l,this.S,ie,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,T=this.g;if((g=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var R=g;break t}}R=null}if(a=R)ts(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hh(this,a);else{this.o=!1,this.m=3,vt(12),si(this),Ro(this);break e}}if(this.R){a=!0;let rt;for(;!this.K&&this.C<f.length;)if(rt=_S(this,f),rt==uh){ie==4&&(this.m=4,vt(14),a=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==tv){this.m=4,vt(15),ts(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else ts(this.i,this.l,rt,null),hh(this,rt);if(rv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||f.length!=0||this.h.h||(this.m=1,vt(16),a=!1),this.o=this.o&&a,!a)ts(this.i,this.l,f,"[Invalid Chunked Response]"),si(this),Ro(this);else if(f.length>0&&!this.W){this.W=!0;var V=this.j;V.g==this&&V.aa&&!V.P&&(V.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),_h(V),V.P=!0,vt(11))}}else ts(this.i,this.l,f,null),hh(this,f);ie==4&&si(this),this.o&&!this.K&&(ie==4?Rv(this.j,this):(this.o=!1,Cc(this)))}else MS(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),si(this),Ro(this)}}}catch{}finally{}};function vS(a){if(!rv(a))return a.g.la();let d=wv(a.g);if(d==="")return"";let f="",g=d.length,T=Er(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return si(a),Ro(a),"";a.h.i=new o.TextDecoder}for(let R=0;R<g;R++)a.h.h=!0,f+=a.h.i.decode(d[R],{stream:!(T&&R==g-1)});return d.length=0,a.h.g+=f,a.C=0,a.h.g}function rv(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function _S(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?uh:(f=Number(d.substring(f,g)),isNaN(f)?tv:(g+=1,g+f>d.length?uh:(d=d.slice(g,g+f),a.C=g+f,d)))}vr.prototype.cancel=function(){this.K=!0,si(this)};function Cc(a){a.T=Date.now()+a.H,iv(a,a.H)}function iv(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=So(l(a.aa,a),d)}function dh(a){a.D&&(o.clearTimeout(a.D),a.D=null)}vr.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(gS(this.i,this.B),this.M!=2&&(Co(),vt(17)),si(this),this.m=2,Ro(this)):iv(this,this.T-a)};function Ro(a){a.j.I==0||a.K||Rv(a.j,a)}function si(a){dh(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,Gy(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function hh(a,d){try{var f=a.j;if(f.I!=0&&(f.g==a||fh(f.h,a))){if(!a.L&&fh(f.h,a)&&f.I==3){try{var g=f.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)Oc(f),Pc(f);else break e;vh(f),vt(18)}}else f.xa=T[1],0<f.xa-f.K&&T[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=So(l(f.Va,f),6e3));av(f.h)<=1&&f.ta&&(f.ta=void 0)}else ai(f,11)}else if((a.L||f.g==a)&&Oc(f),!_(d))for(T=f.Ba.g.parse(d),d=0;d<T.length;d++){let we=T[d],rt=we[0];if(!(rt<=f.K))if(f.K=rt,we=we[1],f.I==2)if(we[0]=="c"){f.M=we[1],f.ba=we[2];let yn=we[3];yn!=null&&(f.ka=yn,f.j.info("VER="+f.ka));let ci=we[4];ci!=null&&(f.za=ci,f.j.info("SVER="+f.za));let wr=we[5];wr!=null&&typeof wr=="number"&&wr>0&&(g=1.5*wr,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Ir=a.g;if(Ir){let kc=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kc){var R=g.h;R.g||kc.indexOf("spdy")==-1&&kc.indexOf("quic")==-1&&kc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(ph(R,R.h),R.h=null))}if(g.G){let bh=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(g.wa=bh,Pe(g.J,g.G,bh))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var V=a;if(g.na=Ov(g,g.L?g.ba:null,g.W),V.L){cv(g.h,V);var ie=V,Ye=g.O;Ye&&(ie.H=Ye),ie.D&&(dh(ie),Cc(ie)),g.g=V}else Av(g);f.i.length>0&&Nc(f)}else we[0]!="stop"&&we[0]!="close"||ai(f,7);else f.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?ai(f,7):yh(f):we[0]!="noop"&&f.l&&f.l.qa(we),f.A=0)}}Co(4)}catch{}}var bS=class{constructor(a,d){this.g=a,this.map=d}};function sv(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ov(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function av(a){return a.h?1:a.g?a.g.size:0}function fh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ph(a,d){a.g?a.g.add(d):a.h=d}function cv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}sv.prototype.cancel=function(){if(this.i=uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function uv(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.G);return d}return v(a.i)}var lv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ES(a,d){if(a){a=a.split("&");for(let f=0;f<a.length;f++){let g=a[f].indexOf("="),T,R=null;g>=0?(T=a[f].substring(0,g),R=a[f].substring(g+1)):T=a[f],d(T,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function _r(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof _r?(this.l=a.l,Po(this,a.j),this.o=a.o,this.g=a.g,No(this,a.u),this.h=a.h,gh(this,mv(a.i)),this.m=a.m):a&&(d=String(a).match(lv))?(this.l=!1,Po(this,d[1]||"",!0),this.o=Oo(d[2]||""),this.g=Oo(d[3]||"",!0),No(this,d[4]),this.h=Oo(d[5]||"",!0),gh(this,d[6]||"",!0),this.m=Oo(d[7]||"")):(this.l=!1,this.i=new ko(null,this.l))}_r.prototype.toString=function(){let a=[];var d=this.j;d&&a.push(Mo(d,dv,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Mo(d,dv,!0),"@"),a.push(Do(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Mo(f,f.charAt(0)=="/"?TS:IS,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Mo(f,SS)),a.join("")},_r.prototype.resolve=function(a){let d=mn(this),f=!!a.j;f?Po(d,a.j):f=!!a.o,f?d.o=a.o:f=!!a.g,f?d.g=a.g:f=a.u!=null;var g=a.h;if(f)No(d,a.u);else if(f=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var T=d.h.lastIndexOf("/");T!=-1&&(g=d.h.slice(0,T+1)+g)}if(T=g,T==".."||T==".")g="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){g=T.lastIndexOf("/",0)==0,T=T.split("/");let R=[];for(let V=0;V<T.length;){let ie=T[V++];ie=="."?g&&V==T.length&&R.push(""):ie==".."?((R.length>1||R.length==1&&R[0]!="")&&R.pop(),g&&V==T.length&&R.push("")):(R.push(ie),g=!0)}g=R.join("/")}else g=T}return f?d.h=g:f=a.i.toString()!=="",f?gh(d,mv(a.i)):f=!!a.m,f&&(d.m=a.m),d};function mn(a){return new _r(a)}function Po(a,d,f){a.j=f?Oo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function No(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function gh(a,d,f){d instanceof ko?(a.i=d,AS(a.i,a.l)):(f||(d=Mo(d,CS)),a.i=new ko(d,a.l))}function Pe(a,d,f){a.i.set(d,f)}function Sc(a){return Pe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Oo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Mo(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,wS),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var dv=/[#\/\?@]/g,IS=/[#\?:]/g,TS=/[#\?]/g,CS=/[#\?@]/g,SS=/#/g;function ko(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function oi(a){a.g||(a.g=new Map,a.h=0,a.i&&ES(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ko.prototype,n.add=function(a,d){oi(this),this.i=null,a=ns(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function hv(a,d){oi(a),d=ns(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function fv(a,d){return oi(a),d=ns(a,d),a.g.has(d)}n.forEach=function(a,d){oi(this),this.g.forEach(function(f,g){f.forEach(function(T){a.call(d,T,g,this)},this)},this)};function pv(a,d){oi(a);let f=[];if(typeof d=="string")fv(a,d)&&(f=f.concat(a.g.get(ns(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)f=f.concat(a[d]);return f}n.set=function(a,d){return oi(this),this.i=null,a=ns(this,a),fv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=pv(this,a),a.length>0?String(a[0]):d):d};function gv(a,d,f){hv(a,d),f.length>0&&(a.i=null,a.g.set(ns(a,d),v(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var f=d[g];let T=Do(f);f=pv(this,f);for(let R=0;R<f.length;R++){let V=T;f[R]!==""&&(V+="="+Do(f[R])),a.push(V)}}return this.i=a.join("&")};function mv(a){let d=new ko;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function ns(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function AS(a,d){d&&!a.j&&(oi(a),a.i=null,a.g.forEach(function(f,g){let T=g.toLowerCase();g!=T&&(hv(this,g),gv(this,T,f))},a)),a.j=d}function DS(a,d){let f=new Ao;if(o.Image){let g=new Image;g.onload=h(br,f,"TestLoadImage: loaded",!0,d,g),g.onerror=h(br,f,"TestLoadImage: error",!1,d,g),g.onabort=h(br,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=h(br,f,"TestLoadImage: timeout",!1,d,g),o.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function RS(a,d){let f=new Ao,g=new AbortController,T=setTimeout(()=>{g.abort(),br(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(R=>{clearTimeout(T),R.ok?br(f,"TestPingServer: ok",!0,d):br(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),br(f,"TestPingServer: error",!1,d)})}function br(a,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function PS(){this.g=new hS}function Ac(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Ac,qy),Ac.prototype.g=function(){return new Dc(this.i,this.h)};function Dc(a,d){nt.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Dc,nt),n=Dc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,Lo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yv(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function yv(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?xo(this):Lo(this),this.readyState==3&&yv(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,xo(this))},n.Na=function(a){this.g&&(this.response=a,xo(this))},n.ga=function(){this.g&&xo(this)};function xo(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Lo(a)}n.setRequestHeader=function(a,d){this.A.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Lo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function vv(a){let d="";return zn(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function mh(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vv(f),typeof a=="string"?f!=null&&Do(f):Pe(a,d,f))}function Le(a){nt.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Le,nt);var NS=/^https?$/i,OS=["POST","PUT"];n=Le.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zy.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(R){_v(this,R);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),T=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(OS,d,void 0)>=0)||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,V]of f)this.g.setRequestHeader(R,V);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(R){_v(this,R)}};function _v(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,bv(a),Rc(a)}function bv(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,ct(this,"complete"),ct(this,"abort"),Rc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rc(this,!0)),Le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ev(this):this.Xa())},n.Xa=function(){Ev(this)};function Ev(a){if(a.h&&typeof s<"u"){if(a.v&&Er(a)==4)setTimeout(a.Ca.bind(a),0);else if(ct(a,"readystatechange"),Er(a)==4){a.h=!1;try{let R=a.ca();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=R===0){let V=String(a.D).match(lv)[1]||null;!V&&o.self&&o.self.location&&(V=o.self.location.protocol.slice(0,-1)),g=!NS.test(V?V.toLowerCase():"")}f=g}if(f)ct(a,"complete"),ct(a,"success");else{a.o=6;try{var T=Er(a)>2?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.ca()+"]",bv(a)}}finally{Rc(a)}}}}function Rc(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let f=a.g;a.g=null,d||ct(a,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Er(a){return a.g?a.g.readyState:0}n.ca=function(){try{return Er(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),dS(d)}};function wv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function MS(a){let d={};a=(a.g&&Er(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(_(a[g]))continue;var f=yS(a[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[T]||[];d[T]=R,R.push(f)}Ji(d,function(g){return g.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Iv(a){this.za=0,this.i=[],this.j=new Ao,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fo("baseRetryDelayMs",5e3,a),this.Za=Fo("retryDelaySeedMs",1e4,a),this.Ta=Fo("forwardChannelMaxRetries",2,a),this.va=Fo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new sv(a&&a.concurrentRequestLimit),this.Ba=new PS,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Iv.prototype,n.ka=8,n.I=1,n.connect=function(a,d,f,g){vt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=Ov(this,null,this.W),Nc(this)};function yh(a){if(Tv(a),a.I==3){var d=a.V++,f=mn(a.J);if(Pe(f,"SID",a.M),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),Vo(a,f),d=new vr(a,a.j,d),d.M=2,d.A=Sc(mn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=d.A,f=!0),f||(d.g=Mv(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Cc(d)}Nv(a)}function Pc(a){a.g&&(_h(a),a.g.cancel(),a.g=null)}function Tv(a){Pc(a),a.v&&(o.clearTimeout(a.v),a.v=null),Oc(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Nc(a){if(!ov(a.h)&&!a.m){a.m=!0;var d=a.Ea;fe||y(),ue||(fe(),ue=!0),E.add(d,a),a.D=0}}function kS(a,d){return av(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=So(l(a.Ea,a,d),Pv(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let T=new vr(this,this.j,a),R=this.o;if(this.U&&(R?(R=ti(R),mo(R,this.U)):R=this.U),this.u!==null||this.R||(T.J=R,R=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Sv(this,T,d),f=mn(this.J),Pe(f,"RID",a),Pe(f,"CVER",22),this.G&&Pe(f,"X-HTTP-Session-Id",this.G),Vo(this,f),R&&(this.R?d="headers="+Do(vv(R))+"&"+d:this.u&&mh(f,this.u,R)),ph(this.h,T),this.Ra&&Pe(f,"TYPE","init"),this.S?(Pe(f,"$req",d),Pe(f,"SID","null"),T.U=!0,lh(T,f,null)):lh(T,f,d),this.I=2}}else this.I==3&&(a?Cv(this,a):this.i.length==0||ov(this.h)||Cv(this))};function Cv(a,d){var f;d?f=d.l:f=a.V++;let g=mn(a.J);Pe(g,"SID",a.M),Pe(g,"RID",f),Pe(g,"AID",a.K),Vo(a,g),a.u&&a.o&&mh(g,a.u,a.o),f=new vr(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),d&&(a.i=d.G.concat(a.i)),d=Sv(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ph(a.h,f),lh(f,g,d)}function Vo(a,d){a.H&&zn(a.H,function(f,g){Pe(d,g,f)}),a.l&&zn({},function(f,g){Pe(d,g,f)})}function Sv(a,d,f){f=Math.min(a.i.length,f);let g=a.l?l(a.l.Ka,a.l,a):null;e:{var T=a.i;let ie=-1;for(;;){let Ye=["count="+f];ie==-1?f>0?(ie=T[0].g,Ye.push("ofs="+ie)):ie=0:Ye.push("ofs="+ie);let we=!0;for(let rt=0;rt<f;rt++){var R=T[rt].g;let yn=T[rt].map;if(R-=ie,R<0)ie=Math.max(0,T[rt].g-100),we=!1;else try{R="req"+R+"_"||"";try{var V=yn instanceof Map?yn:Object.entries(yn);for(let[ci,wr]of V){let Ir=wr;c(wr)&&(Ir=sh(wr)),Ye.push(R+ci+"="+encodeURIComponent(Ir))}}catch(ci){throw Ye.push(R+"type="+encodeURIComponent("_badmap")),ci}}catch{g&&g(yn)}}if(we){V=Ye.join("&");break e}}V=void 0}return a=a.i.splice(0,f),d.G=a,V}function Av(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;fe||y(),ue||(fe(),ue=!0),E.add(d,a),a.A=0}}function vh(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=So(l(a.Da,a),Pv(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,Dv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=So(l(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Pc(this),Dv(this))};function _h(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Dv(a){a.g=new vr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=mn(a.na);Pe(d,"RID","rpc"),Pe(d,"SID",a.M),Pe(d,"AID",a.K),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&Pe(d,"TO",a.ia),Pe(d,"TYPE","xmlhttp"),Vo(a,d),a.u&&a.o&&mh(d,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=Sc(mn(d)),f.u=null,f.R=!0,nv(f,a)}n.Va=function(){this.C!=null&&(this.C=null,Pc(this),vh(this),vt(19))};function Oc(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Rv(a,d){var f=null;if(a.g==d){Oc(a),_h(a),a.g=null;var g=2}else if(fh(a.h,d))f=d.G,cv(a.h,d),g=1;else return;if(a.I!=0){if(d.o)if(g==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var T=a.D;g=Ic(),ct(g,new Jy(g,f)),Nc(a)}else Av(a);else if(T=d.m,T==3||T==0&&d.X>0||!(g==1&&kS(a,d)||g==2&&vh(a)))switch(f&&f.length>0&&(d=a.h,d.i=d.i.concat(f)),T){case 1:ai(a,5);break;case 4:ai(a,10);break;case 3:ai(a,6);break;default:ai(a,2)}}}function Pv(a,d){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*d}function ai(a,d){if(a.j.info("Error code "+d),d==2){var f=l(a.bb,a),g=a.Ua;let T=!g;g=new _r(g||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Po(g,"https"),Sc(g),T?DS(g.toString(),f):RS(g.toString(),f)}else vt(2);a.I=0,a.l&&a.l.pa(d),Nv(a),Tv(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Nv(a){if(a.I=0,a.ja=[],a.l){let d=uv(a.h);(d.length!=0||a.i.length!=0)&&(D(a.ja,d),D(a.ja,a.i),a.h.i.length=0,v(a.i),a.i.length=0),a.l.oa()}}function Ov(a,d,f){var g=f instanceof _r?mn(f):new _r(f);if(g.g!="")d&&(g.g=d+"."+g.g),No(g,g.u);else{var T=o.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let R=new _r(null);g&&Po(R,g),d&&(R.g=d),T&&No(R,T),f&&(R.h=f),g=R}return f=a.G,d=a.wa,f&&d&&Pe(g,f,d),Pe(g,"VER",a.ka),Vo(a,g),g}function Mv(a,d,f){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new Le(new Ac({ab:f})):new Le(a.ma),d.Fa(a.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kv(){}n=kv.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Mc(){}Mc.prototype.g=function(a,d){return new Mt(a,d)};function Mt(a,d){nt.call(this),this.g=new Iv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!_(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new rs(this)}p(Mt,nt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){yh(this.g)},Mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=sh(a),a=f);d.i.push(new bS(d.Ya++,a)),d.I==3&&Nc(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,yh(this.g),delete this.g,Mt.Z.N.call(this)};function xv(a){oh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(xv,oh);function Lv(){ah.call(this),this.status=1}p(Lv,ah);function rs(a){this.g=a}p(rs,kv),rs.prototype.ra=function(){ct(this.g,"a")},rs.prototype.qa=function(a){ct(this.g,new xv(a))},rs.prototype.pa=function(a){ct(this.g,new Lv)},rs.prototype.oa=function(){ct(this.g,"b")},Mc.prototype.createWebChannel=Mc.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Eg=cr.createWebChannelTransport=function(){return new Mc},bg=cr.getStatEventTarget=function(){return Ic()},_g=cr.Event=ii,Xl=cr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tc.NO_ERROR=0,Tc.TIMEOUT=8,Tc.HTTP_ERROR=6,Ka=cr.ErrorCode=Tc,Xy.COMPLETE="complete",vg=cr.EventType=Xy,Wy.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",nt.prototype.listen=nt.prototype.J,js=cr.WebChannel=Wy,CM=cr.FetchXmlHttpFactory=Ac,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,yg=cr.XhrIo=Le}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});var PI="@firebase/firestore",NI="4.9.3";var ot=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var ho="12.7.0";var Ui=new xr("@firebase/firestore");function zs(){return Ui.logLevel}function B(n,...t){if(Ui.logLevel<=oe.DEBUG){let e=t.map(fy);Ui.debug(`Firestore (${ho}): ${n}`,...e)}}function lr(n,...t){if(Ui.logLevel<=oe.ERROR){let e=t.map(fy);Ui.error(`Firestore (${ho}): ${n}`,...e)}}function Xs(n,...t){if(Ui.logLevel<=oe.WARN){let e=t.map(fy);Ui.warn(`Firestore (${ho}): ${n}`,...e)}}function fy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function G(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,_T(n,r,e)}function _T(n,t,e){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw lr(r),new Error(r)}function ye(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||_T(t,i,r)}function X(n,t){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Rt{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var sd=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Ag=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ot.UNAUTHENTICATED))}shutdown(){}},Dg=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Rg=class{constructor(t){this.t=t,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,e(u)):Promise.resolve(),s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,t.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new sd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string",2055,{h:t}),new ot(t)}},Pg=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ng=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new Pg(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},od=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Og=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,It(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ye(this.o===void 0,3512);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new od(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ye(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new od(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function SM(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}var Za=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=SM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%62))}return r}};function ae(n,t){return n<t?-1:n>t?1:0}function Mg(n,t){let e=Math.min(n.length,t.length);for(let r=0;r<e;r++){let i=n.charAt(r),s=t.charAt(r);if(i!==s)return wg(i)===wg(s)?ae(i,s):wg(i)?1:-1}return ae(n.length,t.length)}var AM=55296,DM=57343;function wg(n){let t=n.charCodeAt(0);return t>=AM&&t<=DM}function Zs(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}var OI="__name__",ad=class n{constructor(t,e,r){e===void 0?e=0:e>t.length&&G(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&G(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let r=Math.min(t.length,e.length);for(let i=0;i<r;i++){let s=n.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return ae(t.length,e.length)}static compareSegments(t,e){let r=n.isNumericId(t),i=n.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(t).compare(n.extractNumericId(e)):Mg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}},Oe=class n extends ad{construct(t,e,r){return new n(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let r of t){if(r.indexOf("//")>=0)throw new L(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new n(e)}static emptyPath(){return new n([])}},RM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ht=class n extends ad{construct(t,e,r){return new n(t,e,r)}static isValidIdentifier(t){return RM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OI}static keyField(){return new n([OI])}static fromServerFormat(t){let e=[],r="",i=0,s=()=>{if(r.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""},o=!1;for(;i<t.length;){let c=t[i];if(c==="\\"){if(i+1===t.length)throw new L(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new L(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var H=class n{constructor(t){this.path=t}static fromPath(t){return new n(Oe.fromString(t))}static fromName(t){return new n(Oe.fromString(t).popFirst(5))}static empty(){return new n(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Oe(t.slice()))}};function bT(n,t,e){if(!e)throw new L(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function PM(n,t,e,r){if(t===!0&&r===!0)throw new L(O.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function MI(n){if(!H.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kI(n){if(H.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ET(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function dr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new L(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=$d(n);throw new L(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function NM(n,t){if(t<=0)throw new L(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function Ke(n,t){let e={typeString:n};return t&&(e.value=t),e}function dc(n,t){if(!ET(n))throw new L(O.INVALID_ARGUMENT,"JSON must be an object");let e;for(let r in t)if(t[r]){let i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${r}' field to equal '${s.value}'`;break}}if(e)throw new L(O.INVALID_ARGUMENT,e);return!0}var xI=-62135596800,LI=1e6,Qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*LI);return new n(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<xI)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LI}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(dc(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-xI;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var te=class n{static fromTimestamp(t){return new n(t)}static min(){return new n(new Qe(0,0))}static max(){return new n(new Qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ec=-1,kg=class{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}};kg.UNKNOWN_ID=-1;function OM(n,t){let e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Qe(e+1,0):new Qe(e,r));return new Bi(i,H.empty(),t)}function MM(n){return new Bi(n.readTime,n.key,ec)}var Bi=class n{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new n(te.min(),H.empty(),ec)}static max(){return new n(te.max(),H.empty(),ec)}};function kM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=H.comparator(n.documentKey,t.documentKey),e!==0?e:ae(n.largestBatchId,t.largestBatchId))}var xM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};async function fo(n){if(n.code!==O.FAILED_PRECONDITION||n.message!==xM)throw n;B("LocalStore","Unexpectedly lost primary lease")}var M=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,r)=>{e(t)})}static reject(t){return new n((e,r)=>{r(t)})}static waitFor(t){return new n((e,r)=>{let i=0,s=0,o=!1;t.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&e()},u=>r(u))}),o=!0,s===i&&e()})}static or(t){let e=n.resolve(!1);for(let r of t)e=e.next(i=>i?n.resolve(i):r());return e}static forEach(t,e){let r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new n((r,i)=>{let s=t.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;e(t[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(t,e){return new n((r,i)=>{let s=()=>{t()===!0?e().next(()=>{s()},i):r()};s()})}};function LM(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function po(n){return n.name==="IndexedDbTransactionError"}var py=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}n.ce=-1;return n})(),gy=-1;function jd(n){return n==null}function tc(n){return n===0&&1/n==-1/0}function FM(n){return typeof n=="number"&&Number.isInteger(n)&&!tc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var wT="";function VM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=FI(t)),t=UM(n.get(e),t);return FI(t)}function UM(n,t){let e=t,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":e+="";break;case wT:e+="";break;default:e+=s}}return e}function FI(n){return n+wT+""}var BM="remoteDocuments",IT="owner";var TT="mutationQueues";var CT="mutations";var ST="documentMutations",$M="remoteDocumentsV14";var AT="remoteDocumentGlobal";var DT="targets";var RT="targetDocuments";var PT="targetGlobal",NT="collectionParents";var OT="clientMetadata";var MT="bundles";var kT="namedQueries";var jM="indexConfiguration";var zM="indexState";var HM="indexEntries";var xT="documentOverlays";var GM="globals";var qM=[TT,CT,ST,BM,DT,IT,PT,RT,OT,AT,NT,MT,kT],C3=[...qM,xT],WM=[TT,CT,ST,$M,DT,IT,PT,RT,OT,AT,NT,MT,kT,xT],KM=WM,QM=[...KM,jM,zM,HM];var S3=[...QM,GM];function VI(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ei(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function LT(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var Ue=class n{constructor(t,e){this.comparator=t,this.root=e||Fn.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){let t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ws(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ws(this.root,t,this.comparator,!0)}},Ws=class{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Fn=class n{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new n(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this,s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw G(27949);return t+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(t,e,r,i,s){return this}insert(t,e,r){return new Fn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class n{constructor(t){this.comparator=t,this.data=new Ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){let r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new cd(this.data.getIterator())}getIteratorFrom(t){return new cd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},cd=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var en=class n{constructor(t){this.fields=t,t.sort(Ht.comparator)}static empty(){return new n([])}unionWith(t){let e=new at(Ht.comparator);for(let r of this.fields)e=e.add(r);for(let r of t)e=e.add(r);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zs(this.fields,t.fields,(e,r)=>e.isEqual(r))}};var ud=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ud("Invalid base64 string: "+s):s}})(t);return new n(e)}static fromUint8Array(t){let e=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(n){if(ye(!!n,39018),typeof n=="string"){let t=0,e=YM.exec(n);if(ye(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fr(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}var FT="server_timestamp",VT="__type__",UT="__previous_value__",BT="__local_write_time__";function zd(n){return(n?.mapValue?.fields||{})[VT]?.stringValue===FT}function Hd(n){let t=n.mapValue.fields[UT];return zd(t)?Hd(t):t}function nc(n){let t=hr(n.mapValue.fields[BT].timestampValue);return new Qe(t.seconds,t.nanos)}var Lg=class{constructor(t,e,r,i,s,o,c,u,l,h){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},ld="(default)",dd=class n{constructor(t,e){this.projectId=t,this.database=e||ld}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ld}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var my="__type__",$T="__max__",Zl={mapValue:{fields:{__type__:{stringValue:$T}}}},yy="__vector__",eo="value";function Qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zd(n)?4:zT(n)?9007199254740991:jT(n)?10:11:G(28295,{value:n})}function Bn(n,t){if(n===t)return!0;let e=Qr(n);if(e!==Qr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nc(n).isEqual(nc(t));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=hr(i.timestampValue),c=hr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(i,s){return fr(i.bytesValue).isEqual(fr(s.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)})(n,t);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?tc(o)===tc(c):isNaN(o)&&isNaN(c)}return!1})(n,t);case 9:return Zs(n.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(VI(o)!==VI(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Bn(o[u],c[u])))return!1;return!0})(n,t);default:return G(52216,{left:n})}}function rc(n,t){return(n.values||[]).find(e=>Bn(e,t))!==void 0}function to(n,t){if(n===t)return 0;let e=Qr(n),r=Qr(t);if(e!==r)return ae(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,t.booleanValue);case 2:return(function(s,o){let c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,t);case 3:return UI(n.timestampValue,t.timestampValue);case 4:return UI(nc(n),nc(t));case 5:return Mg(n.stringValue,t.stringValue);case 6:return(function(s,o){let c=fr(s),u=fr(o);return c.compareTo(u)})(n.bytesValue,t.bytesValue);case 7:return(function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ae(c[l],u[l]);if(h!==0)return h}return ae(c.length,u.length)})(n.referenceValue,t.referenceValue);case 8:return(function(s,o){let c=ae(ke(s.latitude),ke(o.latitude));return c!==0?c:ae(ke(s.longitude),ke(o.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return BI(n.arrayValue,t.arrayValue);case 10:return(function(s,o){let c=s.fields||{},u=o.fields||{},l=c[eo]?.arrayValue,h=u[eo]?.arrayValue,p=ae(l?.values?.length||0,h?.values?.length||0);return p!==0?p:BI(l,h)})(n.mapValue,t.mapValue);case 11:return(function(s,o){if(s===Zl.mapValue&&o===Zl.mapValue)return 0;if(s===Zl.mapValue)return 1;if(o===Zl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Mg(u[p],h[p]);if(m!==0)return m;let v=to(c[u[p]],l[h[p]]);if(v!==0)return v}return ae(u.length,h.length)})(n.mapValue,t.mapValue);default:throw G(23264,{he:e})}}function UI(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ae(n,t);let e=hr(n),r=hr(t),i=ae(e.seconds,r.seconds);return i!==0?i:ae(e.nanos,r.nanos)}function BI(n,t){let e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){let s=to(e[i],r[i]);if(s)return s}return ae(e.length,r.length)}function no(n){return Fg(n)}function Fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){let r=hr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return fr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return H.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(let s of e.values||[])i?i=!1:r+=",",r+=Fg(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){let r=Object.keys(e.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Fg(e.fields[o])}`;return i+"}"})(n.mapValue):G(61005,{value:n})}function nd(n){switch(Qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=Hd(n);return t?16+nd(t):16;case 5:return 2*n.stringValue.length;case 6:return fr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+nd(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ei(r.fields,(s,o)=>{i+=s.length+nd(o)}),i})(n.mapValue);default:throw G(13486,{value:n})}}function hd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Vg(n){return!!n&&"integerValue"in n}function vy(n){return!!n&&"arrayValue"in n}function $I(n){return!!n&&"nullValue"in n}function jI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rd(n){return!!n&&"mapValue"in n}function jT(n){return(n?.mapValue?.fields||{})[my]?.stringValue===yy}function Ya(n){if(n.geoPointValue)return{geoPointValue:A({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:A({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return ei(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Ya(r)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ya(n.arrayValue.values[e]);return t}return A({},n)}function zT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$T}var D3={mapValue:{fields:{[my]:{stringValue:yy},[eo]:{arrayValue:{}}}}};var zt=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!rd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ya(e)}setAll(t){let e=Ht.emptyPath(),r={},i=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){let u=this.getFieldsMap(e);this.applyChanges(u,r,i),r={},i=[],e=c.popLast()}o?r[c.lastSegment()]=Ya(o):i.push(c.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){let e=this.field(t.popLast());rd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){ei(e,(i,s)=>t[i]=s);for(let i of r)delete t[i]}clone(){return new n(Ya(this.value))}};function HT(n){let t=[];return ei(n.fields,(e,r)=>{let i=new Ht([e]);if(rd(r)){let s=HT(r.mapValue).fields;if(s.length===0)t.push(i);else for(let o of s)t.push(i.child(o))}else t.push(i)}),new en(t)}var pn=class n{constructor(t,e,r,i,s,o,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new n(t,0,te.min(),te.min(),te.min(),zt.empty(),0)}static newFoundDocument(t,e,r,i){return new n(t,1,e,te.min(),r,i,0)}static newNoDocument(t,e){return new n(t,2,e,te.min(),te.min(),zt.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,te.min(),te.min(),zt.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yr=class{constructor(t,e){this.position=t,this.inclusive=e}};function zI(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){let s=t[i],o=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),e.key):r=to(o,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HI(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Bn(n.position[e],t.position[e]))return!1;return!0}var $i=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function JM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var fd=class{},We=class n extends fd{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new Bg(t,e,r):e==="array-contains"?new zg(t,r):e==="in"?new Hg(t,r):e==="not-in"?new Gg(t,r):e==="array-contains-any"?new qg(t,r):new n(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new $g(t,r):new jg(t,r)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(to(e,this.value)):e!==null&&Qr(this.value)===Qr(e)&&this.matchesComparison(to(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends fd{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new n(t,e)}matches(t){return GT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function GT(n){return n.op==="and"}function qT(n){return XM(n)&&GT(n)}function XM(n){for(let t of n.filters)if(t instanceof gn)return!1;return!0}function Ug(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+no(n.value);if(qT(n))return n.filters.map(t=>Ug(t)).join(",");{let t=n.filters.map(e=>Ug(e)).join(",");return`${n.op}(${t})`}}function WT(n,t){return n instanceof We?(function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)})(n,t):n instanceof gn?(function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&WT(o,i.filters[c]),!0):!1})(n,t):void G(19439)}function KT(n){return n instanceof We?(function(e){return`${e.field.canonicalString()} ${e.op} ${no(e.value)}`})(n):n instanceof gn?(function(e){return e.op.toString()+" {"+e.getFilters().map(KT).join(" ,")+"}"})(n):"Filter"}var Bg=class extends We{constructor(t,e,r){super(t,e,r),this.key=H.fromName(r.referenceValue)}matches(t){let e=H.comparator(t.key,this.key);return this.matchesComparison(e)}},$g=class extends We{constructor(t,e){super(t,"in",e),this.keys=QT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},jg=class extends We{constructor(t,e){super(t,"not-in",e),this.keys=QT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function QT(n,t){return(t.arrayValue?.values||[]).map(e=>H.fromName(e.referenceValue))}var zg=class extends We{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return vy(e)&&rc(e.arrayValue,this.value)}},Hg=class extends We{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&rc(this.value.arrayValue,e)}},Gg=class extends We{constructor(t,e){super(t,"not-in",e)}matches(t){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!rc(this.value.arrayValue,e)}},qg=class extends We{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!vy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}};var Wg=class{constructor(t,e=null,r=[],i=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}};function GI(n,t=null,e=[],r=[],i=null,s=null,o=null){return new Wg(n,t,e,r,i,s,o)}function _y(n){let t=X(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Ug(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),jd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>no(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>no(r)).join(",")),t.Te=e}return t.Te}function by(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!JM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!WT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!HI(n.startAt,t.startAt)&&HI(n.endAt,t.endAt)}function Kg(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var pr=class{constructor(t,e=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function ZM(n,t,e,r,i,s,o,c){return new pr(n,t,e,r,i,s,o,c)}function Ey(n){return new pr(n)}function qI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wy(n){return n.collectionGroup!==null}function Ks(n){let t=X(n);if(t.Ie===null){t.Ie=[];let e=new Set;for(let s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new at(Ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new $i(s,r))}),e.has(Ht.keyField().canonicalString())||t.Ie.push(new $i(Ht.keyField(),r))}return t.Ie}function Vn(n){let t=X(n);return t.Ee||(t.Ee=ek(t,Ks(n))),t.Ee}function ek(n,t){if(n.limitType==="F")return GI(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new $i(i.field,s)});let e=n.endAt?new Yr(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yr(n.startAt.position,n.startAt.inclusive):null;return GI(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Qg(n,t){let e=n.filters.concat([t]);return new pr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function pd(n,t,e){return new pr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Gd(n,t){return by(Vn(n),Vn(t))&&n.limitType===t.limitType}function YT(n){return`${_y(Vn(n))}|lt:${n.limitType}`}function Hs(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>KT(i)).join(", ")}]`),jd(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>no(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>no(i)).join(",")),`Target(${r})`})(Vn(n))}; limitType=${n.limitType})`}function qd(n,t){return t.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,t)&&(function(r,i){for(let s of Ks(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,t)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,t)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){let l=zI(o,c,u);return o.inclusive?l<=0:l<0})(r.startAt,Ks(r),i)||r.endAt&&!(function(o,c,u){let l=zI(o,c,u);return o.inclusive?l>=0:l>0})(r.endAt,Ks(r),i))})(n,t)}function tk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JT(n){return(t,e)=>{let r=!1;for(let i of Ks(n)){let s=nk(i,t,e);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nk(n,t,e){let r=n.field.isKeyField()?H.comparator(t.key,e.key):(function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?to(u,l):G(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var gr=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ei(this.inner,(e,r)=>{for(let[i,s]of r)t(i,s)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}};var rk=new Ue(H.comparator);function mr(){return rk}var XT=new Ue(H.comparator);function Qa(...n){let t=XT;for(let e of n)t=t.insert(e.key,e);return t}function ZT(n){let t=XT;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function xi(){return Ja()}function eC(){return Ja()}function Ja(){return new gr(n=>n.toString(),(n,t)=>n.isEqual(t))}var ik=new Ue(H.comparator),sk=new at(H.comparator);function ce(...n){let t=sk;for(let e of n)t=t.add(e);return t}var ok=new at(ae);function ak(){return ok}function Iy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(t)?"-0":t}}function tC(n){return{integerValue:""+n}}function ck(n,t){return FM(t)?tC(t):Iy(n,t)}var ro=class{constructor(){this._=void 0}};function uk(n,t,e){return n instanceof ji?(function(i,s){let o={fields:{[VT]:{stringValue:FT},[BT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zd(s)&&(s=Hd(s)),s&&(o.fields[UT]=s),{mapValue:o}})(e,t):n instanceof zi?rC(n,t):n instanceof Hi?iC(n,t):(function(i,s){let o=nC(i,s),c=WI(o)+WI(i.Ae);return Vg(o)&&Vg(i.Ae)?tC(c):Iy(i.serializer,c)})(n,t)}function lk(n,t,e){return n instanceof zi?rC(n,t):n instanceof Hi?iC(n,t):e}function nC(n,t){return n instanceof io?(function(r){return Vg(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(t)?t:{integerValue:0}:null}var ji=class extends ro{},zi=class extends ro{constructor(t){super(),this.elements=t}};function rC(n,t){let e=sC(t);for(let r of n.elements)e.some(i=>Bn(i,r))||e.push(r);return{arrayValue:{values:e}}}var Hi=class extends ro{constructor(t){super(),this.elements=t}};function iC(n,t){let e=sC(t);for(let r of n.elements)e=e.filter(i=>!Bn(i,r));return{arrayValue:{values:e}}}var io=class extends ro{constructor(t,e){super(),this.serializer=t,this.Ae=e}};function WI(n){return ke(n.integerValue||n.doubleValue)}function sC(n){return vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Yg=class{constructor(t,e){this.field=t,this.transform=e}};function dk(n,t){return n.field.isEqual(t.field)&&(function(r,i){return r instanceof zi&&i instanceof zi||r instanceof Hi&&i instanceof Hi?Zs(r.elements,i.elements,Bn):r instanceof io&&i instanceof io?Bn(r.Ae,i.Ae):r instanceof ji&&i instanceof ji})(n.transform,t.transform)}var Jg=class{constructor(t,e){this.version=t,this.transformResults=e}},ur=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function id(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var so=class{};function oC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ic(n.key,ur.none()):new Gi(n.key,n.data,ur.none());{let e=n.data,r=zt.empty(),i=new at(Ht.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $n(n.key,r,new en(i.toArray()),ur.none())}}function hk(n,t,e){n instanceof Gi?(function(i,s,o){let c=i.value.clone(),u=QI(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,t,e):n instanceof $n?(function(i,s,o){if(!id(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=QI(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(aC(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,t,e):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function Xa(n,t,e,r){return n instanceof Gi?(function(s,o,c,u){if(!id(s.precondition,o))return c;let l=s.value.clone(),h=YI(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(n,t,e,r):n instanceof $n?(function(s,o,c,u){if(!id(s.precondition,o))return c;let l=YI(s.fieldTransforms,u,o),h=o.data;return h.setAll(aC(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))})(n,t,e,r):(function(s,o,c){return id(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,t,e)}function fk(n,t){let e=null;for(let r of n.fieldTransforms){let i=t.data.field(r.field),s=nC(r.transform,i||null);s!=null&&(e===null&&(e=zt.empty()),e.set(r.field,s))}return e||null}function KI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(s,o)=>dk(s,o))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var Gi=class extends so{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends so{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function aC(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let r=n.data.field(e);t.set(e,r)}}),t}function QI(n,t,e){let r=new Map;ye(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){let s=n[i],o=s.transform,c=t.data.field(s.field);r.set(s.field,lk(o,c,e[i]))}return r}function YI(n,t,e){let r=new Map;for(let i of n){let s=i.transform,o=e.data.field(i.field);r.set(i.field,uk(s,o,t))}return r}var ic=class extends so{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xg=class extends so{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zg=class{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){let r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(t.key)&&hk(s,t,r[i])}}applyToLocalView(t,e){for(let r of this.baseMutations)r.key.isEqual(t.key)&&(e=Xa(r,t,e,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(t.key)&&(e=Xa(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let r=eC();return this.mutations.forEach(i=>{let s=t.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=e.has(i.key)?null:c;let u=oC(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ce())}isEqual(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,(e,r)=>KI(e,r))&&Zs(this.baseMutations,t.baseMutations,(e,r)=>KI(e,r))}},em=class n{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){ye(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=(function(){return ik})(),s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(t,e,r,i)}};var tm=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var nm=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var Ge,de;function pk(n){switch(n){case O.OK:return G(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function cC(n){if(n===void 0)return lr("GRPC error has no .code"),O.UNKNOWN;switch(n){case Ge.OK:return O.OK;case Ge.CANCELLED:return O.CANCELLED;case Ge.UNKNOWN:return O.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return O.INTERNAL;case Ge.UNAVAILABLE:return O.UNAVAILABLE;case Ge.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ge.NOT_FOUND:return O.NOT_FOUND;case Ge.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ge.ABORTED:return O.ABORTED;case Ge.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ge.DATA_LOSS:return O.DATA_LOSS;default:return G(39323,{code:n})}}(de=Ge||(Ge={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var gk=null;function mk(){return new TextEncoder}var yk=new ar([4294967295,4294967295],0);function JI(n){let t=mk().encode(n),e=new mg;return e.update(t),new Uint8Array(e.digest())}function XI(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ar([e,r],0),new ar([i,s],0)]}var rm=class n{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Li(`Invalid padding: ${e}`);if(r<0)throw new Li(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Li(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Li(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ar.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(ar.fromNumber(r)));return i.compare(yk)===1&&(i=new ar([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;let e=JI(t),[r,i]=XI(e);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,e,r){let i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new n(s,i,e);return r.forEach(c=>o.insert(c)),o}insert(t){if(this.ge===0)return;let e=JI(t),[r,i]=XI(e);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.Se(o)}}Se(t){let e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}},Li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gd=class n{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){let i=new Map;return i.set(t,sc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new n(te.min(),i,new Ue(ae),mr(),ce())}},sc=class n{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new n(r,e,ce(),ce(),ce())}};var Qs=class{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}},md=class{constructor(t,e){this.targetId=t,this.Ce=e}},yd=class{constructor(t,e,r=yt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}},vd=class{constructor(){this.ve=0,this.Fe=ZI(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ce(),e=ce(),r=ce();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:s})}}),new sc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=ZI()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},im=class{constructor(t){this.Ge=t,this.ze=new Map,this.je=mr(),this.Je=ed(),this.He=ed(),this.Ye=new Ue(ae)}Ze(t){for(let e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(let e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{let r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:G(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((r,i)=>{this.rt(i)&&e(i)})}st(t){let e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){let s=i.target;if(Kg(s))if(r===0){let o=new H(s.path);this.et(e,o,pn.newNoDocument(o,te.min()))}else ye(r===1,20013,{expectedCount:r});else{let o=this._t(e);if(o!==r){let c=this.ut(t),u=c?this.ct(c,t,o):1;if(u!==0){this.it(e);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,l)}gk?.lt((function(h,p,m,v,D){let N={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},S=p.unchangedNames;return S&&(N.bloomFilter={applied:D===0,hashCount:S?.hashCount??0,bitmapLength:S?.bits?.bitmap?.length??0,padding:S?.bits?.padding??0,mightContain:k=>v?.mightContain(k)??!1}),N})(o,t.Ce,this.Ge.ht(),c,u))}}}}ut(t){let e=t.Ce.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e,o,c;try{o=fr(r).toUint8Array()}catch(u){if(u instanceof ud)return Xs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new rm(o,i,s)}catch(u){return Xs(u instanceof Li?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){let r=this.Ge.getRemoteKeysForTarget(e),i=0;return r.forEach(s=>{let o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.et(e,s,null),i++)}),i}Tt(t){let e=new Map;this.ze.forEach((s,o)=>{let c=this.ot(o);if(c){if(s.current&&Kg(c.target)){let u=new H(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,pn.newNoDocument(u,t))}s.Be&&(e.set(o,s.ke()),s.qe())}});let r=ce();this.He.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));let i=new gd(t,e,this.Ye,this.je,r);return this.je=mr(),this.Je=ed(),this.He=ed(),this.Ye=new Ue(ae),i}Xe(t,e){if(!this.rt(t))return;let r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;let i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){let e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new vd,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new at(ae),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new at(ae),this.Je=this.Je.insert(t,e)),e}rt(t){let e=this.ot(t)!==null;return e||B("WatchChangeAggregator","Detected inactive target",t),e}ot(t){let e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new vd),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}};function ed(){return new Ue(H.comparator)}function ZI(){return new Ue(H.comparator)}var vk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bk={and:"AND",or:"OR"},sm=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function om(n,t){return n.useProto3Json||jd(t)?t:{value:t}}function _d(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ek(n,t){return _d(n,t.toTimestamp())}function Un(n){return ye(!!n,49232),te.fromTimestamp((function(e){let r=hr(e);return new Qe(r.seconds,r.nanos)})(n))}function Ty(n,t){return am(n,t).canonicalString()}function am(n,t){let e=(function(i){return new Oe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return t===void 0?e:e.child(t)}function lC(n){let t=Oe.fromString(n);return ye(gC(t),10190,{key:t.toString()}),t}function cm(n,t){return Ty(n.databaseId,t.path)}function Ig(n,t){let e=lC(t);if(e.get(1)!==n.databaseId.projectId)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new H(hC(e))}function dC(n,t){return Ty(n.databaseId,t)}function wk(n){let t=lC(n);return t.length===4?Oe.emptyPath():hC(t)}function um(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hC(n){return ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function eT(n,t,e){return{name:cm(n,t),fields:e.value.mapValue.fields}}function Ik(n,t){let e;if("targetChange"in t){t.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=(function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))})(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&(function(l){let h=l.code===void 0?O.UNKNOWN:cC(l.code);return new L(h,l.message||"")})(o);e=new yd(r,i,s,c||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ig(n,r.document.name),s=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):te.min(),c=new zt({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];e=new Qs(l,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Ig(n,r.document),s=r.readTime?Un(r.readTime):te.min(),o=pn.newNoDocument(i,s),c=r.removedTargetIds||[];e=new Qs([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Ig(n,r.document),s=r.removedTargetIds||[];e=new Qs([],s,i,null)}else{if(!("filter"in t))return G(11601,{Rt:t});{t.filter;let r=t.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new nm(i,s),c=r.targetId;e=new md(c,o)}}return e}function Tk(n,t){let e;if(t instanceof Gi)e={update:eT(n,t.key,t.value)};else if(t instanceof ic)e={delete:cm(n,t.key)};else if(t instanceof $n)e={update:eT(n,t.key,t.data),updateMask:Mk(t.fieldMask)};else{if(!(t instanceof Xg))return G(16599,{Vt:t.type});e={verify:cm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>(function(s,o){let c=o.transform;if(c instanceof ji)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof io)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw G(20930,{transform:o.transform})})(0,r))),t.precondition.isNone||(e.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Ek(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G(27497)})(n,t.precondition)),e}function Ck(n,t){return n&&n.length>0?(ye(t!==void 0,14353),n.map(e=>(function(i,s){let o=i.updateTime?Un(i.updateTime):Un(s);return o.isEqual(te.min())&&(o=Un(s)),new Jg(o,i.transformResults||[])})(e,t))):[]}function Sk(n,t){return{documents:[dC(n,t.path)]}}function Ak(n,t){let e={structuredQuery:{}},r=t.path,i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=dC(n,i);let s=(function(l){if(l.length!==0)return pC(gn.create(l,"and"))})(t.filters);s&&(e.structuredQuery.where=s);let o=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Gs(m.field),direction:Pk(m.dir)}})(h))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);let c=om(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(t.endAt)),{ft:e,parent:i}}function Dk(n){let t=wk(n.parent),e=n.structuredQuery,r=e.from?e.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=e.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];e.where&&(s=(function(p){let m=fC(p);return m instanceof gn&&qT(m)?m.getFilters():[m]})(e.where));let o=[];e.orderBy&&(o=(function(p){return p.map(m=>(function(D){return new $i(qs(D.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(m))})(e.orderBy));let c=null;e.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,jd(m)?null:m})(e.limit));let u=null;e.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new Yr(v,m)})(e.startAt));let l=null;return e.endAt&&(l=(function(p){let m=!p.before,v=p.values||[];return new Yr(v,m)})(e.endAt)),ZM(t,i,o,s,c,"F",u,l)}function Rk(n,t){let e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function fC(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":let r=qs(e.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(e.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qs(e.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qs(e.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(n):n.fieldFilter!==void 0?(function(e){return We.create(qs(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gn.create(e.compositeFilter.filters.map(r=>fC(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(e.compositeFilter.op))})(n):G(30097,{filter:n})}function Pk(n){return vk[n]}function Nk(n){return _k[n]}function Ok(n){return bk[n]}function Gs(n){return{fieldPath:n.canonicalString()}}function qs(n){return Ht.fromServerFormat(n.fieldPath)}function pC(n){return n instanceof We?(function(e){if(e.op==="=="){if(jI(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NAN"}};if($I(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jI(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NAN"}};if($I(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(e.field),op:Nk(e.op),value:e.value}}})(n):n instanceof gn?(function(e){let r=e.getFilters().map(i=>pC(i));return r.length===1?r[0]:{compositeFilter:{op:Ok(e.op),filters:r}}})(n):G(54877,{filter:n})}function Mk(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function gC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var oc=class n{constructor(t,e,r,i,s=te.min(),o=te.min(),c=yt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var lm=class{constructor(t){this.yt=t}};function kk(n){let t=Dk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pd(t,t.limit,"L"):t}var bd=class{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(ke(t.integerValue));else if("doubleValue"in t){let r=ke(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),tc(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=hr(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(fr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){let r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?zT(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):jT(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):G(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){let r=t.fields||{};this.Ft(e,55);for(let i of Object.keys(r))this.Ot(i,e),this.Ct(r[i],e)}kt(t,e){let r=t.fields||{};this.Ft(e,53);let i=eo,s=r[i].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(ke(s)),this.Ot(i,e),this.Ct(r[i],e)}Qt(t,e){let r=t.values||[];this.Ft(e,50);for(let i of r)this.Ct(i,e)}Lt(t,e){this.Ft(e,37),H.fromName(t).path.forEach(r=>{this.Ft(e,60),this.Ut(r,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}};bd.Kt=new bd;var dm=class{constructor(){this.Cn=new hm}addToCollectionParentIndex(t,e){return this.Cn.add(e),M.resolve()}getCollectionParents(t,e){return M.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return M.resolve()}deleteFieldIndex(t,e){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,e){return M.resolve()}getDocumentsMatchingTarget(t,e){return M.resolve(null)}getIndexType(t,e){return M.resolve(0)}getFieldIndexes(t,e){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,e){return M.resolve(Bi.min())}getMinOffsetFromCollectionGroup(t,e){return M.resolve(Bi.min())}updateCollectionGroup(t,e,r){return M.resolve()}updateIndexEntries(t,e){return M.resolve()}},hm=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new at(Oe.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new at(Oe.comparator)).toArray()}};var R3=new Uint8Array(0);var tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mC=41943040,Zt=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}};Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(mC,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);var ac=class n{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var nT="LruGarbageCollector",xk=1048576;function rT([n,t],[e,r]){let i=ae(n,e);return i===0?ae(t,r):i}var fm=class{constructor(t){this.Ir=t,this.buffer=new at(rT),this.Er=0}dr(){return++this.Er}Ar(t){let e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{let r=this.buffer.last();rT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}},pm=class{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){B(nT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){po(e)?B(nT,"Ignoring IndexedDB error during garbage collection: ",e):await fo(e)}await this.Vr(3e5)})}},gm=class{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return M.resolve(py.ce);let r=new fm(e);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(tT)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,s,o,c,u,l,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(t,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(t,r,e))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(l=Date.now(),zs()<=oe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function Lk(n,t){return new gm(n,t)}var mm=class{constructor(){this.changes=new gr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let r=this.changes.get(e);return r!==void 0?M.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var ym=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var vm=class{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(r!==null&&Xa(r.mutation,i,en.empty(),Qe.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ce()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ce()){let i=xi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=Qa();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let r=xi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ce()))}populateOverlays(t,e,r){let i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,r,i){let s=mr(),o=Ja(),c=(function(){return Ja()})();return e.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof $n)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Xa(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):o.set(l.key,en.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),e.forEach((l,h)=>c.set(l,new ym(h,o.get(l)??null))),c))}recalculateAndSaveOverlays(t,e){let r=Ja(),i=new Ue((o,c)=>o-c),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=e.get(u);if(l===null)return;let h=r.get(u)||en.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=eC();h.forEach(m=>{if(!s.has(m)){let v=oC(e.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return(function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):wy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):M.resolve(xi()),c=ec,u=s;return o.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?M.resolve():this.remoteDocumentCache.getEntry(t,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,ce())).next(h=>({batchId:c,changes:ZT(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new H(e)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){let s=e.collectionGroup,o=Qa();return this.indexManager.getCollectionParents(t,s).next(c=>M.forEach(c,u=>{let l=(function(p,m){return new pr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,pn.newInvalidDocument(h)))});let c=Qa();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Xa(h.mutation,l,en.empty(),Qe.now()),qd(e,l)&&(c=c.insert(u,l))}),c})}};var _m=class{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return M.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}})(e)),M.resolve()}getNamedQuery(t,e){return M.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:kk(i.bundledQuery),readTime:Un(i.readTime)}})(e)),M.resolve()}};var bm=class{constructor(){this.overlays=new Ue(H.comparator),this.qr=new Map}getOverlay(t,e){return M.resolve(this.overlays.get(e))}getOverlays(t,e){let r=xi();return M.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.St(t,e,s)}),M.resolve()}removeOverlaysForBatchId(t,e,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),M.resolve()}getOverlaysForCollection(t,e,r){let i=xi(),s=e.length+1,o=new H(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Ue((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=xi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=xi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}St(t,e,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tm(e,r));let s=this.qr.get(e);s===void 0&&(s=ce(),this.qr.set(e,s)),this.qr.set(e,s.add(r.key))}};var Em=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(t){return M.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,M.resolve()}};var cc=class{constructor(){this.Qr=new at(qe.$r),this.Ur=new at(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){let r=new qe(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Gr(new qe(t,e))}zr(t,e){t.forEach(r=>this.removeReference(r,e))}jr(t){let e=new H(new Oe([])),r=new qe(e,t),i=new qe(e,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){let e=new H(new Oe([])),r=new qe(e,t),i=new qe(e,t+1),s=ce();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new qe(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}},qe=class{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return H.comparator(t.key,e.key)||ae(t.Yr,e.Yr)}static Kr(t,e){return ae(t.Yr,e.Yr)||H.comparator(t.key,e.key)}};var wm=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new at(qe.$r)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){let s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Zg(s,e,r,i);this.mutationQueue.push(o);for(let c of i)this.Zr=this.Zr.add(new qe(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(t,e){return M.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){let r=e+1,i=this.ei(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?gy:this.tr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let r=new qe(e,0),i=new qe(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{let c=this.Xr(o.Yr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new at(ae);return e.forEach(i=>{let s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],c=>{r=r.add(c.Yr)})}),M.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){let r=e.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new qe(new H(s),0),c=new at(ae);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Yr)),!0)},o),M.resolve(this.ti(c))}ti(t){let e=[];return t.forEach(r=>{let i=this.Xr(r);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){ye(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return M.forEach(e.mutations,i=>{let s=new qe(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,e){let r=new qe(e,0),i=this.Zr.firstAfterOrEqual(r);return M.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){let e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var Im=class{constructor(t){this.ri=t,this.docs=(function(){return new Ue(H.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let r=this.docs.get(e);return M.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(e))}getEntries(t,e){let r=mr();return e.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=mr(),o=e.path,c=new H(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||kM(MM(h),r)<=0||(i.has(h.key)||qd(e,h))&&(s=s.insert(h.key,h.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(t,e,r,i){G(9500)}ii(t,e){return M.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Tm(this)}getSize(t){return M.resolve(this.size)}},Tm=class extends mm{constructor(t){super(),this.Nr=t}applyChanges(t){let e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),M.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}};var Cm=class{constructor(t){this.persistence=t,this.si=new gr(e=>_y(e),by),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new cc,this.targetCount=0,this.ai=ac.ur()}forEachTarget(t,e){return this.si.forEach((r,i)=>e(i)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),M.resolve()}Pr(t){this.si.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.ai=new ac(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,M.resolve()}updateTargetData(t,e){return this.Pr(e),M.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,e,r){let i=0,s=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,e){let r=this.si.get(e)||null;return M.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),M.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);let i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),M.resolve()}getMatchingKeysForTargetId(t,e){let r=this._i.Hr(e);return M.resolve(r)}containsKey(t,e){return M.resolve(this._i.containsKey(e))}};var Ed=class{constructor(t,e){this.ui={},this.overlays={},this.ci=new py(0),this.li=!1,this.li=!0,this.hi=new Em,this.referenceDelegate=t(this),this.Pi=new Cm(this),this.indexManager=new dm,this.remoteDocumentCache=(function(i){return new Im(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new lm(e),this.Ii=new _m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bm,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new wm(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){B("MemoryPersistence","Starting transaction:",t);let i=new Sm(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,e){return M.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,e)))}},Sm=class extends xg{constructor(t){super(),this.currentSequenceNumber=t}},Am=class n{constructor(t){this.persistence=t,this.Ri=new cc,this.Vi=null}static mi(t){return new n(t)}get fi(){if(this.Vi)return this.Vi;throw G(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),M.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),M.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.fi,r=>{let i=H.fromPath(r);return this.gi(t,i).next(s=>{s||e.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return M.or([()=>M.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}},wd=class n{constructor(t,e){this.persistence=t,this.pi=new gr(r=>VM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Lk(this,e)}static mi(t,e){return new n(t,e)}Ei(){}di(t){return M.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){let e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}wr(t){let e=0;return this.pr(t,r=>{e++}).next(()=>e)}pr(t,e){return M.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?M.resolve():e(i)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,e).next(c=>{c||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),M.resolve()}removeTarget(t,e){let r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),M.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),M.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),M.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=nd(t.data.value)),e}br(t,e,r){return M.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let i=this.pi.get(e);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var Dm=class n{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=ce(),i=ce();for(let s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(t,e.fromCache,r,i)}};var Rm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Pm=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZE()?8:LM(st())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){let s={result:null};return this.ys(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,e,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Rm;return this.Ss(t,e,o).next(c=>{if(s.result=c,this.Vs)return this.bs(t,e,o,c.size)})}).next(()=>s.result)}bs(t,e,r,i){return r.documentReadCount<this.fs?(zs()<=oe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Hs(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),M.resolve()):(zs()<=oe.DEBUG&&B("QueryEngine","Query:",Hs(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zs()<=oe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Hs(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vn(e))):M.resolve())}ys(t,e){if(qI(e))return M.resolve(null);let r=Vn(e);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=pd(e,null,"F"),r=Vn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{let o=ce(...s);return this.ps.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,r).next(u=>{let l=this.Ds(e,c);return this.Cs(e,l,o,u.readTime)?this.ys(t,pd(e,null,"F")):this.vs(t,l,e,u)}))})))}ws(t,e,r,i){return qI(e)||i.isEqual(te.min())?M.resolve(null):this.ps.getDocuments(t,r).next(s=>{let o=this.Ds(e,s);return this.Cs(e,o,r,i)?M.resolve(null):(zs()<=oe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(e)),this.vs(t,o,e,OM(i,ec)).next(c=>c))})}Ds(t,e){let r=new at(JT(t));return e.forEach((i,s)=>{qd(t,s)&&(r=r.add(s))}),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,r){return zs()<=oe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Hs(e)),this.ps.getDocumentsMatchingQuery(t,e,Bi.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Cy="LocalStore",Fk=3e8,Nm=class{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Ue(ae),this.xs=new gr(s=>_y(s),by),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vm(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}};function Vk(n,t,e,r){return new Nm(n,t,e,r)}async function yC(n,t){let e=X(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ce();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return e.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:o,addedBatchIds:c}))})})}function Uk(n,t){let e=X(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,m=p.keys(),v=M.resolve();return m.forEach(D=>{v=v.next(()=>h.getEntry(u,D)).next(N=>{let S=l.docVersions.get(D);ye(S!==null,48541),N.version.compareTo(S)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function vC(n){let t=X(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Bk(n,t){let e=X(n),r=t.snapshotVersion,i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;let c=[];t.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(e.Pi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>e.Pi.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?v=v.withResumeToken(yt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(N,S,k){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=Fk?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(m,v,h)&&c.push(e.Pi.updateTargetData(s,v))});let u=mr(),l=ce();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push($k(s,o,t.documentUpdates).next(h=>{u=h.ks,l=h.qs})),!r.isEqual(te.min())){let h=e.Pi.getLastRemoteSnapshotVersion(s).next(p=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(e.Ms=i,s))}function $k(n,t,e){let r=ce(),i=ce();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=mr();return e.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):B(Cy,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{ks:o,qs:i}})}function jk(n,t){let e=X(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=gy),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function zk(n,t){let e=X(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Pi.getTargetData(r,t).next(s=>s?(i=s,M.resolve(i)):e.Pi.allocateTargetId(r).next(o=>(i=new oc(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r})}async function Om(n,t,e){let r=X(n),i=r.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!po(o))throw o;B(Cy,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function iT(n,t,e){let r=X(n),i=te.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(u,l,h){let p=X(u),m=p.xs.get(h);return m!==void 0?M.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,h)})(r,o,Vn(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,e?i:te.min(),e?s:ce())).next(c=>(Hk(r,tk(t),c),{documents:c,Qs:s})))}function Hk(n,t,e){let r=n.Os.get(t)||te.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(t,r)}var Id=class{constructor(){this.activeTargetIds=ak()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Mm=class{constructor(){this.Mo=new Id,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Id,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var km=class{Oo(t){}shutdown(){}};var sT="ConnectivityMonitor",Td=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){B(sT,"Network connectivity changed: AVAILABLE");for(let t of this.qo)t(0)}ko(){B(sT,"Network connectivity changed: UNAVAILABLE");for(let t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var td=null;function xm(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}var Tg="RestConnection",Gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Lm=class{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,s){let o=xm(),c=this.zo(t,e.toUriEncodedString());B(Tg,`Sending RPC '${t}' ${o}:`,c,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);let{host:l}=new URL(c),h=Nn(l);return this.Jo(t,c,u,r,h).then(p=>(B(Tg,`Received RPC '${t}' ${o}: `,p),p),p=>{throw Xs(Tg,`RPC '${t}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(t,e,r,i,s,o){return this.Go(t,e,r,i,s)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,e){let r=Gk[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}};var Fm=class{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}};var mt="WebChannelConnection",Vm=class extends Lm{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,s){let o=xm();return new Promise((c,u)=>{let l=new yg;l.setWithCredentials(!0),l.listenOnce(vg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ka.NO_ERROR:let p=l.getResponseJson();B(mt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),c(p);break;case Ka.TIMEOUT:B(mt,`RPC '${t}' ${o} timed out`),u(new L(O.DEADLINE_EXCEEDED,"Request time out"));break;case Ka.HTTP_ERROR:let m=l.getStatus();if(B(mt,`RPC '${t}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let D=v?.error;if(D&&D.status&&D.message){let N=(function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(U)>=0?U:O.UNKNOWN})(D.status);u(new L(N,D.message))}else u(new L(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(O.UNAVAILABLE,"Connection failed."));break;default:G(9055,{l_:t,streamId:o,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{B(mt,`RPC '${t}' ${o} completed.`)}});let h=JSON.stringify(i);B(mt,`RPC '${t}' ${o} sending request:`,i),l.send(e,"POST",h,r,15)})}T_(t,e,r){let i=xm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Eg(),c=bg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,e,r),u.encodeInitMessageHeaders=!0;let h=s.join("");B(mt,`Creating RPC '${t}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u);this.I_(p);let m=!1,v=!1,D=new Fm({Yo:S=>{v?B(mt,`Not sending because RPC '${t}' stream ${i} is closed:`,S):(m||(B(mt,`Opening RPC '${t}' stream ${i} transport.`),p.open(),m=!0),B(mt,`RPC '${t}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),N=(S,k,U)=>{S.listen(k,j=>{try{U(j)}catch(Y){setTimeout(()=>{throw Y},0)}})};return N(p,js.EventType.OPEN,()=>{v||(B(mt,`RPC '${t}' stream ${i} transport opened.`),D.o_())}),N(p,js.EventType.CLOSE,()=>{v||(v=!0,B(mt,`RPC '${t}' stream ${i} transport closed`),D.a_(),this.E_(p))}),N(p,js.EventType.ERROR,S=>{v||(v=!0,Xs(mt,`RPC '${t}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),D.a_(new L(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,js.EventType.MESSAGE,S=>{if(!v){let k=S.data[0];ye(!!k,16349);let U=k,j=U?.error||U[0]?.error;if(j){B(mt,`RPC '${t}' stream ${i} received error:`,j);let Y=j.status,fe=(function(y){let b=Ge[y];if(b!==void 0)return cC(b)})(Y),ue=j.message;fe===void 0&&(fe=O.INTERNAL,ue="Unknown error status: "+Y+" with message "+j.message),v=!0,D.a_(new L(fe,ue)),p.close()}else B(mt,`RPC '${t}' stream ${i} received:`,k),D.u_(k)}}),N(c,_g.STAT_EVENT,S=>{S.stat===Xl.PROXY?B(mt,`RPC '${t}' stream ${i} detected buffering proxy`):S.stat===Xl.NOPROXY&&B(mt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}};function Cg(){return typeof document<"u"?document:null}function Wd(n){return new sm(n,!0)}var Cd=class{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();let e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var oT="PersistentStream",Sd=class{constructor(t,e,r,i,s,o,c,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cd(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===O.RESOURCE_EXHAUSTED?(lr(e.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;let t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===e&&this.G_(r,i)},r=>{t(()=>{let i=new L(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,e){let r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return B(oT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(B(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Um=class extends Sd{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();let e=Ik(this.serializer,t),r=(function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Un(o.readTime):te.min()})(t);return this.listener.H_(e,r)}Y_(t){let e={};e.database=um(this.serializer),e.addTarget=(function(s,o){let c,u=o.target;if(c=Kg(u)?{documents:Sk(s,u)}:{query:Ak(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=uC(s,o.resumeToken);let l=om(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){c.readTime=_d(s,o.snapshotVersion.toTimestamp());let l=om(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,t);let r=Rk(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){let e={};e.database=um(this.serializer),e.removeTarget=t,this.q_(e)}},Bm=class extends Sd{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();let e=Ck(t.writeResults,t.commitTime),r=Un(t.commitTime);return this.listener.na(r,e)}ra(){let t={};t.database=um(this.serializer),this.q_(t)}ea(t){let e={streamToken:this.lastStreamToken,writes:t.map(r=>Tk(this.serializer,r))};this.q_(e)}};var $m=class{},jm=class extends $m{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,am(e,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(O.UNKNOWN,s.toString())})}Ho(t,e,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(t,am(e,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},zm=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(e),this.aa=!1):B("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var qi="RemoteStore",Hm=class{constructor(t,e,r,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Wi(this)&&(B(qi,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await hc(l),l.Ra.set("Unknown"),l.Ea.delete(4),await Kd(l)})(this))})}),this.Ra=new zm(r,i)}};async function Kd(n){if(Wi(n))for(let t of n.da)await t(!0)}async function hc(n){for(let t of n.da)await t(!1)}function _C(n,t){let e=X(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ry(e)?Dy(e):go(e).O_()&&Ay(e,t))}function Sy(n,t){let e=X(n),r=go(e);e.Ia.delete(t),r.O_()&&bC(e,t),e.Ia.size===0&&(r.O_()?r.L_():Wi(e)&&e.Ra.set("Unknown"))}function Ay(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(te.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}go(n).Y_(t)}function bC(n,t){n.Va.Ue(t),go(n).Z_(t)}function Dy(n){n.Va=new im({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),go(n).start(),n.Ra.ua()}function Ry(n){return Wi(n)&&!go(n).x_()&&n.Ia.size>0}function Wi(n){return X(n).Ea.size===0}function EC(n){n.Va=void 0}async function qk(n){n.Ra.set("Online")}async function Wk(n){n.Ia.forEach((t,e)=>{Ay(n,t)})}async function Kk(n,t){EC(n),Ry(n)?(n.Ra.ha(t),Dy(n)):n.Ra.set("Unknown")}async function Qk(n,t,e){if(n.Ra.set("Online"),t instanceof yd&&t.state===2&&t.cause)try{await(async function(i,s){let o=s.cause;for(let c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(n,t)}catch(r){B(qi,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ad(n,r)}else if(t instanceof Qs?n.Va.Ze(t):t instanceof md?n.Va.st(t):n.Va.tt(t),!e.isEqual(te.min()))try{let r=await vC(n.localStore);e.compareTo(r)>=0&&await(function(s,o){let c=s.Va.Tt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.Ia.get(l);h&&s.Ia.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),bC(s,u);let p=new oc(h.target,u,l,h.sequenceNumber);Ay(s,p)}),s.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){B(qi,"Failed to raise snapshot:",r),await Ad(n,r)}}async function Ad(n,t,e){if(!po(t))throw t;n.Ea.add(1),await hc(n),n.Ra.set("Offline"),e||(e=()=>vC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(qi,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Kd(n)})}function wC(n,t){return t().catch(e=>Ad(n,e,t))}async function Qd(n){let t=X(n),e=Jr(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gy;for(;Yk(t);)try{let i=await jk(t.localStore,r);if(i===null){t.Ta.length===0&&e.L_();break}r=i.batchId,Jk(t,i)}catch(i){await Ad(t,i)}IC(t)&&TC(t)}function Yk(n){return Wi(n)&&n.Ta.length<10}function Jk(n,t){n.Ta.push(t);let e=Jr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function IC(n){return Wi(n)&&!Jr(n).x_()&&n.Ta.length>0}function TC(n){Jr(n).start()}async function Xk(n){Jr(n).ra()}async function Zk(n){let t=Jr(n);for(let e of n.Ta)t.ea(e.mutations)}async function ex(n,t,e){let r=n.Ta.shift(),i=em.from(r,t,e);await wC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Qd(n)}async function tx(n,t){t&&Jr(n).X_&&await(async function(r,i){if((function(o){return pk(o)&&o!==O.ABORTED})(i.code)){let s=r.Ta.shift();Jr(r).B_(),await wC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qd(r)}})(n,t),IC(n)&&TC(n)}async function aT(n,t){let e=X(n);e.asyncQueue.verifyOperationInProgress(),B(qi,"RemoteStore received new credentials");let r=Wi(e);e.Ea.add(3),await hc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Kd(e)}async function nx(n,t){let e=X(n);t?(e.Ea.delete(2),await Kd(e)):t||(e.Ea.add(2),await hc(e),e.Ra.set("Unknown"))}function go(n){return n.ma||(n.ma=(function(e,r,i){let s=X(e);return s.sa(),new Um(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:qk.bind(null,n),t_:Wk.bind(null,n),r_:Kk.bind(null,n),H_:Qk.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Ry(n)?Dy(n):n.Ra.set("Unknown")):(await n.ma.stop(),EC(n))})),n.ma}function Jr(n){return n.fa||(n.fa=(function(e,r,i){let s=X(e);return s.sa(),new Bm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xk.bind(null,n),r_:tx.bind(null,n),ta:Zk.bind(null,n),na:ex.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Qd(n)):(await n.fa.stop(),n.Ta.length>0&&(B(qi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var Gm=class n{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){let o=Date.now()+r,c=new n(t,e,o,i,s);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Py(n,t){if(lr("AsyncQueue",`${t}: ${n}`),po(n))return new L(O.UNAVAILABLE,`${t}: ${n}`);throw n}var Dd=class n{static emptySet(t){return new n(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||H.comparator(e.key,r.key):(e,r)=>H.comparator(e.key,r.key),this.keyedMap=Qa(),this.sortedSet=new Ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let r=new n;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}};var Rd=class{constructor(){this.ga=new Ue(H.comparator)}track(t){let e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):G(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){let t=[];return this.ga.inorderTraversal((e,r)=>{t.push(r)}),t}},oo=class n{constructor(t,e,r,i,s,o,c,u,l){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,e,r,i,s){let o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new n(t,e,Dd.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}};var qm=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}},Wm=class{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){let i=X(e),s=i.queries;i.queries=cT(),s.forEach((o,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new L(O.ABORTED,"Firestore shutting down"))}};function cT(){return new gr(n=>YT(n),Gd)}async function CC(n,t){let e=X(n),r=3,i=t.query,s=e.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new qm,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){let c=Py(o,`Initialization of query '${Hs(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&Ny(e)}async function SC(n,t){let e=X(n),r=t.query,i=3,s=e.queries.get(r);if(s){let o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function rx(n,t){let e=X(n),r=!1;for(let i of t){let s=i.query,o=e.queries.get(s);if(o){for(let c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&Ny(e)}function ix(n,t,e){let r=X(n),i=r.queries.get(t);if(i)for(let s of i.Sa)s.onError(e);r.queries.delete(t)}function Ny(n){n.Ca.forEach(t=>{t.next()})}var Km,uT;(uT=Km||(Km={})).Ma="default",uT.Cache="cache";var Pd=class{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){let r=[];for(let i of t.docChanges)i.type!==3&&r.push(i);t=new oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;let r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;let e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Km.Cache}};var Nd=class{constructor(t){this.key=t}},Od=class{constructor(t){this.key=t}},Qm=class{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=JT(t),this.tu=new Dd(this.eu)}get nu(){return this.Ya}ru(t,e){let r=e?e.iu:new Rd,i=e?e.tu:this.tu,s=e?e.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,p)=>{let m=i.get(h),v=qd(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),S=!1;m&&v?m.data.isEqual(v.data)?D!==N&&(r.track({type:3,doc:v}),S=!0):this.su(m,v)||(r.track({type:2,doc:v}),S=!0,(u&&this.eu(v,u)>0||l&&this.eu(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),S=!0):m&&!v&&(r.track({type:1,doc:m}),S=!0,(u||l)&&(c=!0)),S&&(v?(o=o.add(v),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:c,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){let s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;let o=t.iu.ya();o.sort((h,p)=>(function(v,D){let N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Rt:S})}};return N(v)-N(D)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let c=e&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,o.length!==0||l?{snapshot:new oo(this.query,t.tu,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];let t=this.Xa;this.Xa=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let e=[];return t.forEach(r=>{this.Xa.has(r)||e.push(new Od(r))}),this.Xa.forEach(r=>{t.has(r)||e.push(new Nd(r))}),e}cu(t){this.Ya=t.Qs,this.Xa=ce();let e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Oy="SyncEngine",Ym=class{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}},Jm=class{constructor(t){this.key=t,this.hu=!1}},Xm=class{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gr(c=>YT(c),Gd),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(H.comparator),this.Au=new Map,this.Ru=new cc,this.Vu={},this.mu=new Map,this.fu=ac.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function sx(n,t,e=!0){let r=OC(n),i,s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await AC(r,t,e,!0),i}async function ox(n,t){let e=OC(n);await AC(e,t,!0,!1)}async function AC(n,t,e,r){let i=await zk(n.localStore,Vn(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e),c;return r&&(c=await ax(n,t,s,o==="current",i.resumeToken)),n.isPrimaryClient&&e&&_C(n.remoteStore,i),c}async function ax(n,t,e,r,i){n.pu=(p,m,v)=>(async function(N,S,k,U){let j=S.view.ru(k);j.Cs&&(j=await iT(N.localStore,S.query,!1).then(({documents:E})=>S.view.ru(E,j)));let Y=U&&U.targetChanges.get(S.targetId),fe=U&&U.targetMismatches.get(S.targetId)!=null,ue=S.view.applyChanges(j,N.isPrimaryClient,Y,fe);return dT(N,S.targetId,ue.au),ue.snapshot})(n,p,m,v);let s=await iT(n.localStore,t,!0),o=new Qm(t,s.Qs),c=o.ru(s.documents),u=sc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);dT(n,e,l.au);let h=new Ym(t,e,o);return n.Tu.set(t,h),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),l.snapshot}async function cx(n,t,e){let r=X(n),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Gd(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Om(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&Sy(r.remoteStore,i.targetId),Zm(r,i.targetId)}).catch(fo)):(Zm(r,i.targetId),await Om(r.localStore,i.targetId,!0))}async function ux(n,t){let e=X(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(e.remoteStore,r.targetId))}async function lx(n,t,e){let r=yx(n);try{let i=await(function(o,c){let u=X(o),l=Qe.now(),h=c.reduce((v,D)=>v.add(D.key),ce()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=mr(),N=ce();return u.Ns.getEntries(v,h).next(S=>{D=S,D.forEach((k,U)=>{U.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,D)).next(S=>{p=S;let k=[];for(let U of c){let j=fk(U,p.get(U.key).overlayedDocument);j!=null&&k.push(new $n(U.key,j,HT(j.value.mapValue),ur.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,k,c)}).next(S=>{m=S;let k=S.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,S.batchId,k)})}).then(()=>({batchId:m.batchId,changes:ZT(p)}))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,u){let l=o.Vu[o.currentUser.toKey()];l||(l=new Ue(ae)),l=l.insert(c,u),o.Vu[o.currentUser.toKey()]=l})(r,i.batchId,e),await fc(r,i.changes),await Qd(r.remoteStore)}catch(i){let s=Py(i,"Failed to persist write");e.reject(s)}}async function DC(n,t){let e=X(n);try{let r=await Bk(e.localStore,t);t.targetChanges.forEach((i,s)=>{let o=e.Au.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ye(o.hu,14607):i.removedDocuments.size>0&&(ye(o.hu,42227),o.hu=!1))}),await fc(e,r,t)}catch(r){await fo(r)}}function lT(n,t,e){let r=X(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){let i=[];r.Tu.forEach((s,o)=>{let c=o.view.va(t);c.snapshot&&i.push(c.snapshot)}),(function(o,c){let u=X(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.va(c)&&(l=!0)}),l&&Ny(u)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dx(n,t,e){let r=X(n);r.sharedClientState.updateQueryState(t,"rejected",e);let i=r.Au.get(t),s=i&&i.key;if(s){let o=new Ue(H.comparator);o=o.insert(s,pn.newNoDocument(s,te.min()));let c=ce().add(s),u=new gd(te.min(),new Map,new Ue(ae),o,c);await DC(r,u),r.du=r.du.remove(s),r.Au.delete(t),My(r)}else await Om(r.localStore,t,!1).then(()=>Zm(r,t,e)).catch(fo)}async function hx(n,t){let e=X(n),r=t.batch.batchId;try{let i=await Uk(e.localStore,t);PC(e,r,null),RC(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await fc(e,i)}catch(i){await fo(i)}}async function fx(n,t,e){let r=X(n);try{let i=await(function(o,c){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,t);PC(r,t,e),RC(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await fc(r,i)}catch(i){await fo(i)}}function RC(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function PC(n,t,e){let r=X(n),i=r.Vu[r.currentUser.toKey()];if(i){let s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Zm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||NC(n,r)})}function NC(n,t){n.Eu.delete(t.path.canonicalString());let e=n.du.get(t);e!==null&&(Sy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),My(n))}function dT(n,t,e){for(let r of e)r instanceof Nd?(n.Ru.addReference(r.key,t),px(n,r)):r instanceof Od?(B(Oy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||NC(n,r.key)):G(19791,{wu:r})}function px(n,t){let e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(B(Oy,"New document in limbo: "+e),n.Eu.add(r),My(n))}function My(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let t=n.Eu.values().next().value;n.Eu.delete(t);let e=new H(Oe.fromString(t)),r=n.fu.next();n.Au.set(r,new Jm(e)),n.du=n.du.insert(e,r),_C(n.remoteStore,new oc(Vn(Ey(e.path)),r,"TargetPurposeLimboResolution",py.ce))}}async function fc(n,t,e){let r=X(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{o.push(r.pu(u,t,e).then(l=>{if((l||e)&&r.isPrimaryClient){let h=l?!l.fromCache:e?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Dm.As(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await(async function(u,l){let h=X(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>M.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!po(p))throw p;B(Cy,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.Ms.get(m),D=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(D);h.Ms=h.Ms.insert(m,N)}}})(r.localStore,s))}async function gx(n,t){let e=X(n);if(!e.currentUser.isEqual(t)){B(Oy,"User change. New user:",t.toKey());let r=await yC(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach(c=>{c.forEach(u=>{u.reject(new L(O.CANCELLED,o))})}),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await fc(e,r.Ls)}}function mx(n,t){let e=X(n),r=e.Au.get(t);if(r&&r.hu)return ce().add(r.key);{let i=ce(),s=e.Iu.get(t);if(!s)return i;for(let o of s){let c=e.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function OC(n){let t=X(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=DC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dx.bind(null,t),t.Pu.H_=rx.bind(null,t.eventManager),t.Pu.yu=ix.bind(null,t.eventManager),t}function yx(n){let t=X(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fx.bind(null,t),t}var MC=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Vk(this.persistence,new Pm,e.initialUser,this.serializer)}Cu(e){return new Ed(Am.mi,this.serializer)}Du(e){return new Mm}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),ey=class extends MC{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ye(this.persistence.referenceDelegate instanceof wd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new pm(r,t.asyncQueue,e)}Cu(t){let e=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Ed(r=>wd.mi(r,e),this.serializer)}};var vx=(()=>{class n{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gx.bind(null,this.syncEngine),await nx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wm})()}createDatastore(e){let r=Wd(e.databaseInfo.databaseId),i=(function(o){return new Vm(o)})(e.databaseInfo);return(function(o,c,u,l){return new jm(o,c,u,l)})(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return(function(i,s,o,c,u){return new Hm(i,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,r=>lT(this.syncEngine,r,0),(function(){return Td.v()?new Td:new km})())}createSyncEngine(e,r){return(function(s,o,c,u,l,h,p){let m=new Xm(s,o,c,u,l,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);B(qi,"RemoteStore shutting down."),i.Ea.add(5),await hc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var Md=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var Xr="FirestoreClient",ty=class{constructor(t,e,r,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Za.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{B(Xr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(Xr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let r=Py(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function Sg(n,t){n.asyncQueue.verifyOperationInProgress(),B(Xr,"Initializing OfflineComponentProvider");let e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yC(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function hT(n,t){n.asyncQueue.verifyOperationInProgress();let e=await _x(n);B(Xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>aT(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>aT(t.remoteStore,i)),n._onlineComponents=t}async function _x(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Xr,"Using user provided OfflineComponentProvider");try{await Sg(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;Xs("Error using user provided cache. Falling back to memory cache: "+e),await Sg(n,new MC)}}else B(Xr,"Using default OfflineComponentProvider"),await Sg(n,new ey(void 0));return n._offlineComponents}async function kC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Xr,"Using user provided OnlineComponentProvider"),await hT(n,n._uninitializedComponentsProvider._online)):(B(Xr,"Using default OnlineComponentProvider"),await hT(n,new vx))),n._onlineComponents}function bx(n){return kC(n).then(t=>t.syncEngine)}async function xC(n){let t=await kC(n),e=t.eventManager;return e.onListen=sx.bind(null,t.syncEngine),e.onUnlisten=cx.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ox.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ux.bind(null,t.syncEngine),e}function Ex(n,t,e={}){let r=new fn;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,u,l){let h=new Md({next:m=>{h.Nu(),o.enqueueAndForget(()=>SC(s,p));let v=m.docs.has(c);!v&&m.fromCache?l.reject(new L(O.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pd(Ey(c.path),h,{includeMetadataChanges:!0,qa:!0});return CC(s,p)})(await xC(n),n.asyncQueue,t,e,r)),r.promise}function wx(n,t,e={}){let r=new fn;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,u,l){let h=new Md({next:m=>{h.Nu(),o.enqueueAndForget(()=>SC(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pd(c,h,{includeMetadataChanges:!0,qa:!0});return CC(s,p)})(await xC(n),n.asyncQueue,t,e,r)),r.promise}function LC(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var fT=new Map;var FC="firestore.googleapis.com",pT=!0,kd=class{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new L(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FC,this.ssl=pT}else this.host=t.host,this.ssl=t.ssl??pT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xk)throw new L(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},ao=class{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ag;switch(r.type){case"firstParty":return new Ng(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let r=fT.get(e);r&&(B("ComponentProvider","Removing Datastore"),fT.delete(e),r.terminate())})(this),Promise.resolve()}};function Ix(n,t,e,r={}){n=dr(n,ao);let i=Nn(t),s=n._getSettings(),o=ne(A({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;i&&(Ds(`https://${c}`),Rs("Firestore",!0)),s.host!==FC&&s.host!==c&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=ne(A({},s),{host:c,ssl:i,emulatorOptions:r});if(!On(u,o)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=ot.MOCK_USER;else{l=WE(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new L(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ot(p)}n._authCredentials=new Dg(new sd(l,h))}}var yr=class n{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},ht=class n{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(dc(e,n._jsonSchema))return new n(t,r||null,new H(Oe.fromString(e.referencePath)))}};ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:Ke("string",ht._jsonSchemaVersion),referencePath:Ke("string")};var Gr=class n extends yr{constructor(t,e,r){super(t,e,Ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new ht(this.firestore,null,new H(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function P3(n,t,...e){if(n=Ne(n),bT("collection","path",t),n instanceof ao){let r=Oe.fromString(t,...e);return kI(r),new Gr(n,null,r)}{if(!(n instanceof ht||n instanceof Gr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(t,...e));return kI(r),new Gr(n.firestore,null,r)}}function Tx(n,t,...e){if(n=Ne(n),arguments.length===1&&(t=Za.newId()),bT("doc","path",t),n instanceof ao){let r=Oe.fromString(t,...e);return MI(r),new ht(n,null,new H(r))}{if(!(n instanceof ht||n instanceof Gr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(t,...e));return MI(r),new ht(n.firestore,n instanceof Gr?n.converter:null,new H(r))}}var gT="AsyncQueue",xd=class{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cd(this,"async_queue_retry"),this._c=()=>{let r=Cg();r&&B(gT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;let e=Cg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;let e=Cg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});let e=new fn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;B(gT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){let e=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",mT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);let i=Gm.createAndSchedule(this,t,e,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&G(47125,{Pc:mT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(let e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(let e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){let e=this.tc.indexOf(t);this.tc.splice(e,1)}};function mT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}var Zr=class extends ao{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new xd,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new xd(t),this._firestoreClient=void 0,await t}}};function VC(n,t){let e=typeof n=="object"?n:Os(),r=typeof n=="string"?n:t||ld,i=Di(e,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ll("firestore");s&&Ix(i,...s)}return i}function ky(n){if(n._terminated)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Cx(n),n._firestoreClient}function Cx(n){let t=n._freezeSettings(),e=(function(i,s,o,c){return new Lg(i,s,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LC(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new ty(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}var qr=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(yt.fromBase64String(t))}catch(e){throw new L(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(dc(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};qr._jsonSchemaVersion="firestore/bytes/1.0",qr._jsonSchema={type:Ke("string",qr._jsonSchemaVersion),bytes:Ke("string")};var co=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new L(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var uo=class{constructor(t){this._methodName=t}};var Wr=class n{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new L(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new L(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(dc(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:Ke("string",Wr._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var Kr=class n{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(dc(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new n(t.vectorValues);throw new L(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Ke("string",Kr._jsonSchemaVersion),vectorValues:Ke("object")};var Sx=/^__.*__$/,ny=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new $n(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gi(t,this.data,e,this.fieldTransforms)}},Ld=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new $n(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function UC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ac:n})}}var ry=class n{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new n(A(A({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){let e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){let e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Vd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UC(this.Ac)&&Sx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}},iy=class{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Wd(t)}Cc(t,e,r,i=!1){return new ry({Ac:t,methodName:e,Dc:r,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Yd(n){let t=n._freezeSettings(),e=Wd(n._databaseId);return new iy(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ax(n,t,e,r,i,s={}){let o=n.Cc(s.merge||s.mergeFields?2:0,t,e,i);xy("Data must be an object, but it was:",o,r);let c=$C(r,o),u,l;if(s.merge)u=new en(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=oy(t,p,e);if(!o.contains(m))throw new L(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);zC(h,m)||h.push(m)}u=new en(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new ny(new zt(c),u,l)}var Fd=class n extends uo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof n}};var sy=class n extends uo{_toFieldTransform(t){return new Yg(t.path,new ji)}isEqual(t){return t instanceof n}};function Dx(n,t,e,r){let i=n.Cc(1,t,e);xy("Data must be an object, but it was:",i,r);let s=[],o=zt.empty();ei(r,(u,l)=>{let h=Ly(t,u,e);l=Ne(l);let p=i.yc(h);if(l instanceof Fd)s.push(h);else{let m=pc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let c=new en(s);return new Ld(o,c,i.fieldTransforms)}function Rx(n,t,e,r,i,s){let o=n.Cc(1,t,e),c=[oy(t,r,e)],u=[i];if(s.length%2!=0)throw new L(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(oy(t,s[m])),u.push(s[m+1]);let l=[],h=zt.empty();for(let m=c.length-1;m>=0;--m)if(!zC(l,c[m])){let v=c[m],D=u[m];D=Ne(D);let N=o.yc(v);if(D instanceof Fd)l.push(v);else{let S=pc(D,N);S!=null&&(l.push(v),h.set(v,S))}}let p=new en(l);return new Ld(h,p,o.fieldTransforms)}function BC(n,t,e,r=!1){return pc(e,n.Cc(r?4:3,t))}function pc(n,t){if(jC(n=Ne(n)))return xy("Unsupported field value:",t,n),$C(n,t);if(n instanceof uo)return(function(r,i){if(!UC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let c of r){let u=pc(c,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(n,t)}return(function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ck(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Qe.fromDate(r);return{timestampValue:_d(i.serializer,s)}}if(r instanceof Qe){let s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(i.serializer,s)}}if(r instanceof Wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qr)return{bytesValue:uC(i.serializer,r._byteString)};if(r instanceof ht){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ty(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kr)return(function(o,c){return{mapValue:{fields:{[my]:{stringValue:yy},[eo]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Sc("VectorValues must only contain numeric values.");return Iy(c.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${$d(r)}`)})(n,t)}function $C(n,t){let e={};return LT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ei(n,(r,i)=>{let s=pc(i,t.mc(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function jC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof Wr||n instanceof qr||n instanceof ht||n instanceof uo||n instanceof Kr)}function xy(n,t,e){if(!jC(e)||!ET(e)){let r=$d(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function oy(n,t,e){if((t=Ne(t))instanceof co)return t._internalPath;if(typeof t=="string")return Ly(n,t);throw Vd("Field path arguments must be of type string or ",n,!1,void 0,e)}var Px=new RegExp("[~\\*/\\[\\]]");function Ly(n,t,e){if(t.search(Px)>=0)throw Vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new co(...t.split("."))._internalPath}catch{throw Vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Vd(n,t,e,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(O.INVALID_ARGUMENT,c+n+u)}function zC(n,t){return n.some(e=>e.isEqual(t))}var uc=class{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(Jd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},ay=class extends uc{data(){return super.data()}};function Jd(n,t){return typeof t=="string"?Ly(n,t):t instanceof co?t._internalPath:t._delegate._internalPath}function Nx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lc=class{},lo=class extends lc{};function N3(n,t,...e){let r=[];t instanceof lc&&r.push(t),r=r.concat(e),(function(s){let o=s.filter(u=>u instanceof cy).length,c=s.filter(u=>u instanceof Ud).length;if(o>1||o>0&&c>0)throw new L(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Ud=class n extends lo{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new n(t,e,r)}_apply(t){let e=this._parse(t);return HC(t._query,e),new yr(t.firestore,t.converter,Qg(t._query,e))}_parse(t){let e=Yd(t.firestore);return(function(s,o,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vT(p,h);let D=[];for(let N of p)D.push(yT(u,s,N));m={arrayValue:{values:D}}}else m=yT(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vT(p,h),m=BC(c,o,p,h==="in"||h==="not-in");return We.create(l,h,m)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function O3(n,t,e){let r=t,i=Jd("where",n);return Ud._create(i,r,e)}var cy=class n extends lc{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:gn.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:((function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)HC(o,u),o=Qg(o,u)})(t._query,e),new yr(t.firestore,t.converter,Qg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var uy=class n extends lo{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new n(t,e)}_apply(t){let e=(function(i,s,o){if(i.startAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $i(s,o)})(t._query,this._field,this._direction);return new yr(t.firestore,t.converter,(function(i,s){let o=i.explicitOrderBy.concat([s]);return new pr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(t._query,e))}};function M3(n,t="asc"){let e=t,r=Jd("orderBy",n);return uy._create(r,e)}var ly=class n extends lo{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new n(t,e,r)}_apply(t){return new yr(t.firestore,t.converter,pd(t._query,this._limit,this._limitType))}};function k3(n){return NM("limit",n),ly._create("limit",n,"F")}var dy=class n extends lo{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new n(t,e,r)}_apply(t){let e=Ox(t,this.type,this._docOrFields,this._inclusive);return new yr(t.firestore,t.converter,(function(i,s){return new pr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(t._query,e))}};function x3(...n){return dy._create("startAfter",n,!1)}function Ox(n,t,e,r){if(e[0]=Ne(e[0]),e[0]instanceof uc)return(function(s,o,c,u,l){if(!u)throw new L(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let h=[];for(let p of Ks(s))if(p.field.isKeyField())h.push(hd(o,u.key));else{let m=u.data.field(p.field);if(zd(m))throw new L(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=p.field.canonicalString();throw new L(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new Yr(h,l)})(n._query,n.firestore._databaseId,t,e[0]._document,r);{let i=Yd(n.firestore);return(function(o,c,u,l,h,p){let m=o.explicitOrderBy;if(h.length>m.length)throw new L(O.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let D=0;D<h.length;D++){let N=h[D];if(m[D].field.isKeyField()){if(typeof N!="string")throw new L(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof N}`);if(!wy(o)&&N.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${N}' contains a slash.`);let S=o.path.child(Oe.fromString(N));if(!H.isDocumentKey(S))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);let k=new H(S);v.push(hd(c,k))}else{let S=BC(u,l,N);v.push(S)}}return new Yr(v,p)})(n._query,n.firestore._databaseId,i,t,e,r)}}function yT(n,t,e){if(typeof(e=Ne(e))=="string"){if(e==="")throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wy(t)&&e.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let r=t.path.child(Oe.fromString(e));if(!H.isDocumentKey(r))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hd(n,new H(r))}if(e instanceof ht)return hd(n,e._key);throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(e)}.`)}function vT(n,t){if(!Array.isArray(n)||n.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HC(n,t){let e=(function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var hy=class{convertValue(t,e="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw G(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let r={};return ei(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){let e=t.fields?.[eo].arrayValue?.values?.map(r=>ke(r.doubleValue));return new Kr(e)}convertGeoPoint(t){return new Wr(ke(t.latitude),ke(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":let r=Hd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(nc(t));default:return null}}convertTimestamp(t){let e=hr(t);return new Qe(e.seconds,e.nanos)}convertDocumentKey(t,e){let r=Oe.fromString(t);ye(gC(r),9688,{name:t});let i=new dd(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(e)||lr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function Mx(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}var Fi=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Vi=class n extends uc{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Ys(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let r=this._document.data.field(Jd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=n._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:Ke("string",Vi._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var Ys=class extends Vi{data(t={}){return super.data(t)}},Js=class n{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Ys(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Ys(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Ys(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:kx(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Za.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function kx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}function L3(n){n=dr(n,ht);let t=dr(n.firestore,Zr);return Ex(ky(t),n._key).then(e=>xx(t,n,e))}Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:Ke("string",Js._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var Bd=class extends hy{constructor(t){super(),this.firestore=t}convertBytes(t){return new qr(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new ht(this.firestore,null,e)}};function F3(n){n=dr(n,yr);let t=dr(n.firestore,Zr),e=ky(t),r=new Bd(t);return Nx(n._query),wx(e,n._query).then(i=>new Js(t,r,n,i))}function V3(n,t,e,...r){n=dr(n,ht);let i=dr(n.firestore,Zr),s=Yd(i),o;return o=typeof(t=Ne(t))=="string"||t instanceof co?Rx(s,"updateDoc",n._key,t,e,r):Dx(s,"updateDoc",n._key,t),Fy(i,[o.toMutation(n._key,ur.exists(!0))])}function U3(n){return Fy(dr(n.firestore,Zr),[new ic(n._key,ur.none())])}function B3(n,t){let e=dr(n.firestore,Zr),r=Tx(n),i=Mx(n.converter,t);return Fy(e,[Ax(Yd(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Fy(n,t){return(function(r,i){let s=new fn;return r.asyncQueue.enqueueAndForget(async()=>lx(await bx(r),i,s)),s.promise})(ky(n),t)}function xx(n,t,e){let r=e.docs.get(t._key),i=new Bd(n);return new Vi(n,i,t._key,r,new Fi(e.hasPendingWrites,e.fromCache),t.converter)}function $3(){return new sy("serverTimestamp")}(function(t,e=!0){(function(i){ho=i})(Fr),kn(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Zr(new Rg(r.getProvider("auth-internal")),new Og(o,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(l.options.projectId,h)})(o,i),o);return s=A({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Nt(PI,NI,t),Nt(PI,NI,"esm2020")})();var WC="functions";var Vy=class{constructor(t,e,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,It(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(t){let e=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:e,messagingToken:r,appCheckToken:i}}};var Uy="us-central1";var By=class{constructor(t,e,r,i,s=Uy,o=(...c)=>fetch(...c)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Vy(t,e,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(s);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Uy}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function Lx(n,t,e){let r=Nn(t);n.emulatorOrigin=`http${r?"s":""}://${t}:${e}`,r&&(Ds(n.emulatorOrigin+"/backends"),Rs("Functions",!0))}var GC="@firebase/functions",qC="0.13.1";var Fx="auth-internal",Vx="app-check-internal",Ux="messaging-internal";function Bx(n){let t=(e,{instanceIdentifier:r})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider(Fx),o=e.getProvider(Ux),c=e.getProvider(Vx);return new By(i,s,o,c,r)};kn(new Pt(WC,t,"PUBLIC").setMultipleInstances(!0)),Nt(GC,qC,n),Nt(GC,qC,"esm2020")}function KC(n=Os(),t=Uy){let r=Di(Ne(n),WC).getImmediate({identifier:t}),i=ll("functions");return i&&$x(r,...i),r}function $x(n,t,e){Lx(Ne(n),t,e)}Bx();var QC={production:!1,version:"0.0.0",encryptionKey:"dev-key",firebase:{apiKey:"mock-api-key",authDomain:"mock-auth-domain",projectId:"mock-project-id",storageBucket:"mock-storage-bucket",messagingSenderId:"mock-sender-id",appId:"mock-app-id",measurementId:"mock-measurement-id"},api:{hostinger:{baseUrl:"https://api.hostinger.com/v1",timeout:1e4}}};var YC=class{static app=null;static authInstance=null;static firestoreInstance=null;static functionsInstance=null;static initialize(){if(this.app){console.warn("Firebase already initialized");return}this.app=_p(QC.firebase),console.log("\u2705 Firebase initialized successfully")}static getApp(){if(!this.app)throw new Error("Firebase not initialized. Call FirebaseAdapter.initialize() first.");return this.app}static getAuth(){return this.authInstance||(this.authInstance=gg(this.getApp()),fg(this.authInstance,Ql).catch(t=>{console.error("Error setting auth persistence:",t)})),this.authInstance}static getFirestore(){return this.firestoreInstance||(this.firestoreInstance=VC(this.getApp())),this.firestoreInstance}static getFunctions(){return this.functionsInstance||(this.functionsInstance=KC(this.getApp(),"us-central1"),console.log("\u2705 Firebase Functions initialized for region: us-central1")),this.functionsInstance}};var Ki=class n{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(e,r):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(t),l=this.isDate(e);if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.equalsByValue(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let r=e.split("."),i=t;for(let s=0,o=r.length;s<o;++s){if(i==null)return null;i=i[r[s]]}return i}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,r){let i;t&&e!==r&&(r>=t.length&&(r%=t.length,e%=t.length),t.splice(r,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>e){r.splice(o,0,t),s=!0;break}s||r.push(t)}else r.push(t)}static findIndexInList(t,e){let r=-1;if(e){for(let i=0;i<e.length;i++)if(e[i]==t){r=i;break}}return r}static contains(t,e){if(t!=null&&e&&e.length){for(let r of e)if(this.equals(t,r))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,r,i=1){let s=-1,o=this.isEmpty(t),c=this.isEmpty(e);return o&&c?s=0:o?s=i:c?s=-i:typeof t=="string"&&typeof e=="string"?s=t.localeCompare(e,r,{numeric:!0}):s=t<e?-1:t>e?1:0,s}static sort(t,e,r=1,i,s=1){let o=n.compare(t,e,i,r),c=r;return(n.isEmpty(t)||n.isEmpty(e))&&(c=s===1?r:s),c*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return A(A({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(e)}catch{r=t.lastIndexOf([...t].reverse().find(e))}return r}static findLast(t,e){let r;if(this.isNotEmpty(t))try{r=t.findLast(e)}catch{r=[...t].reverse().find(e)}return r}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=t instanceof Date,l=e instanceof Date;if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.deepEquals(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static minifyCSS(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}static isString(t,e=!0){return typeof t=="string"&&(e||t!=="")}},JC=0;function u9(n="pn_id_"){return JC++,`${n}${JC}`}function jx(){let n=[],t=(s,o)=>{let c=n.length>0?n[n.length-1]:{key:s,value:o},u=c.value+(c.key===s?0:o)+2;return n.push({key:s,value:u}),u},e=s=>{n=n.filter(o=>o.value!==s)},r=()=>n.length>0?n[n.length-1].value:0,i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,c)=>{o&&(o.style.zIndex=String(t(s,c)))},clear:s=>{s&&(e(i(s)),s.style.zIndex="")},getCurrent:()=>r(),generateZIndex:t,revertZIndex:e}}var Xd=jx(),l9=n=>!!n;var zx=Object.defineProperty,XC=Object.getOwnPropertySymbols,Hx=Object.prototype.hasOwnProperty,Gx=Object.prototype.propertyIsEnumerable,ZC=(n,t,e)=>t in n?zx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,eS=(n,t)=>{for(var e in t||(t={}))Hx.call(t,e)&&ZC(n,e,t[e]);if(XC)for(var e of XC(t))Gx.call(t,e)&&ZC(n,e,t[e]);return n},qx=(n,t,e)=>new Promise((r,i)=>{var s=u=>{try{c(e.next(u))}catch(l){i(l)}},o=u=>{try{c(e.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((e=e.apply(n,t)).next())}),Zd="animation",gc="transition";function Wx(n){return n?n.disabled||!!(n.safe&&PE()):!1}function Kx(n,t){return n?eS(eS({},n),Object.entries(t).reduce((e,[r,i])=>{var s;return e[r]=(s=n[r])!=null?s:i,e},{})):t}function Qx(n){let{name:t,enterClass:e,leaveClass:r}=n||{};return{enter:{from:e?.from||`${t}-enter-from`,to:e?.to||`${t}-enter-to`,active:e?.active||`${t}-enter-active`},leave:{from:r?.from||`${t}-leave-from`,to:r?.to||`${t}-leave-to`,active:r?.active||`${t}-leave-active`}}}function Yx(n){return{enter:{onBefore:n?.onBeforeEnter,onStart:n?.onEnter,onAfter:n?.onAfterEnter,onCancelled:n?.onEnterCancelled},leave:{onBefore:n?.onBeforeLeave,onStart:n?.onLeave,onAfter:n?.onAfterLeave,onCancelled:n?.onLeaveCancelled}}}function Jx(n,t){let e=window.getComputedStyle(n),r=v=>{let D=e[`${v}Delay`],N=e[`${v}Duration`];return[D.split(", ").map(Jf),N.split(", ").map(Jf)]},[i,s]=r(gc),[o,c]=r(Zd),u=Math.max(...s.map((v,D)=>v+i[D])),l=Math.max(...c.map((v,D)=>v+o[D])),h,p=0,m=0;return t===gc?u>0&&(h=gc,p=u,m=s.length):t===Zd?l>0&&(h=Zd,p=l,m=c.length):(p=Math.max(u,l),h=p>0?u>l?gc:Zd:void 0,m=h?h===gc?s.length:c.length:0),{type:h,timeout:p,count:m}}function Xx(n,t){return typeof n=="number"?n:typeof n=="object"&&n[t]!=null?n[t]:null}function Zx(n,t=!0,e=!1){if(!t&&!e)return;let r=Yu(n);t&&Wf(n,"--pui-motion-height",r.height+"px"),e&&Wf(n,"--pui-motion-width",r.width+"px")}var eL={name:"p",safe:!0,disabled:!1,enter:!0,leave:!0,autoHeight:!0,autoWidth:!1};function $y(n,t){if(!n)throw new Error("Element is required.");let e={},r=!1,i={},s=null,o={},c=h=>{if(Object.assign(e,Kx(h,eL)),!e.enter&&!e.leave)throw new Error("Enter or leave must be true.");o=Yx(e),r=Wx(e),i=Qx(e),s=null},u=h=>qx(null,null,function*(){s?.();let{onBefore:p,onStart:m,onAfter:v,onCancelled:D}=o[h]||{},N={element:n};if(r){p?.(N),m?.(N),v?.(N);return}let{from:S,active:k,to:U}=i[h]||{};return Zx(n,e.autoHeight,e.autoWidth),p?.(N),Bt(n,S),Bt(n,k),n.offsetHeight,$t(n,S),Bt(n,U),m?.(N),new Promise(j=>{let Y=Xx(e.duration,h),fe=()=>{$t(n,[U,k]),s=null},ue=()=>{fe(),v?.(N),j()};s=()=>{fe(),D?.(N),j()},nL(n,e.type,Y,ue)})});c(t);let l={enter:()=>e.enter?u("enter"):Promise.resolve(),leave:()=>e.leave?u("leave"):Promise.resolve(),cancel:()=>{s?.(),s=null},update:(h,p)=>{if(!h)throw new Error("Element is required.");n=h,l.cancel(),c(p)}};return e.appear&&l.enter(),l}var tL=0;function nL(n,t,e,r){let i=n._motionEndId=++tL,s=()=>{i===n._motionEndId&&r()};if(e!=null)return setTimeout(s,e);let{type:o,timeout:c,count:u}=Jx(n,t);if(!o){r();return}let l=o+"end",h=0,p=()=>{n.removeEventListener(l,m,!0),s()},m=v=>{v.target===n&&++h>=u&&p()};n.addEventListener(l,m,{capture:!0,once:!0}),setTimeout(()=>{h<u&&p()},c+1)}var rL=["*"];function iL(n,t){n&1&&At(0)}var eh=new WeakMap;function mc(n,t){if(n)switch(eh.has(n)||eh.set(n,{display:n.style.display,visibility:n.style.visibility,maxHeight:n.style.maxHeight}),t){case"display":n.style.display="none";break;case"visibility":n.style.visibility="hidden",n.style.maxHeight="0";break}}function th(n,t){if(!n)return;let e=eh.get(n)??n.style;switch(t){case"display":n.style.display=e?.display||"";break;case"visibility":n.style.visibility=e?.visibility||"",n.style.maxHeight=e?.maxHeight||"";break}eh.delete(n)}var sL=`
    .p-motion {
        display: block;
    }
`,oL={root:"p-motion"},jy=(()=>{class n extends Fe{name="motion";style=sL;classes=oL;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var tS=new $("MOTION_INSTANCE"),zy=(()=>{class n extends Ve{$pcMotion=P(tS,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=P(he,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=P(jy);visible=x(!1);mountOnEnter=x(!0);unmountOnLeave=x(!0);name=x(void 0);type=x(void 0);safe=x(void 0);disabled=x(!1);appear=x(!1);enter=x(!0);leave=x(!0);duration=x(void 0);hideStrategy=x("display");enterFromClass=x(void 0);enterToClass=x(void 0);enterActiveClass=x(void 0);leaveFromClass=x(void 0);leaveToClass=x(void 0);leaveActiveClass=x(void 0);options=x({});onBeforeEnter=ut();onEnter=ut();onAfterEnter=ut();onEnterCancelled=ut();onBeforeLeave=ut();onLeave=ut();onAfterLeave=ut();onLeaveCancelled=ut();motionOptions=_e(()=>{let e=this.options();return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;rendered=le(!1);handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),De(()=>{let e=this.hideStrategy();this.isInitialMount?(mc(this.$el,e),this.rendered.set(this.visible()&&this.mountOnEnter()||!this.mountOnEnter())):this.visible()&&!this.rendered()&&(mc(this.$el,e),this.rendered.set(!0))}),De(()=>{this.motion||(this.motion=$y(this.$el,this.motionOptions()))}),Uh(async()=>{if(!this.$el)return;let e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(await el(),th(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount||(await el(),this.motion?.leave()?.then(async()=>{this.$el&&!this.cancelled&&!this.visible()&&(mc(this.$el,r),this.unmountOnLeave()&&(await el(),this.cancelled||this.rendered.set(!1)))})),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,th(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["p-motion"]],hostVars:2,hostBindings:function(r,i){r&2&&$e(i.cx("root"))},inputs:{visible:[1,"visible"],mountOnEnter:[1,"mountOnEnter"],unmountOnLeave:[1,"unmountOnLeave"],name:[1,"name"],type:[1,"type"],safe:[1,"safe"],disabled:[1,"disabled"],appear:[1,"appear"],enter:[1,"enter"],leave:[1,"leave"],duration:[1,"duration"],hideStrategy:[1,"hideStrategy"],enterFromClass:[1,"enterFromClass"],enterToClass:[1,"enterToClass"],enterActiveClass:[1,"enterActiveClass"],leaveFromClass:[1,"leaveFromClass"],leaveToClass:[1,"leaveToClass"],leaveActiveClass:[1,"leaveActiveClass"],options:[1,"options"]},outputs:{onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onEnterCancelled:"onEnterCancelled",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave",onLeaveCancelled:"onLeaveCancelled"},features:[Se([jy,{provide:tS,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re],ngContentSelectors:rL,decls:1,vars:1,template:function(r,i){r&1&&(Lt(),zc(0,iL,1,0)),r&2&&Hc(i.rendered()?0:-1)},dependencies:[Et,ml],encapsulation:2})}return n})(),nS=new $("MOTION_DIRECTIVE_INSTANCE"),A9=(()=>{class n extends Ve{$pcMotionDirective=P(nS,{optional:!0,skipSelf:!0})??void 0;visible=x(!1,{alias:"pMotion"});name=x(void 0,{alias:"pMotionName"});type=x(void 0,{alias:"pMotionType"});safe=x(void 0,{alias:"pMotionSafe"});disabled=x(!1,{alias:"pMotionDisabled"});appear=x(!1,{alias:"pMotionAppear"});enter=x(!0,{alias:"pMotionEnter"});leave=x(!0,{alias:"pMotionLeave"});duration=x(void 0,{alias:"pMotionDuration"});hideStrategy=x("display",{alias:"pMotionHideStrategy"});enterFromClass=x(void 0,{alias:"pMotionEnterFromClass"});enterToClass=x(void 0,{alias:"pMotionEnterToClass"});enterActiveClass=x(void 0,{alias:"pMotionEnterActiveClass"});leaveFromClass=x(void 0,{alias:"pMotionLeaveFromClass"});leaveToClass=x(void 0,{alias:"pMotionLeaveToClass"});leaveActiveClass=x(void 0,{alias:"pMotionLeaveActiveClass"});options=x({},{alias:"pMotionOptions"});onBeforeEnter=ut({alias:"pMotionOnBeforeEnter"});onEnter=ut({alias:"pMotionOnEnter"});onAfterEnter=ut({alias:"pMotionOnAfterEnter"});onEnterCancelled=ut({alias:"pMotionOnEnterCancelled"});onBeforeLeave=ut({alias:"pMotionOnBeforeLeave"});onLeave=ut({alias:"pMotionOnLeave"});onAfterLeave=ut({alias:"pMotionOnAfterLeave"});onLeaveCancelled=ut({alias:"pMotionOnLeaveCancelled"});motionOptions=_e(()=>{let e=this.options()??{};return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),De(()=>{this.motion||(this.motion=$y(this.$el,this.motionOptions()))}),Uh(()=>{if(!this.$el)return;let e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(th(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount?mc(this.$el,r):this.motion?.leave()?.then(()=>{this.$el&&!this.cancelled&&!this.visible()&&mc(this.$el,r)}),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,th(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","pMotion",""]],inputs:{visible:[1,"pMotion","visible"],name:[1,"pMotionName","name"],type:[1,"pMotionType","type"],safe:[1,"pMotionSafe","safe"],disabled:[1,"pMotionDisabled","disabled"],appear:[1,"pMotionAppear","appear"],enter:[1,"pMotionEnter","enter"],leave:[1,"pMotionLeave","leave"],duration:[1,"pMotionDuration","duration"],hideStrategy:[1,"pMotionHideStrategy","hideStrategy"],enterFromClass:[1,"pMotionEnterFromClass","enterFromClass"],enterToClass:[1,"pMotionEnterToClass","enterToClass"],enterActiveClass:[1,"pMotionEnterActiveClass","enterActiveClass"],leaveFromClass:[1,"pMotionLeaveFromClass","leaveFromClass"],leaveToClass:[1,"pMotionLeaveToClass","leaveToClass"],leaveActiveClass:[1,"pMotionLeaveActiveClass","leaveActiveClass"],options:[1,"pMotionOptions","options"]},outputs:{onBeforeEnter:"pMotionOnBeforeEnter",onEnter:"pMotionOnEnter",onAfterEnter:"pMotionOnAfterEnter",onEnterCancelled:"pMotionOnEnterCancelled",onBeforeLeave:"pMotionOnBeforeLeave",onLeave:"pMotionOnLeave",onAfterLeave:"pMotionOnAfterLeave",onLeaveCancelled:"pMotionOnLeaveCancelled"},features:[Se([jy,{provide:nS,useExisting:n},{provide:dt,useExisting:n}]),re]})}return n})(),rS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({imports:[zy]})}return n})();var iS=(()=>{class n extends Rl{required=x(void 0,{transform:se});invalid=x(void 0,{transform:se});disabled=x(void 0,{transform:se});name=x();_disabled=le(!1);$disabled=_e(()=>this.disabled()||this._disabled());onModelChange=()=>{};onModelTouched=()=>{};writeDisabledState(e){this._disabled.set(e)}writeControlValue(e,r){}writeValue(e){this.writeControlValue(e,this.writeModelValue.bind(this))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.writeDisabledState(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275dir=Q({type:n,inputs:{required:[1,"required"],invalid:[1,"invalid"],disabled:[1,"disabled"],name:[1,"name"]},features:[re]})}return n})();var L9=(()=>{class n extends iS{pcFluid=P(Ri,{optional:!0,host:!0,skipSelf:!0});fluid=x(void 0,{transform:se});variant=x();size=x();inputSize=x();pattern=x();min=x();max=x();step=x();minlength=x();maxlength=x();$variant=_e(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());get hasFluid(){return this.fluid()??!!this.pcFluid}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275dir=Q({type:n,inputs:{fluid:[1,"fluid"],variant:[1,"variant"],size:[1,"size"],inputSize:[1,"inputSize"],pattern:[1,"pattern"],min:[1,"min"],max:[1,"max"],step:[1,"step"],minlength:[1,"minlength"],maxlength:[1,"maxlength"]},features:[re]})}return n})();var sS=["content"],cL=["overlay"],oS=["*","*"],uL=()=>({mode:null}),uS=n=>({$implicit:n}),lL=n=>({mode:n});function dL(n,t){n&1&&Ko(0)}function hL(n,t){if(n&1&&(At(0),rn(1,dL,1,0,"ng-container",3)),n&2){let e=xe();ze(),Ce("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Yc(3,uS,p_(2,uL)))}}function fL(n,t){n&1&&Ko(0)}function pL(n,t){if(n&1){let e=c_();pi(0,"div",5,0),xt("click",function(){Gn(e);let i=xe(2);return qn(i.onOverlayClick())}),pi(2,"p-motion",6),xt("onBeforeEnter",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayBeforeEnter(i))})("onEnter",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayEnter(i))})("onAfterEnter",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayAfterEnter(i))})("onBeforeLeave",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayBeforeLeave(i))})("onLeave",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayLeave(i))})("onAfterLeave",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayAfterLeave(i))}),pi(3,"div",5,1),xt("click",function(i){Gn(e);let s=xe(2);return qn(s.onOverlayContentClick(i))}),At(5,1),rn(6,fL,1,0,"ng-container",3),qo()()()}if(n&2){let e=xe(2);Wc(e.sx("root")),$e(e.cn(e.cx("root"),e.styleClass)),Ce("pBind",e.ptm("root")),ze(2),Ce("visible",e.visible)("appear",!0)("options",e.computedMotionOptions()),ze(),$e(e.cn(e.cx("content"),e.contentStyleClass)),Ce("pBind",e.ptm("content")),ze(3),Ce("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Yc(15,uS,Yc(13,lL,e.overlayMode)))}}function gL(n,t){if(n&1&&rn(0,pL,7,17,"div",4),n&2){let e=xe();Ce("ngIf",e.modalVisible)}}var mL={root:()=>({position:"absolute",top:"0"})},yL=`
.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
    will-change: transform;
}

/* Github Issue #18560 */
.p-component-overlay.p-component {
    position: relative;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}

.p-overlay-content ~ .p-overlay-content {
    display: none;
}
`,vL={host:"p-overlay-host",root:({instance:n})=>["p-overlay p-component",{"p-overlay-modal p-overlay-mask p-overlay-mask-enter-active":n.modal,"p-overlay-center":n.modal&&n.overlayResponsiveDirection==="center","p-overlay-top":n.modal&&n.overlayResponsiveDirection==="top","p-overlay-top-start":n.modal&&n.overlayResponsiveDirection==="top-start","p-overlay-top-end":n.modal&&n.overlayResponsiveDirection==="top-end","p-overlay-bottom":n.modal&&n.overlayResponsiveDirection==="bottom","p-overlay-bottom-start":n.modal&&n.overlayResponsiveDirection==="bottom-start","p-overlay-bottom-end":n.modal&&n.overlayResponsiveDirection==="bottom-end","p-overlay-left":n.modal&&n.overlayResponsiveDirection==="left","p-overlay-left-start":n.modal&&n.overlayResponsiveDirection==="left-start","p-overlay-left-end":n.modal&&n.overlayResponsiveDirection==="left-end","p-overlay-right":n.modal&&n.overlayResponsiveDirection==="right","p-overlay-right-start":n.modal&&n.overlayResponsiveDirection==="right-start","p-overlay-right-end":n.modal&&n.overlayResponsiveDirection==="right-end"}],content:"p-overlay-content"},aS=(()=>{class n extends Fe{name="overlay";style=yL;classes=vL;inlineStyles=mL;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ee(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),cS=new $("OVERLAY_INSTANCE"),i5=(()=>{class n extends Ve{overlayService;zone;$pcOverlay=P(cS,{optional:!0,skipSelf:!0})??void 0;hostName="";get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Ki.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Ki.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Ki.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Ki.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}appendTo=x(void 0);inline=x(!1);motionOptions=x(void 0);computedMotionOptions=_e(()=>A(A({},this.ptm("motion")),this.motionOptions()||this.overlayOptions?.motionOptions));visibleChange=new pe;onBeforeShow=new pe;onShow=new pe;onBeforeHide=new pe;onHide=new pe;onAnimationStart=new pe;onAnimationDone=new pe;onBeforeEnter=new pe;onEnter=new pe;onAfterEnter=new pe;onBeforeLeave=new pe;onLeave=new pe;onAfterLeave=new pe;overlayViewChild;contentViewChild;contentTemplate;templates;hostAttrSelector=x();$appendTo=_e(()=>this.appendTo()||this.config.overlayAppendTo());_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=P(aS);bindDirectiveInstance=P(he,{self:!0});documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Dr(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return A(A({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return A(A({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return $f(this.target,this.el?.nativeElement)}constructor(e,r){super(),this.overlayService=e,this.zone=r}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}show(e,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&zf(this.targetEl),this.modal&&Bt(this.document?.body,"p-overflow-hidden")}hide(e,r=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&zf(this.targetEl),this.modal&&$t(this.document?.body,"p-overflow-hidden");else return}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}container=le(void 0);onOverlayBeforeEnter(e){this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.container.set(this.overlayEl||e.element),this.show(this.overlayEl,!0),this.hostAttrSelector()&&this.overlayEl&&this.overlayEl.setAttribute(this.hostAttrSelector(),""),this.appendOverlay(),this.alignOverlay(),this.setZIndex(),this.handleEvents("onBeforeEnter",e)}onOverlayEnter(e){this.handleEvents("onEnter",e)}onOverlayAfterEnter(e){this.bindListeners(),this.handleEvents("onAfterEnter",e)}onOverlayBeforeLeave(e){this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.handleEvents("onBeforeLeave",e)}onOverlayLeave(e){this.handleEvents("onLeave",e)}onOverlayAfterLeave(e){this.hide(this.overlayEl,!0),this.container.set(null),this.unbindListeners(),this.appendOverlay(),Xd.clear(this.overlayEl),this.modalVisible=!1,this.cd.markForCheck(),this.handleEvents("onAfterLeave",e)}handleEvents(e,r){this[e].emit(r),this.options&&this.options[e]&&this.options[e](r),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](r)}setZIndex(){this.autoZIndex&&Xd.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode])}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?jf(this.document.body,this.overlayEl):jf(this.$appendTo(),this.overlayEl))}alignOverlay(){this.modal||this.overlayEl&&this.targetEl&&(this.overlayEl.style.minWidth=Ju(this.targetEl)+"px",this.$appendTo()==="self"?CE(this.overlayEl,this.targetEl):TE(this.overlayEl,this.targetEl))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new gl(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let i=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&i}):i)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Ca()}):!Ca())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!Ca()}):!Ca())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}onDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&this.$appendTo()!=="self"&&(this.renderer.appendChild(this.el.nativeElement,this.overlayEl),Xd.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(r){return new(r||n)(z(BE),z(nn))};static \u0275cmp=Be({type:n,selectors:[["p-overlay"]],contentQueries:function(r,i,s){if(r&1&&ls(s,sS,4)(s,ol,4),r&2){let o;Kt(o=Qt())&&(i.contentTemplate=o.first),Kt(o=Qt())&&(i.templates=o)}},viewQuery:function(r,i){if(r&1&&l_(cL,5)(sS,5),r&2){let s;Kt(s=Qt())&&(i.overlayViewChild=s.first),Kt(s=Qt())&&(i.contentViewChild=s.first)}},inputs:{hostName:"hostName",visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options",appendTo:[1,"appendTo"],inline:[1,"inline"],motionOptions:[1,"motionOptions"],hostAttrSelector:[1,"hostAttrSelector"]},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone",onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave"},features:[Se([aS,{provide:cS,useExisting:n},{provide:dt,useExisting:n}]),_t([he]),re],ngContentSelectors:oS,decls:2,vars:1,consts:[["overlay",""],["content",""],[3,"class","style","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","style","pBind","click",4,"ngIf"],[3,"click","pBind"],["name","p-anchored-overlay",3,"onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","visible","appear","options"]],template:function(r,i){r&1&&(Lt(oS),zc(0,hL,2,5)(1,gL,1,1,"div",2)),r&2&&Hc(i.inline()?0:1)},dependencies:[Et,ea,ta,Pn,he,rS,zy],encapsulation:2,changeDetection:0})}return n})();export{YS as a,$_ as b,ea as c,Wh as d,ta as e,ZS as f,eA as g,Et as h,Dr as i,sf as j,yA as k,In as l,wn as m,db as n,zA as o,HA as p,qA as q,An as r,Rf as s,Dn as t,Qu as u,AR as v,PR as w,NR as x,bE as y,Bt as z,$t as A,IE as B,VR as C,UR as D,TE as E,lU as F,Ju as G,CE as H,jf as I,Zu as J,dU as K,jR as L,As as M,zf as N,hU as O,DE as P,fU as Q,Hf as R,pU as S,gU as T,RE as U,Gf as V,mU as W,qf as X,yU as Y,vU as Z,_U as _,Ca as $,bU as aa,EU as ba,OE as ca,Rn as da,WR as ea,me as fa,tl as ga,Sa as ha,CU as ia,SU as ja,Yf as ka,AU as la,DU as ma,Aa as na,KR as oa,kU as pa,lt as qa,xU as ra,LU as sa,FU as ta,BE as ua,VU as va,UU as wa,ol as xa,Pn as ya,BU as za,Ip as Aa,Fe as Ba,jB as Ca,Rt as Da,mO as Ea,yO as Fa,vO as Ga,Qe as Ha,P3 as Ia,Tx as Ja,N3 as Ka,O3 as La,M3 as Ma,k3 as Na,x3 as Oa,L3 as Pa,F3 as Qa,V3 as Ra,U3 as Sa,B3 as Ta,$3 as Ua,QC as Va,YC as Wa,dt as Xa,Ve as Ya,Cp as Za,i$ as _a,s$ as $a,gl as ab,Rw as bb,he as cb,ml as db,Sp as eb,Mw as fb,Ri as gb,yl as hb,Fw as ib,c4 as jb,Bw as kb,G4 as lb,ZP as mb,q4 as nb,Ki as ob,u9 as pb,Xd as qb,l9 as rb,Op as sb,s0 as tb,Qw as ub,ir as vb,lj as wb,dj as xb,AN as yb,fj as zb,PN as Ab,ON as Bb,pj as Cb,gj as Db,mj as Eb,zy as Fb,A9 as Gb,rS as Hb,Rl as Ib,iS as Jb,L9 as Kb,Vj as Lb,Uj as Mb,i5 as Nb};

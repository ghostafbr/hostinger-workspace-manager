import{c as $,d as H,e as J,f as Y,g as G}from"./chunk-3Z6ABU2J.js";import{a as R,b as B}from"./chunk-CTPZG76Y.js";import{Ma as z,gb as q,hb as U,j as W}from"./chunk-WQRABBEY.js";import{$b as k,Ab as N,Ac as f,Bb as c,Cb as m,Cc as F,Dc as a,Hb as O,Ib as S,Mb as D,Ob as v,Pa as i,Pb as h,Qb as u,Z as w,_ as P,ac as T,bb as r,bc as s,cc as p,dc as I,hb as E,kc as x,lc as j,rb as g,sb as C,sc as A,tc as V,xb as b,yb as l,zb as d}from"./chunk-XTNRL3Y3.js";var K=class n{expiresAt=a.required();daysUntilExpiration=f(()=>{let e=this.toDate(this.expiresAt());if(!e)return null;let t=new Date,o=e.getTime()-t.getTime();return Math.ceil(o/(1e3*60*60*24))});statusClass=f(()=>{let e=this.daysUntilExpiration();return e===null?"ok":e<0?"expired":e<=7?"critical":e<=30?"warning":"ok"});daysText=f(()=>{let e=this.daysUntilExpiration();return e===null?"?":e<0?"\u26A0":e===0?"HOY":e===1?"1d":e<100?`${e}d`:"99+"});tooltip=f(()=>{let e=this.daysUntilExpiration();return e===null?"Fecha desconocida":e<0?`Venci\xF3 hace ${Math.abs(e)} d\xEDa(s)`:e===0?"\xA1Vence hoy!":e===1?"Vence ma\xF1ana":`Vence en ${e} d\xEDa(s)`});toDate(e){return e?e instanceof Date?e:typeof e=="string"?new Date(e):typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=r({type:n,selectors:[["app-expiration-semaphore"]],inputs:{expiresAt:[1,"expiresAt"]},decls:4,vars:4,consts:[[1,"semaphore"],[1,"semaphore-circle",3,"title"],[1,"semaphore-text"]],template:function(t,o){t&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),s(3),m()()()),t&2&&(T(o.statusClass()),i(),S("title",o.tooltip()),i(2),p(o.daysText()))},styles:[".semaphore[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}.semaphore-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.75rem;cursor:help;transition:transform .2s ease}.semaphore-circle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.semaphore-text[_ngcontent-%COMP%]{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}.critical[_ngcontent-%COMP%]   .semaphore-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 2px 8px #ef444466}.warning[_ngcontent-%COMP%]   .semaphore-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);box-shadow:0 2px 8px #f59e0b66}.ok[_ngcontent-%COMP%]   .semaphore-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 2px 8px #10b98166}.expired[_ngcontent-%COMP%]   .semaphore-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7f1d1d,#991b1b);box-shadow:0 2px 8px #7f1d1d66;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}"],changeDetection:0})};var Z=[[["","slot","header"]],"*"],ee=["[slot=header]","*"],te=n=>({width:n,maxWidth:"95vw"}),ne=()=>({"960px":"95vw","640px":"100vw"});function oe(n,e){if(n&1){let t=O();l(0,"p-button",3),D("onClick",function(){w(t);let _=v(2);return P(_.onClose.emit())}),d()}}function ie(n,e){n&1&&(u(0),l(1,"div",1),u(2,1),d(),E(3,oe,1,0,"ng-template",2))}var L=class n{visible=a.required();header=a.required();width=a("700px");onClose=F();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=r({type:n,selectors:[["app-modal-wrapper"]],inputs:{visible:[1,"visible"],header:[1,"header"],width:[1,"width"]},outputs:{onClose:"onClose"},ngContentSelectors:ee,decls:2,vars:13,consts:[[3,"visibleChange","header","visible","modal","breakpoints","dismissableMask","draggable","resizable"],[1,"dialog-content"],["pTemplate","footer"],["label","Cerrar","icon","pi pi-times","severity","secondary",3,"onClick"]],template:function(t,o){t&1&&(h(Z),l(0,"p-dialog",0),D("visibleChange",function(){return o.onClose.emit()}),g(1,ie,4,0),d()),t&2&&(k(j(10,te,o.width())),b("header",o.header())("visible",o.visible())("modal",!0)("breakpoints",x(12,ne))("dismissableMask",!0)("draggable",!1)("resizable",!1),i(),C(o.visible()?1:-1))},dependencies:[B,R,z,U,q],encapsulation:2,changeDetection:0})};var ae=["*"];function re(n,e){if(n&1&&s(0),n&2){let t=v();I(" ",t.value()," ")}}function le(n,e){n&1&&u(0)}var Q=class n{label=a.required();value=a();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=r({type:n,selectors:[["app-detail-item"]],inputs:{label:[1,"label"],value:[1,"value"]},ngContentSelectors:ae,decls:6,vars:2,consts:[[1,"detail-item"],[1,"detail-label"],[1,"detail-value"]],template:function(t,o){t&1&&(h(),c(0,"div",0)(1,"label",1),s(2),m(),c(3,"div",2),g(4,re,1,1)(5,le,1,0),m()()),t&2&&(i(2),p(o.label()),i(2),C(o.value()?4:5))},styles:[".detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary);font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-color)}"],changeDetection:0})};var se=()=>["0"],X=class n{data=a.required();label=a("Datos Raw (JSON)");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=r({type:n,selectors:[["app-raw-data-viewer"]],inputs:{data:[1,"data"],label:[1,"label"]},decls:12,vars:6,consts:[[1,"raw-data-section"],[3,"value"],["value","0"],[1,"accordion-header"],[1,"pi","pi-code"],[1,"raw-data-content"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"p-accordion",1)(2,"p-accordionpanel",2)(3,"p-accordionheader")(4,"div",3),N(5,"i",4),l(6,"span"),s(7),d()()(),l(8,"p-accordioncontent")(9,"pre",5),s(10),A(11,"json"),d()()()()()),t&2&&(i(),b("value",x(5,se)),i(6),p(o.label()),i(3),p(V(11,3,o.data())))},dependencies:[G,Y,$,H,J,W],styles:[".raw-data-content[_ngcontent-%COMP%]{background:var(--surface-50);padding:1rem;border-radius:6px;overflow-x:auto;font-size:.875rem;margin:0;color:var(--text-color)}.accordion-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500}"],changeDetection:0})};export{K as a,L as b,Q as c,X as d};

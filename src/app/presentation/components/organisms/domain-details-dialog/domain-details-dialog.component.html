<app-modal-wrapper
  header="Detalles del Dominio"
  [visible]="visible()"
  (onClose)="onClose()"
  width="700px"
>
  <!-- Custom Header Content -->
  <ng-container slot="header">
    @if (domain()) {
      <div class="domain-header mb-3">
        <div class="domain-title">
          <app-expiration-semaphore [expiresAt]="domain()!.expiresAt" />
          <h2>{{ domain()!.domainName }}</h2>
        </div>
      </div>
    }
  </ng-container>

  @if (domain()) {
    <p-divider />

    <!-- Details Grid -->
    <div class="details-grid mt-3">
      <!-- Expiration Date -->
      <app-detail-item label="Fecha de Vencimiento">
        <strong>{{ domain()!.expiresAt.toDate() | date: 'dd/MM/yyyy HH:mm' }}</strong>
      </app-detail-item>

      <!-- Creation Date -->
      @if (domain()!.createdAt) {
        <app-detail-item label="Fecha de CreaciÃ³n">
          {{ domain()!.createdAt.toDate() | date: 'dd/MM/yyyy HH:mm' }}
        </app-detail-item>
      }

      <!-- Domain Lock -->
      <app-detail-item label="Domain Lock">
        <p-tag
          [value]="domain()!.domainLock ? 'Activado' : 'Desactivado'"
          [severity]="getTagSeverity(domain()!.domainLock || false)"
        />
      </app-detail-item>

      <!-- Privacy Protection -->
      <app-detail-item label="Privacidad WHOIS">
        <p-tag
          [value]="domain()!.privacyProtection ? 'Activada' : 'Desactivada'"
          [severity]="getTagSeverity(domain()!.privacyProtection || false)"
        />
      </app-detail-item>
    </div>

    <p-divider />

    <!-- Nameservers Section -->
    <div class="nameservers-section">
      <h3 class="section-title">
        <i class="pi pi-server"></i>
        Nameservers
      </h3>
      @if (domain()!.nameservers && domain()!.nameservers!.length > 0) {
        <ul class="nameservers-list">
          @for (ns of domain()!.nameservers; track ns) {
            <li class="nameserver-item">
              <i class="pi pi-angle-right"></i>
              <code>{{ ns }}</code>
            </li>
          }
        </ul>
      } @else {
        <p class="no-data">No hay nameservers configurados</p>
      }
    </div>

    <p-divider />

    <!-- Raw Data Section -->
    <app-raw-data-viewer [data]="domain()" />
  }
</app-modal-wrapper>

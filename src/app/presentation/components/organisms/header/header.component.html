<header class="header">
  <div class="header-left">
    <!-- Toggle Sidebar (mobile) -->
    <button
      pButton
      icon="pi pi-bars"
      class="p-button-text p-button-rounded toggle-sidebar-btn"
      (click)="onToggleSidebar()"
      pTooltip="Toggle menu"
      tooltipPosition="bottom"
      aria-label="Abrir o cerrar menú lateral"
      aria-controls="navigation"
    ></button>

    <!-- Workspace Selector -->
    <app-workspace-selector
      [options]="workspaceOptions()"
      [value]="selectedWorkspaceId"
      (valueChange)="onWorkspaceSelected($event)"
    ></app-workspace-selector>

    <!-- Quick Actions -->
    @if (hasWorkspaceSelected()) {
      <div class="quick-actions" role="group" aria-label="Acciones rápidas">
        <button
          pButton
          icon="pi pi-link"
          label="Test"
          class="p-button-outlined p-button-sm"
          (click)="onTestConnection()"
          [loading]="isTestingConnection()"
          [disabled]="!canTestConnection()"
          pTooltip="Test connection to Hostinger API"
          tooltipPosition="bottom"
          aria-label="Probar conexión con la API de Hostinger"
        ></button>
        <button
          pButton
          icon="pi pi-refresh"
          label="Sync"
          class="p-button-outlined p-button-sm"
          (click)="onSyncNow()"
          [loading]="isSyncing()"
          [disabled]="!canSync()"
          pTooltip="Sync data from Hostinger"
          tooltipPosition="bottom"
          aria-label="Sincronizar datos desde Hostinger"
        ></button>
      </div>
    }
  </div>

  <div class="header-right">
    <!-- Notifications -->
    <button
      pButton
      icon="pi pi-bell"
      class="p-button-text p-button-rounded notification-btn"
      badge="3"
      badgeClass="p-badge-danger"
      pTooltip="Notifications"
      tooltipPosition="bottom"
    ></button>

    <!-- User Menu -->
    <app-user-menu [initials]="userInitials()" [items]="userMenuItems"></app-user-menu>
  </div>
</header>

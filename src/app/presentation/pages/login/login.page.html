<div class="login-container">
  <div class="login-card-wrapper">
    <p-card>
      <ng-template pTemplate="header">
        <div class="card-header">
          <h1 class="app-title">Hostinger Workspace Manager</h1>
          <p class="app-subtitle">Gestión de dominios y suscripciones</p>
        </div>
      </ng-template>

      <!-- Error Message -->
      @if (errorMessage()) {
      <p-message severity="error" [text]="errorMessage()!" />
      }

      <!-- Login Form -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <!-- Email Field -->
        <div class="field">
          <label for="email" class="field-label">Email</label>
          <input
            pInputText
            id="email"
            formControlName="email"
            type="email"
            placeholder="usuario@ejemplo.com"
            [invalid]="hasFieldError('email')"
            fluid
            autocomplete="email"
          />
          @if (hasFieldError('email')) {
          <small class="field-error">{{ getFieldError('email') }}</small>
          }
        </div>

        <!-- Password Field -->
        <div class="field">
          <label for="password" class="field-label">Contraseña</label>
          <p-password
            formControlName="password"
            inputId="password"
            placeholder="Ingresa tu contraseña"
            [toggleMask]="true"
            [feedback]="false"
            [invalid]="hasFieldError('password')"
            fluid
            autocomplete="current-password"
          />
          @if (hasFieldError('password')) {
          <small class="field-error">{{ getFieldError('password') }}</small>
          }
        </div>

        <!-- Submit Button -->
        <p-button
          type="submit"
          label="Iniciar Sesión"
          icon="pi pi-sign-in"
          [loading]="isLoading()"
          [disabled]="loginForm.invalid || isLoading()"
          severity="primary"
          fluid
        />
      </form>

      <!-- Footer Note -->
      <ng-template pTemplate="footer">
        <div class="card-footer">
          <p class="footer-note">
            <i class="pi pi-info-circle"></i>
            Solo usuarios autorizados pueden acceder a esta aplicación.
          </p>
        </div>
      </ng-template>
    </p-card>
  </div>
</div>

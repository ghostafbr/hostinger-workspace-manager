import{a as O}from"./chunk-G2OQGXDI.js";import{a as te,b as ie}from"./chunk-PD4RLLCC.js";import{a as $,c as ee}from"./chunk-MR3LIVR4.js";import{a as V}from"./chunk-2RWR6RJP.js";import{h as ne}from"./chunk-O6K3AIZZ.js";import"./chunk-WW6MSIHO.js";import"./chunk-FFA64DBE.js";import"./chunk-5WKTPFE2.js";import{a as ae,b as oe,c as re,d as le,e as se,h as me}from"./chunk-WC4IU22P.js";import"./chunk-KT6VCDEH.js";import{a as Q,b as X}from"./chunk-JPKGTB4I.js";import{a as W}from"./chunk-LSJGMPCD.js";import{e as H,l as J}from"./chunk-L6VG4DHT.js";import{a as Y,b as Z}from"./chunk-GUUVKBTU.js";import"./chunk-HPQ7OMYE.js";import{Ab as K,Bb as G,Cb as U,Gb as j,Ob as z,Pb as q,nb as L,ob as A,u as N,ub as I,vb as B,ya as k,yb as F,zb as R}from"./chunk-M5CBQPDY.js";import{$b as T,Fb as E,Jb as b,Kb as d,Oa as m,T as P,Y as g,Z as u,Zb as a,_b as v,ab as S,ac as D,bc as f,cc as _,dc as C,gb as M,ia as c,pb as x,qb as y,tc as w,vb as p,wb as t,xb as n,yb as h}from"./chunk-ZVXIGZDY.js";function ce(o,s){if(o&1&&(t(0,"div",6)(1,"h2"),a(2,"\u{1F4E7} Configuraci\xF3n de Emails"),n(),t(3,"p",7),a(4),n()()),o&2){let e,r=d();m(4),T("Configure el env\xEDo de notificaciones por email para ",(e=r.currentWorkspace())==null?null:e.name)}}function pe(o,s){if(o&1&&h(0,"p-message",2),o&2){let e=d();p("text",e.error())}}function ge(o,s){if(o&1&&h(0,"p-message",3),o&2){let e=d();p("text",e.success())}}function ue(o,s){o&1&&(t(0,"div",4),h(1,"i",8),t(2,"p"),a(3,"Cargando configuraci\xF3n..."),n()())}function fe(o,s){o&1&&a(0," Tu email de Hostinger (debe existir en tu panel) ")}function _e(o,s){o&1&&a(0," Email verificado en SendGrid ")}function Ce(o,s){o&1&&(t(0,"span",50),a(1,"(dejar en blanco para mantener la actual)"),n())}function xe(o,s){o&1&&(t(0,"span",15),a(1,"*"),n())}function ye(o,s){if(o&1){let e=E();t(0,"div",19)(1,"h3",20),a(2,"Configuraci\xF3n SMTP"),n()(),t(3,"div",13)(4,"label",40),a(5,"Servidor SMTP "),t(6,"span",15),a(7,"*"),n()(),t(8,"input",41),C("ngModelChange",function(i){g(e);let l=d(2);return _(l.smtpHost,i)||(l.smtpHost=i),u(i)}),n(),t(9,"small"),a(10,"Para Hostinger: smtp.hostinger.com"),n()(),t(11,"div",42)(12,"label",43),a(13,"Puerto "),t(14,"span",15),a(15,"*"),n()(),t(16,"p-inputNumber",44),C("ngModelChange",function(i){g(e);let l=d(2);return _(l.smtpPort,i)||(l.smtpPort=i),u(i)}),n(),t(17,"small"),a(18,"465 (SSL) o 587 (TLS)"),n()(),t(19,"div",42)(20,"label",45),a(21,"Conexi\xF3n segura"),n(),t(22,"p-toggleButton",46),C("ngModelChange",function(i){g(e);let l=d(2);return _(l.smtpSecure,i)||(l.smtpSecure=i),u(i)}),n()(),t(23,"div",13)(24,"label",47),a(25,"Usuario SMTP "),t(26,"span",15),a(27,"*"),n()(),t(28,"input",48),C("ngModelChange",function(i){g(e);let l=d(2);return _(l.smtpUsername,i)||(l.smtpUsername=i),u(i)}),n(),t(29,"small"),a(30,"Normalmente es tu email completo"),n()(),t(31,"div",13)(32,"label",49),a(33," Contrase\xF1a SMTP "),x(34,Ce,2,0,"span",50)(35,xe,2,0,"span",15),n(),t(36,"div",51)(37,"input",52),C("ngModelChange",function(i){g(e);let l=d(2);return _(l.smtpPassword,i)||(l.smtpPassword=i),u(i)}),n()(),t(38,"small"),a(39,"Contrase\xF1a de tu cuenta de email"),n()()}if(o&2){let e=d(2);m(8),f("ngModel",e.smtpHost),p("disabled",!e.enabled()),m(8),f("ngModel",e.smtpPort),p("min",1)("max",65535)("disabled",!e.enabled()),m(6),f("ngModel",e.smtpSecure),p("disabled",!e.enabled()),m(6),f("ngModel",e.smtpUsername),p("disabled",!e.enabled()),m(6),y(e.config()&&e.config().providerType===e.EmailProvider.SMTP?34:35),m(3),f("ngModel",e.smtpPassword),p("feedback",!1)("disabled",!e.enabled())}}function he(o,s){o&1&&(t(0,"span",50),a(1,"(dejar en blanco para mantener la actual)"),n())}function Ee(o,s){o&1&&(t(0,"span",15),a(1,"*"),n())}function be(o,s){if(o&1){let e=E();t(0,"div",19)(1,"h3",20),a(2,"Configuraci\xF3n SendGrid"),n()(),t(3,"div",10)(4,"label",53),a(5," SendGrid API Key "),x(6,he,2,0,"span",50)(7,Ee,2,0,"span",15),n(),t(8,"div",51)(9,"input",54),C("ngModelChange",function(i){g(e);let l=d(2);return _(l.apiKey,i)||(l.apiKey=i),u(i)}),n()(),t(10,"small"),a(11," Obt\xE9n tu API key en "),t(12,"a",55),a(13,"SendGrid Dashboard"),n()()()}if(o&2){let e=d(2);m(6),y(e.config()&&e.config().providerType===e.EmailProvider.SENDGRID?6:7),m(3),f("ngModel",e.apiKey),p("feedback",!1)("disabled",!e.enabled())}}function Pe(o,s){if(o&1){let e=E();t(0,"p-button",56),b("onClick",function(){g(e);let i=d(2);return u(i.onDelete())}),n()}o&2&&p("outlined",!0)}function Me(o,s){if(o&1){let e=E();t(0,"p-button",57),b("onClick",function(){g(e);let i=d(2);return u(i.onSendTestEmail())}),n()}if(o&2){let e=d(2);p("disabled",e.isSendingTest())("loading",e.isSendingTest())}}function ve(o,s){if(o&1){let e=E();t(0,"form",9)(1,"div",10)(2,"label",11)(3,"input",12),C("ngModelChange",function(i){g(e);let l=d();return _(l.enabled,i)||(l.enabled=i),u(i)}),n(),t(4,"span"),a(5,"Activar notificaciones por email"),n()()(),t(6,"div",13)(7,"label",14),a(8,"Email destinatario "),t(9,"span",15),a(10,"*"),n()(),t(11,"input",16),C("ngModelChange",function(i){g(e);let l=d();return _(l.recipientEmail,i)||(l.recipientEmail=i),u(i)}),n(),t(12,"small"),a(13,"Email principal que recibir\xE1 las notificaciones"),n()(),t(14,"div",13)(15,"label",17),a(16,"Emails CC (opcional)"),n(),t(17,"textarea",18),b("blur",function(i){g(e);let l=d();return u(l.onCCEmailsChange(i))}),n(),t(18,"small"),a(19,"Destinatarios adicionales separados por comas"),n()(),t(20,"div",19)(21,"h3",20),a(22,"Configuraci\xF3n del Remitente"),n()(),t(23,"div",10)(24,"label",21),a(25,"Proveedor de email "),t(26,"span",15),a(27,"*"),n()(),t(28,"p-select",22),C("ngModelChange",function(i){g(e);let l=d();return _(l.providerType,i)||(l.providerType=i),u(i)}),n(),t(29,"small"),a(30,"Usa SMTP para Hostinger, Gmail, Outlook, etc. o SendGrid API"),n()(),t(31,"div",13)(32,"label",23),a(33,"Email remitente "),t(34,"span",15),a(35,"*"),n()(),t(36,"input",24),C("ngModelChange",function(i){g(e);let l=d();return _(l.fromEmail,i)||(l.fromEmail=i),u(i)}),n(),t(37,"small"),x(38,fe,1,0)(39,_e,1,0),n()(),t(40,"div",13)(41,"label",25),a(42,"Nombre remitente "),t(43,"span",15),a(44,"*"),n()(),t(45,"input",26),C("ngModelChange",function(i){g(e);let l=d();return _(l.fromName,i)||(l.fromName=i),u(i)}),n()(),x(46,ye,40,14),x(47,be,14,4),t(48,"div",19)(49,"h3",20),a(50,"L\xEDmites de Env\xEDo"),n()(),t(51,"div",13)(52,"label",27),a(53,"M\xE1ximo por hora"),n(),t(54,"p-inputNumber",28),C("ngModelChange",function(i){g(e);let l=d();return _(l.maxPerHour,i)||(l.maxPerHour=i),u(i)}),n(),t(55,"small"),a(56,"L\xEDmite de emails por hora"),n()(),t(57,"div",13)(58,"label",29),a(59,"M\xE1ximo por d\xEDa"),n(),t(60,"p-inputNumber",30),C("ngModelChange",function(i){g(e);let l=d();return _(l.maxPerDay,i)||(l.maxPerDay=i),u(i)}),n(),t(61,"small"),a(62,"L\xEDmite de emails por d\xEDa"),n()(),t(63,"div",19)(64,"h3",20),a(65,"Configuraci\xF3n de Reintentos"),n()(),t(66,"div",13)(67,"label",31),a(68,"Intentos m\xE1ximos"),n(),t(69,"p-inputNumber",32),C("ngModelChange",function(i){g(e);let l=d();return _(l.maxRetryAttempts,i)||(l.maxRetryAttempts=i),u(i)}),n(),t(70,"small"),a(71,"N\xFAmero de reintentos en caso de fallo"),n()(),t(72,"div",13)(73,"label",33),a(74,"Delay entre reintentos (minutos)"),n(),t(75,"p-inputNumber",34),C("ngModelChange",function(i){g(e);let l=d();return _(l.retryDelayMinutes,i)||(l.retryDelayMinutes=i),u(i)}),n(),t(76,"small"),a(77,"Tiempo de espera entre reintentos"),n()()(),t(78,"div",35)(79,"p-button",36),b("onClick",function(){g(e);let i=d();return u(i.onCancel())}),n(),x(80,Pe,1,1,"p-button",37),x(81,Me,1,2,"p-button",38),t(82,"p-button",39),b("onClick",function(){g(e);let i=d();return u(i.onSave())}),n()()}if(o&2){let e=d();m(3),f("ngModel",e.enabled),m(8),f("ngModel",e.recipientEmail),p("disabled",!e.enabled()),m(6),p("value",e.ccEmails().join(", "))("disabled",!e.enabled()),m(11),f("ngModel",e.providerType),p("options",e.providerOptions)("disabled",!e.enabled()),m(8),f("ngModel",e.fromEmail),p("placeholder",e.providerType()===e.EmailProvider.SMTP?"tu-email@andres-bolanos.dev":"noreply@yourdomain.com")("disabled",!e.enabled()),m(2),y(e.providerType()===e.EmailProvider.SMTP?38:39),m(7),f("ngModel",e.fromName),p("disabled",!e.enabled()),m(),y(e.providerType()===e.EmailProvider.SMTP?46:-1),m(),y(e.providerType()===e.EmailProvider.SENDGRID?47:-1),m(7),f("ngModel",e.maxPerHour),p("min",1)("max",100)("disabled",!e.enabled()),m(6),f("ngModel",e.maxPerDay),p("min",1)("max",1e3)("disabled",!e.enabled()),m(9),f("ngModel",e.maxRetryAttempts),p("min",0)("max",10)("disabled",!e.enabled()),m(6),f("ngModel",e.retryDelayMinutes),p("min",1)("max",60)("disabled",!e.enabled()),m(4),p("outlined",!0),m(),y(e.config()?80:-1),m(),y(e.config()&&e.enabled()?81:-1),m(),p("disabled",!e.canSave()||e.isSaving())("loading",e.isSaving())}}function we(o,s){o&1&&(t(0,"div",6)(1,"h3"),a(2,"\u{1F4EC} Historial de Emails"),n(),t(3,"p",7),a(4,"\xDAltimos 20 emails enviados"),n()())}function Se(o,s){o&1&&(t(0,"tr")(1,"th"),a(2,"Fecha"),n(),t(3,"th"),a(4,"Destinatario"),n(),t(5,"th"),a(6,"Asunto"),n(),t(7,"th"),a(8,"Tipo"),n(),t(9,"th"),a(10,"Estado"),n(),t(11,"th"),a(12,"Reintentos"),n()())}function Te(o,s){if(o&1&&(t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),n(),t(7,"td"),h(8,"p-tag",61),n(),t(9,"td"),h(10,"p-tag",62),n(),t(11,"td"),a(12),n()()),o&2){let e=s.$implicit,r=d(2);m(2),v(r.formatDate(e.createdAt)),m(2),v(e.recipientEmail),m(2),v(e.subject),m(2),p("value",e.templateType),m(2),p("value",e.status)("severity",r.getStatusSeverity(e.status)),m(2),D("",e.retryCount," / ",e.maxRetries)}}function De(o,s){o&1&&(t(0,"tr")(1,"td",63),a(2,"No hay emails en el historial"),n()())}function Ne(o,s){if(o&1&&(t(0,"p-card",5),M(1,we,5,0,"ng-template",1),t(2,"p-table",58),M(3,Se,13,0,"ng-template",1)(4,Te,13,8,"ng-template",59)(5,De,3,0,"ng-template",60),n()()),o&2){let e=d();m(2),p("value",e.emailLogs())("paginator",!0)("rows",10)}}var de=class o{emailService=P(ne);workspaceContext=P(O);encryptionService=P(V);router=P(N);isLoading=c(!1);isSaving=c(!1);isSendingTest=c(!1);error=c(null);success=c(null);config=c(null);emailLogs=c([]);showApiKey=c(!1);enabled=c(!0);providerType=c("smtp");recipientEmail=c("andres.fbramirez@gmail.com");ccEmails=c([]);fromEmail=c("afbolanos@andres-bolanos.dev");fromName=c("Hostinger Workspace Manager");apiKey=c("");smtpHost=c("smtp.hostinger.com");smtpPort=c(465);smtpSecure=c(!0);smtpUsername=c("afbolanos@andres-bolanos.dev");smtpPassword=c("");maxPerHour=c(10);maxPerDay=c(50);maxRetryAttempts=c(3);retryDelayMinutes=c(5);providerOptions=[{label:"SMTP (Hostinger, Gmail, etc.)",value:"smtp"},{label:"SendGrid API",value:"sendgrid"}];EmailProvider=W;currentWorkspace=w(()=>this.workspaceContext.getCurrentWorkspace());canSave=w(()=>this.recipientEmail().trim()!==""&&this.fromEmail().trim()!==""&&this.fromName().trim()!==""?this.providerType()==="smtp"?this.smtpHost().trim()!==""&&this.smtpUsername().trim()!==""&&(this.smtpPassword().trim()!==""||this.config()!==null):this.apiKey().trim()!==""||this.config()!==null:!1);async ngOnInit(){await this.loadConfig()}async loadConfig(){let s=this.currentWorkspace();if(!s?.id){this.error.set("No workspace selected");return}this.isLoading.set(!0),this.error.set(null);try{let e=await this.emailService.getEmailConfig(s.id);e&&(this.config.set(e),this.enabled.set(e.enabled),this.providerType.set(e.providerType||"smtp"),this.recipientEmail.set(e.recipientEmail),this.ccEmails.set(e.ccEmails||[]),this.fromEmail.set(e.provider.fromEmail),this.fromName.set(e.provider.fromName),e.providerType==="smtp"&&e.provider.smtp&&(this.smtpHost.set(e.provider.smtp.host),this.smtpPort.set(e.provider.smtp.port),this.smtpSecure.set(e.provider.smtp.secure),this.smtpUsername.set(e.provider.smtp.username)),this.maxPerHour.set(e.rateLimit?.maxPerHour||10),this.maxPerDay.set(e.rateLimit?.maxPerDay||50),this.maxRetryAttempts.set(e.retry?.maxAttempts||3),this.retryDelayMinutes.set(e.retry?.delayMinutes||5)),await this.loadEmailLogs()}catch(e){let r=e instanceof Error?e.message:"Unknown error";this.error.set(`Failed to load configuration: ${r}`)}finally{this.isLoading.set(!1)}}async loadEmailLogs(){let s=this.currentWorkspace();if(s?.id)try{let e=await this.emailService.getEmailLogs(s.id,20);this.emailLogs.set(e)}catch(e){console.error("Failed to load email logs:",e)}}onCCEmailsChange(s){let r=s.target.value.split(",").map(i=>i.trim()).filter(i=>i.length>0);this.ccEmails.set(r)}async onSave(){let s=this.currentWorkspace();if(!s?.id){this.error.set("No workspace selected");return}this.isSaving.set(!0),this.error.set(null),this.success.set(null);try{let e;if(this.providerType()==="smtp"){let r=this.smtpPassword(),i=r.trim()!==""?this.encryptionService.encrypt(r):this.config()?.provider.smtp?.password;if(!i)throw new Error("SMTP password is required");e={workspaceId:s.id,enabled:this.enabled(),providerType:"smtp",recipientEmail:this.recipientEmail(),ccEmails:this.ccEmails(),provider:{smtp:{host:this.smtpHost(),port:this.smtpPort(),secure:this.smtpSecure(),username:this.smtpUsername(),password:i},fromEmail:this.fromEmail(),fromName:this.fromName()},rateLimit:{maxPerHour:this.maxPerHour(),maxPerDay:this.maxPerDay()},retry:{maxAttempts:this.maxRetryAttempts(),delayMinutes:this.retryDelayMinutes()}}}else{let r=this.apiKey(),i=r.trim()!==""?this.encryptionService.encrypt(r):this.config()?.provider.apiKey;if(!i)throw new Error("SendGrid API key is required");e={workspaceId:s.id,enabled:this.enabled(),providerType:"sendgrid",recipientEmail:this.recipientEmail(),ccEmails:this.ccEmails(),provider:{apiKey:i,fromEmail:this.fromEmail(),fromName:this.fromName()},rateLimit:{maxPerHour:this.maxPerHour(),maxPerDay:this.maxPerDay()},retry:{maxAttempts:this.maxRetryAttempts(),delayMinutes:this.retryDelayMinutes()}}}this.config()?(await this.emailService.updateEmailConfig(s.id,e),this.success.set("Configuration updated successfully")):(await this.emailService.createEmailConfig(e),this.success.set("Configuration created successfully")),this.apiKey.set(""),this.smtpPassword.set(""),await this.loadConfig()}catch(e){let r=e instanceof Error?e.message:"Unknown error";this.error.set(`Failed to save configuration: ${r}`)}finally{this.isSaving.set(!1)}}async onDelete(){let s=this.currentWorkspace();if(s?.id&&confirm("Are you sure you want to delete the email configuration?")){this.isLoading.set(!0),this.error.set(null);try{await this.emailService.deleteEmailConfig(s.id),this.success.set("Configuration deleted successfully"),this.config.set(null),this.resetForm()}catch(e){let r=e instanceof Error?e.message:"Unknown error";this.error.set(`Failed to delete configuration: ${r}`)}finally{this.isLoading.set(!1)}}}onCancel(){this.router.navigate(["/dashboard"])}async onSendTestEmail(){if(!this.currentWorkspace()?.id){this.error.set("No workspace selected");return}if(!this.config()){this.error.set("Debes guardar la configuraci\xF3n antes de enviar un email de prueba");return}this.isSendingTest.set(!0),this.error.set(null),this.success.set(null);try{let e=await fetch("https://us-central1-hostinger-workspace-manager.cloudfunctions.net/createTestAlert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.recipientEmail()})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let r=await e.json(),i=await fetch("https://us-central1-hostinger-workspace-manager.cloudfunctions.net/runGenerateAlerts",{method:"POST"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);await i.json(),this.success.set(`\u2705 Email de prueba enviado exitosamente a ${this.recipientEmail()}. El email ser\xE1 entregado en los pr\xF3ximos 15 minutos por la funci\xF3n autom\xE1tica. Dominio de prueba: ${r.data?.domainName||"N/A"}`),setTimeout(()=>{this.loadEmailLogs()},2e3)}catch(e){let r=e instanceof Error?e.message:"Unknown error";this.error.set(`Error al enviar email de prueba: ${r}`)}finally{this.isSendingTest.set(!1)}}toggleApiKeyVisibility(){this.showApiKey.set(!this.showApiKey())}getStatusSeverity(s){switch(s){case"sent":return"success";case"failed":return"danger";case"retrying":return"warn";default:return"info"}}formatDate(s){return s?s.toDate().toLocaleString():"N/A"}resetForm(){this.enabled.set(!1),this.recipientEmail.set(""),this.ccEmails.set([]),this.fromEmail.set(""),this.fromName.set(""),this.apiKey.set(""),this.maxPerHour.set(10),this.maxPerDay.set(50),this.maxRetryAttempts.set(3),this.retryDelayMinutes.set(5)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-email-config"]],decls:8,vars:4,consts:[[1,"email-config-container"],["pTemplate","header"],["severity","error","styleClass","mb-4 block",3,"text"],["severity","success","styleClass","mb-4 block",3,"text"],[1,"loading-container"],["styleClass","mt-4"],[1,"card-header"],[1,"subtitle"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem"],[1,"form-grid"],[1,"field","col-12"],[1,"toggle-label"],["type","checkbox","name","enabled",1,"toggle-checkbox",3,"ngModelChange","ngModel"],[1,"field","col-12","md:col-6"],["for","recipientEmail"],[1,"required"],["id","recipientEmail","pInputText","","type","email","name","recipientEmail","placeholder","notificaciones@example.com",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","ccEmails"],["id","ccEmails","pInputText","","rows","3","name","ccEmails","placeholder","email1@example.com, email2@example.com",1,"w-full",3,"blur","value","disabled"],[1,"col-12"],[1,"section-title"],["for","providerType"],["id","providerType","name","providerType","optionLabel","label","optionValue","value","placeholder","Selecciona un proveedor","styleClass","w-full",3,"ngModelChange","ngModel","options","disabled"],["for","fromEmail"],["id","fromEmail","pInputText","","type","email","name","fromEmail",1,"w-full",3,"ngModelChange","ngModel","placeholder","disabled"],["for","fromName"],["id","fromName","pInputText","","name","fromName","placeholder","Hostinger Workspace Manager",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","maxPerHour"],["id","maxPerHour","name","maxPerHour","styleClass","w-full",3,"ngModelChange","ngModel","min","max","disabled"],["for","maxPerDay"],["id","maxPerDay","name","maxPerDay","styleClass","w-full",3,"ngModelChange","ngModel","min","max","disabled"],["for","maxRetryAttempts"],["id","maxRetryAttempts","name","maxRetryAttempts","styleClass","w-full",3,"ngModelChange","ngModel","min","max","disabled"],["for","retryDelayMinutes"],["id","retryDelayMinutes","name","retryDelayMinutes","styleClass","w-full",3,"ngModelChange","ngModel","min","max","disabled"],[1,"actions"],["label","Cancelar","icon","pi pi-times","severity","secondary",3,"onClick","outlined"],["label","Eliminar","icon","pi pi-trash","severity","danger",3,"outlined"],["label","Enviar Email de Prueba","icon","pi pi-send","severity","info",3,"disabled","loading"],["label","Guardar","icon","pi pi-save","severity","success",3,"onClick","disabled","loading"],["for","smtpHost"],["id","smtpHost","pInputText","","name","smtpHost","placeholder","smtp.hostinger.com",1,"w-full",3,"ngModelChange","ngModel","disabled"],[1,"field","col-12","md:col-3"],["for","smtpPort"],["id","smtpPort","name","smtpPort","styleClass","w-full",3,"ngModelChange","ngModel","min","max","disabled"],["for","smtpSecure"],["id","smtpSecure","name","smtpSecure","onLabel","SSL/TLS","offLabel","Sin SSL","styleClass","w-full",3,"ngModelChange","ngModel","disabled"],["for","smtpUsername"],["id","smtpUsername","pInputText","","type","email","name","smtpUsername","placeholder","tu-email@andres-bolanos.dev",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","smtpPassword"],[1,"optional"],[1,"p-inputgroup"],["id","smtpPassword","pPassword","","name","smtpPassword","placeholder","Tu contrase\xF1a de email",1,"w-full",3,"ngModelChange","ngModel","feedback","disabled"],["for","apiKey"],["id","apiKey","pPassword","","name","apiKey","placeholder","SG.xxxxxxxxxxxxxxxxxxxx",1,"w-full",3,"ngModelChange","ngModel","feedback","disabled"],["href","https://app.sendgrid.com/settings/api_keys","target","_blank"],["label","Eliminar","icon","pi pi-trash","severity","danger",3,"onClick","outlined"],["label","Enviar Email de Prueba","icon","pi pi-send","severity","info",3,"onClick","disabled","loading"],["styleClass","p-datatable-sm",3,"value","paginator","rows"],["pTemplate","body"],["pTemplate","emptymessage"],["severity","info",3,"value"],[3,"value","severity"],["colspan","6",1,"text-center"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"p-card"),M(2,ce,5,1,"ng-template",1),x(3,pe,1,1,"p-message",2),x(4,ge,1,1,"p-message",3),x(5,ue,4,0,"div",4)(6,ve,83,37),n(),x(7,Ne,6,3,"p-card",5),n()),e&2&&(m(3),y(r.error()?3:-1),m(),y(r.success()?4:-1),m(),y(r.isLoading()?5:6),m(2),y(r.emailLogs().length>0?7:-1))},dependencies:[j,U,B,I,F,R,G,K,Z,Y,k,q,z,A,L,le,re,oe,ae,ie,te,me,se,X,Q,H,ee,$,J],styles:['.email-config-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.card-header[_ngcontent-%COMP%]{padding:1.5rem 2rem}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text-color);font-size:1.75rem;font-weight:600}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:var(--text-color-secondary);font-size:.95rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);gap:1.5rem}.col-12[_ngcontent-%COMP%], .md\\:col-6[_ngcontent-%COMP%], .md\\:col-3[_ngcontent-%COMP%]{grid-column:span 12}@media(min-width:768px){.md\\:col-6[_ngcontent-%COMP%]{grid-column:span 6}.md\\:col-3[_ngcontent-%COMP%]{grid-column:span 3}}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-color);font-size:.95rem}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--red-500)}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .optional[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-weight:400;font-size:.85rem}.field[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:.85rem}.field[_ngcontent-%COMP%]     p-select{width:100%}.field[_ngcontent-%COMP%]     p-select .p-select{width:100%}.field[_ngcontent-%COMP%]     textarea{width:100%;min-height:80px}.toggle-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-weight:600;cursor:pointer}.toggle-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem}.toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]{width:3rem;height:1.5rem;cursor:pointer;appearance:none;background-color:var(--surface-400);border-radius:1rem;position:relative;transition:background-color .3s}.toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--primary-color)}.toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]:before{content:"";position:absolute;width:1.25rem;height:1.25rem;border-radius:50%;background-color:#fff;top:.125rem;left:.125rem;transition:transform .3s}.toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]:checked:before{transform:translate(1.5rem)}.toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.section-title[_ngcontent-%COMP%]{margin:1rem 0 0;padding-top:1rem;border-top:1px solid var(--surface-border);color:var(--text-color);font-size:1.1rem;font-weight:600}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--surface-border)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;gap:1rem;color:var(--text-color-secondary)}@media(max-width:768px){.email-config-container[_ngcontent-%COMP%]{padding:1rem}.form-grid[_ngcontent-%COMP%]{gap:1rem}.field.md\\\\[_ngcontent-%COMP%]:col-6{grid-column:span 12}.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{width:100%}}'],changeDetection:0})};export{de as EmailConfigPage};

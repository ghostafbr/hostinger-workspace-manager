import{$ as us,$a as __,$b as tu,Aa as gi,Ab as Gh,Ac as dt,B as nn,Ba as ls,Bb as qh,Bc as x,C as zc,Ca as c_,Cb as Xo,D as hi,Da as u_,Db as Xc,Dc as Kh,E as cs,Ea as l_,Eb as Zc,F as Hc,Fa as d_,Fb as Zo,Fc as on,G as Ar,Ga as h_,Gb as b_,Gc as N_,H as Lh,Ha as f_,Hb as E_,Hc as O_,I as t_,Ia as p_,Ib as w_,Ic as M_,J as Kt,Ja as mi,Jb as Rt,Jc as se,K as Gc,Kb as $e,Kc as Qh,L as At,Lb as lt,Lc as Yh,M as q,Ma as g_,Mb as xe,Mc as k_,N as fi,Nb as Vt,O as Wn,Ob as Pt,P as F,Pa as Ge,Pb as hs,Q as Te,Qa as yi,Qb as I_,R as n_,Ra as m_,Rb as Qt,S as j,Sa as Wc,Sb as Yt,T as Y,Ta as jh,Tb as T_,U as R,Ua as Kc,V as Dr,Va as qo,Vb as C_,W as r_,Wa as y_,X as wn,Xa as yt,Xb as S_,Y as Dt,Ya as $,Yb as bi,Z as Kn,Za as v_,Zb as eu,_ as Qn,_a as ds,_b as je,a as A,aa as Yn,ab as Qc,ac as nu,b as re,ba as be,bb as Be,ca as pi,cb as Ce,d as as,da as i_,db as G,ea as fe,eb as Wo,fa as rn,fb as wt,g as Qv,ga as Fh,gb as X,h as Yv,ha as Go,hb as sn,hc as ge,i as zo,ib as zh,ic as A_,j as Ze,ja as ue,jb as Ko,jc as ru,k as Wt,kb as Qo,kc as Wh,l as qn,la as s_,lb as Hh,m as mt,ma as De,mb as Yo,n as te,na as He,nb as It,o as Jv,oa as Ft,p as kh,pa as J,q as Xv,qa as Vh,qb as Yc,ra as it,rb as Jc,sa as o_,t as Me,ta as Uh,u as xh,ua as a_,v as En,va as In,vc as D_,w as Ho,wb as Se,wc as iu,x as Zv,xa as Bh,xb as vi,xc as R_,y as jc,ya as $h,yb as Jo,yc as ye,z as e_,za as qc,zb as _i,zc as P_}from"./chunk-GUMEVBBA.js";var x_=null;function Jt(){return x_}function Jh(n){x_??=n}var ea=class{},Rr=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(L_),providedIn:"platform"})}return n})(),Xh=new j(""),L_=(()=>{class n extends Rr{_location;_history;_doc=R(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jt().getBaseHref(this._doc)}onPopState(e){let r=Jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function su(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function F_(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function an(n){return n&&n[0]!=="?"?`?${n}`:n}var cn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(au),providedIn:"root"})}return n})(),ou=new j(""),au=(()=>{class n extends cn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return su(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+an(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+an(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+an(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(Y(Rr),Y(ou,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pr=(()=>{class n{_subject=new Ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=dA(F_(V_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+an(r))}normalize(e){return n.stripTrailingSlash(lA(this._basePath,V_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+an(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+an(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=an;static joinWithSlash=su;static stripTrailingSlash=F_;static \u0275fac=function(r){return new(r||n)(Y(cn))};static \u0275prov=F({token:n,factory:()=>uA(),providedIn:"root"})}return n})();function uA(){return new Pr(Y(cn))}function lA(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function V_(n){return n.replace(/\/index.html$/,"")}function dA(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var of=(()=>{class n extends cn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=su(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+an(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+an(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(Y(Rr),Y(ou,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),G_={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},yu=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(yu||{});var vt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(vt||{}),we=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(we||{}),Nt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Nt||{}),ht={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function q_(n){return Rt(n)[$e.LocaleId]}function W_(n,t,e){let r=Rt(n),i=[r[$e.DayPeriodsFormat],r[$e.DayPeriodsStandalone]],s=Xt(i,t);return Xt(s,e)}function K_(n,t,e){let r=Rt(n),i=[r[$e.DaysFormat],r[$e.DaysStandalone]],s=Xt(i,t);return Xt(s,e)}function Q_(n,t,e){let r=Rt(n),i=[r[$e.MonthsFormat],r[$e.MonthsStandalone]],s=Xt(i,t);return Xt(s,e)}function Y_(n,t){let r=Rt(n)[$e.Eras];return Xt(r,t)}function ta(n,t){let e=Rt(n);return Xt(e[$e.DateFormat],t)}function na(n,t){let e=Rt(n);return Xt(e[$e.TimeFormat],t)}function ra(n,t){let r=Rt(n)[$e.DateTimeFormat];return Xt(r,t)}function ln(n,t){let e=Rt(n),r=e[$e.NumberSymbols][t];if(typeof r>"u"){if(t===ht.CurrencyDecimal)return e[$e.NumberSymbols][ht.Decimal];if(t===ht.CurrencyGroup)return e[$e.NumberSymbols][ht.Group]}return r}function af(n,t){return Rt(n)[$e.NumberFormats][t]}function hA(n){return Rt(n)[$e.Currencies]}function J_(n){if(!n[$e.ExtraData])throw new q(2303,!1)}function X_(n){let t=Rt(n);return J_(t),(t[$e.ExtraData][2]||[]).map(r=>typeof r=="string"?Zh(r):[Zh(r[0]),Zh(r[1])])}function Z_(n,t,e){let r=Rt(n);J_(r);let i=[r[$e.ExtraData][0],r[$e.ExtraData][1]],s=Xt(i,t)||[];return Xt(s,e)||[]}function Xt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new q(2304,!1)}function Zh(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function eb(n,t,e="en"){let r=hA(e)[n]||G_[n]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||n}var fA=2;function tb(n){let t,e=G_[n];return e&&(t=e[2]),typeof t=="number"?t:fA}var pA=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cu={},gA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function nb(n,t,e,r){let i=TA(n);t=Jn(e,t)||t;let o=[],c;for(;t;)if(c=gA.exec(t),c){o=o.concat(c.slice(1));let h=o.pop();if(!h)break;t=h}else{o.push(t);break}let u=i.getTimezoneOffset();r&&(u=ib(r,u),i=IA(i,r));let l="";return o.forEach(h=>{let p=EA(h);l+=p?p(i,e,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function fu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Jn(n,t){let e=q_(n);if(cu[e]??={},cu[e][t])return cu[e][t];let r="";switch(t){case"shortDate":r=ta(n,Nt.Short);break;case"mediumDate":r=ta(n,Nt.Medium);break;case"longDate":r=ta(n,Nt.Long);break;case"fullDate":r=ta(n,Nt.Full);break;case"shortTime":r=na(n,Nt.Short);break;case"mediumTime":r=na(n,Nt.Medium);break;case"longTime":r=na(n,Nt.Long);break;case"fullTime":r=na(n,Nt.Full);break;case"short":let i=Jn(n,"shortTime"),s=Jn(n,"shortDate");r=uu(ra(n,Nt.Short),[i,s]);break;case"medium":let o=Jn(n,"mediumTime"),c=Jn(n,"mediumDate");r=uu(ra(n,Nt.Medium),[o,c]);break;case"long":let u=Jn(n,"longTime"),l=Jn(n,"longDate");r=uu(ra(n,Nt.Long),[u,l]);break;case"full":let h=Jn(n,"fullTime"),p=Jn(n,"fullDate");r=uu(ra(n,Nt.Full),[h,p]);break}return r&&(cu[e][t]=r),r}function uu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function un(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function mA(n,t){return un(n,3).substring(0,t)}function qe(n,t,e=0,r=!1,i=!1){return function(s,o){let c=yA(n,s);if((e>0||c>-e)&&(c+=e),n===3)c===0&&e===-12&&(c=12);else if(n===6)return mA(c,t);let u=ln(o,ht.MinusSign);return un(c,t,u,r,i)}}function yA(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new q(2301,!1)}}function Re(n,t,e=vt.Format,r=!1){return function(i,s){return vA(i,s,n,t,e,r)}}function vA(n,t,e,r,i,s){switch(e){case 2:return Q_(t,i,r)[n.getMonth()];case 1:return K_(t,i,r)[n.getDay()];case 0:let o=n.getHours(),c=n.getMinutes();if(s){let l=X_(t),h=Z_(t,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,D]=g,P=o>=y.hours&&c>=y.minutes,C=o<D.hours||o===D.hours&&c<D.minutes;if(y.hours<D.hours){if(P&&C)return!0}else if(P||C)return!0}else if(g.hours===o&&g.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return W_(t,i,r)[o<12?0:1];case 3:return Y_(t,r)[n.getFullYear()<=0?0:1];default:let u=e;throw new q(2302,!1)}}function lu(n){return function(t,e,r){let i=-1*r,s=ln(e,ht.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+un(o,2,s)+un(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+un(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+un(o,2,s)+":"+un(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+un(o,2,s)+":"+un(Math.abs(i%60),2,s);default:throw new q(2310,!1)}}}var _A=0,hu=4;function bA(n){let t=fu(n,_A,1).getDay();return fu(n,0,1+(t<=hu?hu:hu+7)-t)}function rb(n){let t=n.getDay(),e=t===0?-3:hu-t;return fu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function ef(n,t=!1){return function(e,r){let i;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{let s=rb(e),o=bA(s.getFullYear()),c=s.getTime()-o.getTime();i=1+Math.round(c/6048e5)}return un(i,n,ln(r,ht.MinusSign))}}function du(n,t=!1){return function(e,r){let s=rb(e).getFullYear();return un(s,n,ln(r,ht.MinusSign),t)}}var tf={};function EA(n){if(tf[n])return tf[n];let t;switch(n){case"G":case"GG":case"GGG":t=Re(3,we.Abbreviated);break;case"GGGG":t=Re(3,we.Wide);break;case"GGGGG":t=Re(3,we.Narrow);break;case"y":t=qe(0,1,0,!1,!0);break;case"yy":t=qe(0,2,0,!0,!0);break;case"yyy":t=qe(0,3,0,!1,!0);break;case"yyyy":t=qe(0,4,0,!1,!0);break;case"Y":t=du(1);break;case"YY":t=du(2,!0);break;case"YYY":t=du(3);break;case"YYYY":t=du(4);break;case"M":case"L":t=qe(1,1,1);break;case"MM":case"LL":t=qe(1,2,1);break;case"MMM":t=Re(2,we.Abbreviated);break;case"MMMM":t=Re(2,we.Wide);break;case"MMMMM":t=Re(2,we.Narrow);break;case"LLL":t=Re(2,we.Abbreviated,vt.Standalone);break;case"LLLL":t=Re(2,we.Wide,vt.Standalone);break;case"LLLLL":t=Re(2,we.Narrow,vt.Standalone);break;case"w":t=ef(1);break;case"ww":t=ef(2);break;case"W":t=ef(1,!0);break;case"d":t=qe(2,1);break;case"dd":t=qe(2,2);break;case"c":case"cc":t=qe(7,1);break;case"ccc":t=Re(1,we.Abbreviated,vt.Standalone);break;case"cccc":t=Re(1,we.Wide,vt.Standalone);break;case"ccccc":t=Re(1,we.Narrow,vt.Standalone);break;case"cccccc":t=Re(1,we.Short,vt.Standalone);break;case"E":case"EE":case"EEE":t=Re(1,we.Abbreviated);break;case"EEEE":t=Re(1,we.Wide);break;case"EEEEE":t=Re(1,we.Narrow);break;case"EEEEEE":t=Re(1,we.Short);break;case"a":case"aa":case"aaa":t=Re(0,we.Abbreviated);break;case"aaaa":t=Re(0,we.Wide);break;case"aaaaa":t=Re(0,we.Narrow);break;case"b":case"bb":case"bbb":t=Re(0,we.Abbreviated,vt.Standalone,!0);break;case"bbbb":t=Re(0,we.Wide,vt.Standalone,!0);break;case"bbbbb":t=Re(0,we.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Re(0,we.Abbreviated,vt.Format,!0);break;case"BBBB":t=Re(0,we.Wide,vt.Format,!0);break;case"BBBBB":t=Re(0,we.Narrow,vt.Format,!0);break;case"h":t=qe(3,1,-12);break;case"hh":t=qe(3,2,-12);break;case"H":t=qe(3,1);break;case"HH":t=qe(3,2);break;case"m":t=qe(4,1);break;case"mm":t=qe(4,2);break;case"s":t=qe(5,1);break;case"ss":t=qe(5,2);break;case"S":t=qe(6,1);break;case"SS":t=qe(6,2);break;case"SSS":t=qe(6,3);break;case"Z":case"ZZ":case"ZZZ":t=lu(0);break;case"ZZZZZ":t=lu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=lu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=lu(2);break;default:return null}return tf[n]=t,t}function ib(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function wA(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function IA(n,t,e){let i=n.getTimezoneOffset(),s=ib(t,i);return wA(n,-1*(s-i))}function TA(n){if(U_(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(c=>+c);return fu(i,s-1,o)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(pA))return CA(r)}let t=new Date(n);if(!U_(t))throw new q(2311,!1);return t}function CA(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-e,c=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(t,o,c,u,l),t}function U_(n){return n instanceof Date&&!isNaN(n.valueOf())}var SA=/^(\d+)?\.((\d+)(-(\d+))?)?$/,B_=22,pu=".",ia="0",AA=";",DA=",",nf="#",$_="\xA4";function sb(n,t,e,r,i,s,o=!1){let c="",u=!1;if(!isFinite(n))c=ln(e,ht.Infinity);else{let l=PA(n);o&&(l=RA(l));let h=t.minInt,p=t.minFrac,g=t.maxFrac;if(s){let V=s.match(SA);if(V===null)throw new q(2306,!1);let z=V[1],K=V[3],le=V[5];z!=null&&(h=rf(z)),K!=null&&(p=rf(K)),le!=null?g=rf(le):K!=null&&p>g&&(g=p)}NA(l,p,g);let y=l.digits,D=l.integerLen,P=l.exponent,C=[];for(u=y.every(V=>!V);D<h;D++)y.unshift(0);for(;D<0;D++)y.unshift(0);D>0?C=y.splice(D,y.length):(C=y,y=[0]);let M=[];for(y.length>=t.lgSize&&M.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)M.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),c=M.join(ln(e,r)),C.length&&(c+=ln(e,i)+C.join("")),P&&(c+=ln(e,ht.Exponential)+"+"+P)}return n<0&&!u?c=t.negPre+c+t.negSuf:c=t.posPre+c+t.posSuf,c}function ob(n,t,e,r,i){let s=af(t,yu.Currency),o=cb(s,ln(t,ht.MinusSign));return o.minFrac=tb(r),o.maxFrac=o.minFrac,sb(n,o,t,ht.CurrencyGroup,ht.CurrencyDecimal,i).replace($_,e).replace($_,"").trim()}function ab(n,t,e){let r=af(t,yu.Decimal),i=cb(r,ln(t,ht.MinusSign));return sb(n,i,t,ht.Group,ht.Decimal,e)}function cb(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(AA),i=r[0],s=r[1],o=i.indexOf(pu)!==-1?i.split(pu):[i.substring(0,i.lastIndexOf(ia)+1),i.substring(i.lastIndexOf(ia)+1)],c=o[0],u=o[1]||"";e.posPre=c.substring(0,c.indexOf(nf));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===ia?e.minFrac=e.maxFrac=h+1:p===nf?e.maxFrac=h+1:e.posSuf+=p}let l=c.split(DA);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-e.posPre.length-e.posSuf.length,p=s.indexOf(nf);e.negPre=s.substring(0,p).replace(/'/g,""),e.negSuf=s.slice(p+h).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function RA(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function PA(n){let t=Math.abs(n)+"",e=0,r,i,s,o,c;for((i=t.indexOf(pu))>-1&&(t=t.replace(pu,"")),(s=t.search(/e/i))>0?(i<0&&(i=s),i+=+t.slice(s+1),t=t.substring(0,s)):i<0&&(i=t.length),s=0;t.charAt(s)===ia;s++);if(s===(c=t.length))r=[0],i=1;else{for(c--;t.charAt(c)===ia;)c--;for(i-=s,r=[],o=0;s<=c;s++,o++)r[o]=Number(t.charAt(s))}return i>B_&&(r=r.splice(0,B_-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function NA(n,t,e){if(t>e)throw new q(2307,!1);let r=n.digits,i=r.length-n.integerLen,s=Math.min(Math.max(t,i),e),o=s+n.integerLen,c=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(c>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=t+n.integerLen,h=r.reduceRight(function(p,g,y,D){return g=g+p,D[y]=g<10?g:g-10,u&&(D[y]===0&&y>=l?D.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function rf(n){let t=parseInt(n);if(isNaN(t))throw new q(2305,!1);return t}var sf=/\s+/,j_=[],OA=(()=>{class n{_ngEl;_renderer;initialClasses=j_;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(sf):j_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(sf):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(sf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)($(it),$(yt))};static \u0275dir=G({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var gu=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ub=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gu(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),z_(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);z_(s,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)($(ds),$(qo),$(N_))};static \u0275dir=G({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function z_(n,t){n.context.$implicit=t.item}var sa=(()=>{class n{_viewContainer;_context=new mu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){H_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){H_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)($(ds),$(qo))};static \u0275dir=G({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),mu=class{$implicit=null;ngIf=null};function H_(n,t){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}var cf=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,s]=e.split("."),o=i.indexOf("-")===-1?void 0:yi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)($(it),$(O_),$(yt))};static \u0275dir=G({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),oa=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)($(ds))};static \u0275dir=G({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ft]})}return n})();function uf(n,t){return new q(2100,!1)}var MA="mediumDate",lb=new j(""),db=new j(""),kA=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,s){if(e==null||e===""||e!==e)return null;try{let o=r??this.defaultOptions?.dateFormat??MA,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return nb(e,o,s||this.locale,c)}catch(o){throw uf(n,o.message)}}static \u0275fac=function(r){return new(r||n)($(iu,16),$(lb,24),$(db,24))};static \u0275pipe=Wo({name:"date",type:n,pure:!0})}return n})();var xA=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Wo({name:"json",type:n,pure:!1})}return n})();var LA=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!hb(e))return null;i||=this._locale;try{let s=fb(e);return ab(s,i,r)}catch(s){throw uf(n,s.message)}}static \u0275fac=function(r){return new(r||n)($(iu,16))};static \u0275pipe=Wo({name:"number",type:n,pure:!0})}return n})();var FA=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",s,o){if(!hb(e))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=eb(c,i==="symbol"?"wide":"narrow",o):c=i);try{let u=fb(e);return ob(u,o,c,r,s)}catch(u){throw uf(n,u.message)}}static \u0275fac=function(r){return new(r||n)($(iu,16),$(R_,16))};static \u0275pipe=Wo({name:"currency",type:n,pure:!0})}return n})();function hb(n){return!(n==null||n===""||n!==n)}function fb(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new q(2309,!1);return n}var Tt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({})}return n})();function aa(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,s]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var Ei=class{};function vV(n,t,e){return w_(n,t,e)}var df="browser",UA="server";function Nr(n){return n===df}function hf(n){return n===UA}var gb=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new lf(R(be),window)})}return n})(),lf=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(re(A({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=BA(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(fi(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(re(A({},e),{left:i-o[0],top:s-o[1]}))}};function BA(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}var ca=class{_doc;constructor(t){this._doc=t}manager},vu=(()=>{class n extends ca{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Y(be))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Eu=new j(""),yf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this});let i=e.filter(o=>!(o instanceof vu));this._plugins=i.slice().reverse();let s=e.find(o=>o instanceof vu);s&&this._plugins.push(s)}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(Y(Eu),Y(rn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),pf="ng-app-id";function mb(n){for(let t of n)t.remove()}function yb(n,t){let e=t.createElement("style");return e.textContent=n,e}function $A(n,t,e,r){let i=n.head?.querySelectorAll(`style[${pf}="${t}"],link[${pf}="${t}"]`);if(i)for(let s of i)s.removeAttribute(pf),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function mf(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var vf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,$A(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,yb);r?.forEach(i=>this.addUsage(i,this.external,mf))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(mb(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])mb(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,yb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,mf(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(be),Y(Uh),Y(Bh,8),Y(In))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_f=/%COMP%/g;var _b="%COMP%",jA=`_nghost-${_b}`,zA=`_ngcontent-${_b}`,HA=!0,GA=new j("",{factory:()=>HA});function qA(n){return zA.replace(_f,n)}function WA(n){return jA.replace(_f,n)}function bb(n,t){return t.map(e=>e.replace(_f,n))}var bf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,r,i,s,o,c,u=null,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=c,this.nonce=u,this.tracingService=l,this.defaultRenderer=new ua(e,o,c,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof bu?i.applyToHost(e):i instanceof la&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case qc.Emulated:s=new bu(u,l,r,this.appId,h,o,c,p);break;case qc.ShadowDom:return new _u(u,e,r,o,c,this.nonce,p,l);case qc.ExperimentalIsolatedShadowDom:return new _u(u,e,r,o,c,this.nonce,p);default:s=new la(u,l,r,h,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(Y(yf),Y(vf),Y(Uh),Y(GA),Y(be),Y(rn),Y(Bh),Y(Wc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),ua=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(gf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(vb(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(vb(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new q(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=gf[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=gf[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(yi.DashCase|yi.Important)?t.style.setProperty(e,r,i&yi.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&yi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Jt().getGlobalEventTarget(this.doc,t),!t))throw new q(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function vb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var _u=class extends ua{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,r,i,s,o,c,u){super(t,i,s,c),this.hostEl=e,this.sharedStylesHost=u,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=bb(r.id,l);for(let p of l){let g=document.createElement("style");o&&g.setAttribute("nonce",o),g.textContent=p,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let p of h){let g=mf(p,i);o&&g.setAttribute("nonce",o),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},la=class extends ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,c,u){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?bb(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&m_.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},bu=class extends la{contentAttr;hostAttr;constructor(t,e,r,i,s,o,c,u){let l=i+"-"+r.id;super(t,e,r,s,o,c,u,l),this.contentAttr=qA(l),this.hostAttr=WA(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var wu=class n extends ea{supportsDOMEvents=!0;static makeCurrent(){Jh(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=QA();return e==null?null:YA(e)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return aa(document.cookie,t)}},da=null;function QA(){return da=da||document.head.querySelector("base"),da?da.getAttribute("href"):null}function YA(n){return new URL(n,document.baseURI).pathname}var JA=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Eb=["alt","control","meta","shift"],XA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wb=(()=>{class n extends ca{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jt().onAndCancel(e,o.domEventName,c,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Eb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let i=XA[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Eb.forEach(o=>{if(o!==i){let c=ZA[o];c(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(Y(be))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function eD(n,t,e){let r=A({rootComponent:n,platformRef:e?.platformRef},tD(t));return M_(r)}function tD(n){return{appProviders:[...oD,...n?.providers??[]],platformProviders:sD}}function nD(){wu.makeCurrent()}function rD(){return new Fh}function iD(){return o_(document),document}var sD=[{provide:In,useValue:df},{provide:a_,useValue:nD,multi:!0},{provide:be,useFactory:iD}];var oD=[{provide:r_,useValue:"root"},{provide:Fh,useFactory:rD},{provide:Eu,useClass:vu,multi:!0},{provide:Eu,useClass:wb,multi:!0},bf,vf,yf,{provide:y_,useExisting:bf},{provide:Ei,useClass:JA},[]];var Cn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Cu=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Su=class{encodeKey(t){return Ib(t)}encodeValue(t){return Ib(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function aD(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}var cD=/%(\d[a-f0-9])/gi,uD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ib(n){return encodeURIComponent(n).replace(cD,(t,e)=>uD[e]??t)}function Iu(n){return`${n}`}var Xn=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Su,t.fromString){if(t.fromObject)throw new q(2805,!1);this.map=aD(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(Iu):[Iu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Iu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Iu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function lD(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Tb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Cb(n){return typeof Blob<"u"&&n instanceof Blob}function Sb(n){return typeof FormData<"u"&&n instanceof FormData}function dD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ha="Content-Type",Au="Accept",Ab="text/plain",Db="application/json",Rb=`${Db}, ${Ab}, */*`,fs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(lD(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new q(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new Cn,this.context??=new Cu,!this.params)this.params=new Xn,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),u=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Tb(this.body)||Cb(this.body)||Sb(this.body)||dD(this.body)?this.body:this.body instanceof Xn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Sb(this.body)?null:Cb(this.body)?this.body.type||null:Tb(this.body)?null:typeof this.body=="string"?Ab:this.body instanceof Xn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Db:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,o=t.priority||this.priority,c=t.cache||this.cache,u=t.mode||this.mode,l=t.redirect||this.redirect,h=t.credentials||this.credentials,p=t.referrer||this.referrer,g=t.integrity||this.integrity,y=t.referrerPolicy||this.referrerPolicy,D=t.transferCache??this.transferCache,P=t.timeout??this.timeout,C=t.body!==void 0?t.body:this.body,M=t.withCredentials??this.withCredentials,V=t.reportProgress??this.reportProgress,z=t.headers||this.headers,K=t.params||this.params,le=t.context??this.context;return t.setHeaders!==void 0&&(z=Object.keys(t.setHeaders).reduce((de,E)=>de.set(E,t.setHeaders[E]),z)),t.setParams&&(K=Object.keys(t.setParams).reduce((de,E)=>de.set(E,t.setParams[E]),K)),new n(e,r,C,{params:K,headers:z,context:le,reportProgress:V,responseType:i,withCredentials:M,transferCache:D,keepalive:s,cache:c,priority:o,timeout:P,mode:u,redirect:l,credentials:h,referrer:p,integrity:g,referrerPolicy:y})}},Zn=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Zn||{}),ps=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,r="OK"){this.headers=t.headers||new Cn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},fa=class n extends ps{constructor(t={}){super(t)}type=Zn.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},gs=class n extends ps{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Zn.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Tn=class extends ps{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Pb=200,hD=204;var fD=/^\)\]\}',?\n/,Nb=new j(""),Tu=(()=>{class n{fetchImpl=R(wf,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=R(rn);destroyRef=R(pi);handle(e){return new zo(r=>{let i=new AbortController;this.doRequest(e,i.signal,r).then(If,o=>r.error(new Tn({error:o})));let s;return e.timeout&&(s=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{s!==void 0&&clearTimeout(s),i.abort()}})}async doRequest(e,r,i){let s=this.createRequestInit(e),o;try{let P=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,A({signal:r},s)));pD(P),i.next({type:Zn.Sent}),o=await P}catch(P){i.error(new Tn({error:P,status:P.status??0,statusText:P.statusText,url:e.urlWithParams,headers:P.headers}));return}let c=new Cn(o.headers),u=o.statusText,l=o.url||e.urlWithParams,h=o.status,p=null;if(e.reportProgress&&i.next(new fa({headers:c,status:h,statusText:u,url:l})),o.body){let P=o.headers.get("content-length"),C=[],M=o.body.getReader(),V=0,z,K,le=typeof Zone<"u"&&Zone.current,de=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyRef.destroyed){await M.cancel(),de=!0;break}let{done:v,value:b}=await M.read();if(v)break;if(C.push(b),V+=b.length,e.reportProgress){K=e.responseType==="text"?(K??"")+(z??=new TextDecoder).decode(b,{stream:!0}):void 0;let I=()=>i.next({type:Zn.DownloadProgress,total:P?+P:void 0,loaded:V,partialText:K});le?le.run(I):I()}}}),de){i.complete();return}let E=this.concatChunks(C,V);try{let v=o.headers.get(ha)??"";p=this.parseBody(e,E,v,h)}catch(v){i.error(new Tn({error:v,headers:new Cn(o.headers),status:o.status,statusText:o.statusText,url:o.url||e.urlWithParams}));return}}h===0&&(h=p?Pb:0);let g=h>=200&&h<300,y=o.redirected,D=o.type;g?(i.next(new gs({body:p,headers:c,status:h,statusText:u,url:l,redirected:y,responseType:D})),i.complete()):i.error(new Tn({error:p,headers:c,status:h,statusText:u,url:l,redirected:y,responseType:D}))}parseBody(e,r,i,s){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(fD,"");if(o==="")return null;try{return JSON.parse(o)}catch(c){if(s<200||s>=300)return o;throw c}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i;if(i=e.credentials,e.withCredentials&&(i="include"),e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has(Au)||(r[Au]=Rb),!e.headers.has(ha)){let s=e.detectContentTypeHeader();s!==null&&(r[ha]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity,referrerPolicy:e.referrerPolicy}}concatChunks(e,r){let i=new Uint8Array(r),s=0;for(let o of e)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),wf=class{};function If(){}function pD(n){n.then(If,If)}var gD=/^\)\]\}',?\n/;var Tf=(()=>{class n{xhrFactory;tracingService=R(Wc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return te(null).pipe(Kt(()=>new zo(s=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((C,M)=>o.setRequestHeader(C,M.join(","))),e.headers.has(Au)||o.setRequestHeader(Au,Rb),!e.headers.has(ha)){let C=e.detectContentTypeHeader();C!==null&&o.setRequestHeader(ha,C)}if(e.timeout&&(o.timeout=e.timeout),e.responseType){let C=e.responseType.toLowerCase();o.responseType=C!=="json"?C:"text"}let c=e.serializeBody(),u=null,l=()=>{if(u!==null)return u;let C=o.statusText||"OK",M=new Cn(o.getAllResponseHeaders()),V=o.responseURL||e.url;return u=new fa({headers:M,status:o.status,statusText:C,url:V}),u},h=this.maybePropagateTrace(()=>{let{headers:C,status:M,statusText:V,url:z}=l(),K=null;M!==hD&&(K=typeof o.response>"u"?o.responseText:o.response),M===0&&(M=K?Pb:0);let le=M>=200&&M<300;if(e.responseType==="json"&&typeof K=="string"){let de=K;K=K.replace(gD,"");try{K=K!==""?JSON.parse(K):null}catch(E){K=de,le&&(le=!1,K={error:E,text:K})}}le?(s.next(new gs({body:K,headers:C,status:M,statusText:V,url:z||void 0})),s.complete()):s.error(new Tn({error:K,headers:C,status:M,statusText:V,url:z||void 0}))}),p=this.maybePropagateTrace(C=>{let{url:M}=l(),V=new Tn({error:C,status:o.status||0,statusText:o.statusText||"Unknown Error",url:M||void 0});s.error(V)}),g=p;e.timeout&&(g=this.maybePropagateTrace(C=>{let{url:M}=l(),V=new Tn({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:M||void 0});s.error(V)}));let y=!1,D=this.maybePropagateTrace(C=>{y||(s.next(l()),y=!0);let M={type:Zn.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(M.total=C.total),e.responseType==="text"&&o.responseText&&(M.partialText=o.responseText),s.next(M)}),P=this.maybePropagateTrace(C=>{let M={type:Zn.UploadProgress,loaded:C.loaded};C.lengthComputable&&(M.total=C.total),s.next(M)});return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",g),o.addEventListener("abort",p),e.reportProgress&&(o.addEventListener("progress",D),c!==null&&o.upload&&o.upload.addEventListener("progress",P)),o.send(c),s.next({type:Zn.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",g),e.reportProgress&&(o.removeEventListener("progress",D),c!==null&&o.upload&&o.upload.removeEventListener("progress",P)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(Ei))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mD(n,t){return t(n)}function yD(n,t,e){return(r,i)=>Dt(e,()=>t(r,s=>n(s,i)))}var Ob=new j("",{factory:()=>[]}),Mb=new j(""),kb=new j("",{factory:()=>!0});var Ru=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(Tf),i},providedIn:"root"})}return n})();var Du=(()=>{class n{backend;injector;chain=null;pendingTasks=R(s_);contributeToStability=R(kb);constructor(e,r){this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ob),...this.injector.get(Mb,[])]));this.chain=r.reduceRight((i,s)=>yD(i,s,this.injector),mD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Hc(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(Ru),Y(wn))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(Du),i},providedIn:"root"})}return n})();function Ef(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var xb=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof fs)s=e;else{let u;i.headers instanceof Cn?u=i.headers:u=new Cn(i.headers);let l;i.params&&(i.params instanceof Xn?l=i.params:l=new Xn({fromObject:i.params})),s=new fs(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=te(s).pipe(hi(u=>this.handler.handle(u)));if(e instanceof fs||i.observe==="events")return o;let c=o.pipe(nn(u=>u instanceof gs));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Me(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new q(2806,!1);return u.body}));case"blob":return c.pipe(Me(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new q(2807,!1);return u.body}));case"text":return c.pipe(Me(u=>{if(u.body!==null&&typeof u.body!="string")throw new q(2808,!1);return u.body}));case"json":default:return c.pipe(Me(u=>u.body))}case"response":return c;default:throw new q(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new Xn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Ef(i,r))}post(e,r,i={}){return this.request("POST",e,Ef(i,r))}put(e,r,i={}){return this.request("PUT",e,Ef(i,r))}static \u0275fac=function(r){return new(r||n)(Y(Cf))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vD=new j("",{factory:()=>!0}),_D="XSRF-TOKEN",bD=new j("",{factory:()=>_D}),ED="X-XSRF-TOKEN",wD=new j("",{providedIn:"root",factory:()=>ED}),ID=(()=>{class n{cookieName=R(bD);doc=R(be);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=aa(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(ID),i},providedIn:"root"})}return n})();function TD(n,t){if(!R(vD)||n.method==="GET"||n.method==="HEAD")return t(n);try{let i=R(Rr).href,{origin:s}=new URL(i),{origin:o}=new URL(n.url,s);if(s!==o)return t(n)}catch{return t(n)}let e=R(Lb).getToken(),r=R(wD);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}var Sf=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Sf||{});function CD(n,t){return{\u0275kind:n,\u0275providers:t}}function SD(...n){let t=[xb,Du,{provide:Cf,useExisting:Du},{provide:Ru,useFactory:()=>R(Nb,{optional:!0})??R(Tf)},{provide:Ob,useValue:TD,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return Dr(t)}function AD(){return CD(Sf.Fetch,[Tu,{provide:Nb,useExisting:Tu},{provide:Ru,useExisting:Tu}])}var Fb=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(Y(be))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(PD),i},providedIn:"root"})}return n})(),PD=(()=>{class n extends RD{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case mi.NONE:return r;case mi.HTML:return ls(r,"HTML")?gi(r):p_(this._doc,String(r)).toString();case mi.STYLE:return ls(r,"Style")?gi(r):r;case mi.SCRIPT:if(ls(r,"Script"))return gi(r);throw new q(5200,!1);case mi.URL:return ls(r,"URL")?gi(r):f_(String(r));case mi.RESOURCE_URL:if(ls(r,"ResourceURL"))return gi(r);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(e){return c_(e)}bypassSecurityTrustStyle(e){return u_(e)}bypassSecurityTrustScript(e){return l_(e)}bypassSecurityTrustUrl(e){return d_(e)}bypassSecurityTrustResourceUrl(e){return h_(e)}static \u0275fac=function(r){return new(r||n)(Y(be))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",Ta=Symbol("RouteTitle"),Nf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ci(n){return new Nf(n)}function qb(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xu(n){return new Promise((t,e)=>{n.pipe(Ar()).subscribe({next:r=>t(r),error:r=>e(r)})})}function OD(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Sn(n[e],t[e]))return!1;return!0}function Sn(n,t){let e=n?Of(n):void 0,r=t?Of(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!Wb(n[i],t[i]))return!1;return!0}function Of(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Wb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function Kb(n){return n.length>0?n[n.length-1]:null}function Si(n){return kh(n)?n:Ko(n)?mt(Promise.resolve(n)):te(n)}function Qb(n){return kh(n)?xu(n):Promise.resolve(n)}var MD={exact:Jb,subset:Xb},Yb={exact:kD,subset:xD,ignored:()=>!0};function Vb(n,t,e){return MD[e.paths](n.root,t.root,e.matrixParams)&&Yb[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function kD(n,t){return Sn(n,t)}function Jb(n,t,e){if(!Ii(n.segments,t.segments)||!Ou(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Jb(n.children[r],t.children[r],e))return!1;return!0}function xD(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Wb(n[e],t[e]))}function Xb(n,t,e){return Zb(n,t,t.segments,e)}function Zb(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Ii(i,e)||t.hasChildren()||!Ou(i,e,r))}else if(n.segments.length===e.length){if(!Ii(n.segments,e)||!Ou(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!Xb(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!Ii(n.segments,i)||!Ou(n.segments,i,r)||!n.children[Z]?!1:Zb(n.children[Z],t,s,r)}}function Ou(n,t,e){return t.every((r,i)=>Yb[e](n[i].parameters,r.parameters))}var hn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new me([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return VD.serialize(this)}},me=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mu(this)}},Or=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return tE(this)}};function LD(n,t){return Ii(n,t)&&n.every((e,r)=>Sn(e.parameters,t[r].parameters))}function Ii(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function FD(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(e=e.concat(t(i,r)))}),e}var Ai=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new er,providedIn:"root"})}return n})(),er=class{parse(t){let e=new kf(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${pa(t.root,!0)}`,r=$D(t.queryParams),i=typeof t.fragment=="string"?`#${UD(t.fragment)}`:"";return`${e}${r}${i}`}},VD=new er;function Mu(n){return n.segments.map(t=>tE(t)).join("/")}function pa(n,t){if(!n.hasChildren())return Mu(n);if(t){let e=n.children[Z]?pa(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${pa(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=FD(n,(r,i)=>i===Z?[pa(n.children[Z],!1)]:[`${i}:${pa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Mu(n)}/${e[0]}`:`${Mu(n)}/(${e.join("//")})`}}function eE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pu(n){return eE(n).replace(/%3B/gi,";")}function UD(n){return encodeURI(n)}function Mf(n){return eE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(n){return decodeURIComponent(n)}function Ub(n){return ku(n.replace(/\+/g,"%20"))}function tE(n){return`${Mf(n.path)}${BD(n.parameters)}`}function BD(n){return Object.entries(n).map(([t,e])=>`;${Mf(t)}=${Mf(e)}`).join("")}function $D(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Pu(e)}=${Pu(i)}`).join("&"):`${Pu(e)}=${Pu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var jD=/^[^\/()?;#]+/;function Af(n){let t=n.match(jD);return t?t[0]:""}var zD=/^[^\/()?;=#]+/;function HD(n){let t=n.match(zD);return t?t[0]:""}var GD=/^[^=?&#]+/;function qD(n){let t=n.match(GD);return t?t[0]:""}var WD=/^[^&#]+/;function KD(n){let t=n.match(WD);return t?t[0]:""}var kf=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Z]=new me(t,e)),r}parseSegment(){let t=Af(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(t),new Or(ku(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=HD(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Af(this.remaining);i&&(r=i,this.capture(r))}t[ku(e)]=ku(r)}parseQueryParam(t){let e=qD(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=KD(this.remaining);o&&(r=o,this.capture(r))}let i=Ub(e),s=Ub(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Af(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Z);let o=this.parseChildren();e[s??Z]=Object.keys(o).length===1&&o[Z]?o[Z]:new me([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new q(4011,!1)}};function nE(n){return n.segments.length>0?new me([],{[Z]:n}):n}function rE(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=rE(i);if(r===Z&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new me(n.segments,t);return QD(e)}function QD(n){if(n.numberOfChildren===1&&n.children[Z]){let t=n.children[Z];return new me(n.segments.concat(t.segments),t.children)}return n}function Mr(n){return n instanceof hn}function iE(n,t,e=null,r=null,i=new er){let s=sE(n);return oE(s,t,e,r,i)}function sE(n){let t;function e(s){let o={};for(let u of s.children){let l=e(u);o[u.outlet]=l}let c=new me(s.url,o);return s===n&&(t=c),c}let r=e(n.root),i=nE(r);return t??i}function oE(n,t,e,r,i){let s=n;for(;s.parent;)s=s.parent;if(t.length===0)return Df(s,s,s,e,r,i);let o=YD(t);if(o.toRoot())return Df(s,s,new me([],{}),e,r,i);let c=JD(o,s,n),u=c.processChildren?ma(c.segmentGroup,c.index,o.commands):cE(c.segmentGroup,c.index,o.commands);return Df(s,c.segmentGroup,u,e,r,i)}function Lu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function va(n){return typeof n=="object"&&n!=null&&n.outlets}function Bb(n,t,e){n||="\u0275";let r=new hn;return r.queryParams={[n]:t},e.parse(e.serialize(r)).queryParams[n]}function Df(n,t,e,r,i,s){let o={};for(let[l,h]of Object.entries(r??{}))o[l]=Array.isArray(h)?h.map(p=>Bb(l,p,s)):Bb(l,h,s);let c;n===t?c=e:c=aE(n,t,e);let u=nE(rE(c));return new hn(u,o,i)}function aE(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=aE(s,t,e)}),new me(n.segments,r)}var Fu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Lu(r[0]))throw new q(4003,!1);let i=r.find(va);if(i&&i!==Kb(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YD(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Fu(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Fu(e,t,r)}var ys=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function JD(n,t,e){if(n.isAbsolute)return new ys(t,!0,0);if(!e)return new ys(t,!1,NaN);if(e.parent===null)return new ys(e,!0,0);let r=Lu(n.commands[0])?0:1,i=e.segments.length-1+r;return XD(e,i,n.numberOfDoubleDots)}function XD(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new ys(r,!1,i-s)}function ZD(n){return va(n[0])?n[0].outlets:{[Z]:n}}function cE(n,t,e){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return ma(n,t,e);let r=eR(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new me(n.segments.slice(0,r.pathIndex),{});return s.children[Z]=new me(n.segments.slice(r.pathIndex),n.children),ma(s,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?xf(n,t,e):r.match?ma(n,0,i):xf(n,t,e)}function ma(n,t,e){if(e.length===0)return new me(n.segments,{});{let r=ZD(e),i={};if(Object.keys(r).some(s=>s!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let s=ma(n.children[Z],t,e);return new me(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=cE(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(n.segments,i)}}function eR(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],c=e[r];if(va(c))break;let u=`${c}`,l=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!jb(u,l,o))return s;r+=2}else{if(!jb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xf(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(va(s)){let u=tR(s.outlets);return new me(r,u)}if(i===0&&Lu(e[0])){let u=n.segments[t];r.push(new Or(u.path,$b(e[0]))),i++;continue}let o=va(s)?s.outlets[Z]:`${s}`,c=i<e.length-1?e[i+1]:null;o&&c&&Lu(c)?(r.push(new Or(o,$b(c))),i+=2):(r.push(new Or(o,{})),i++)}return new me(r,{})}function tR(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=xf(new me([],{}),0,r))}),t}function $b(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function jb(n,t,e){return n==e.path&&Sn(t,e.parameters)}var vs="imperative",et=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(et||{}),Bt=class{id;url;constructor(t,e){this.id=t,this.url=e}},kr=class extends Bt{type=et.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends Bt{urlAfterRedirects;type=et.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ct||{}),bs=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(bs||{}),An=class extends Bt{reason;code;type=et.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Bt{reason;code;type=et.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Es=class extends Bt{error;target;type=et.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_a=class extends Bt{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vu=class extends Bt{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uu=class extends Bt{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bu=class extends Bt{urlAfterRedirects;state;type=et.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class extends Bt{urlAfterRedirects;state;type=et.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ju=class{route;type=et.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zu=class{route;type=et.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hu=class{snapshot;type=et.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gu=class{snapshot;type=et.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qu=class{snapshot;type=et.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wu=class{snapshot;type=et.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ws=class{routerEvent;position;anchor;type=et.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ba=class{},Is=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function nR(n){return!(n instanceof ba)&&!(n instanceof Is)}function rR(n,t){return n.providers&&!n._injector&&(n._injector=Qc(n.providers,t,`Route: ${n.path}`)),n._injector??t}function dn(n){return n.outlet||Z}function iR(n,t){let e=n.filter(r=>dn(r)===t);return e.push(...n.filter(r=>dn(r)!==t)),e}function Ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ku=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ss(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Di(this.rootInjector)}},Di=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ku(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(Y(wn))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Lf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Lf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Ff(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ff(t,this._root).map(e=>e.value)}};function Lf(n,t){if(n===t.value)return t;for(let e of t.children){let r=Lf(n,e);if(r)return r}return null}function Ff(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Ff(n,e);if(r.length)return r.unshift(t),r}return[]}var Ut=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ms(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ea=class extends Qu{snapshot;constructor(t,e){super(t),this.snapshot=e,zf(this,t)}toString(){return this.snapshot.toString()}};function uE(n){let t=sR(n),e=new Wt([new Or("",{})]),r=new Wt({}),i=new Wt({}),s=new Wt({}),o=new Wt(""),c=new Rn(e,r,s,o,i,Z,n,t.root);return c.snapshot=t.root,new Ea(new Ut(c,[]),t)}function sR(n){let t={},e={},r={},s=new Ti([],t,r,"",e,Z,n,null,{});return new wa("",new Ut(s,[]))}var Rn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Me(l=>l[Ta]))??te(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(t=>Ci(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(t=>Ci(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:A(A({},t.params),n.params),data:A(A({},t.data),n.data),resolve:A(A(A(A({},n.data),t.data),i?.data),n._resolvedData)}:r={params:A({},n.params),data:A({},n.data),resolve:A(A({},n.data),n._resolvedData??{})},i&&dE(i)&&(r.resolve[Ta]=i.title),r}var Ti=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ta]}constructor(t,e,r,i,s,o,c,u,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},wa=class extends Qu{url;constructor(t,e){super(e),this.url=t,zf(this,e)}toString(){return lE(this._root)}};function zf(n,t){t.value._routerState=n,t.children.forEach(e=>zf(n,e))}function lE(n){let t=n.children.length>0?` { ${n.children.map(lE).join(", ")} } `:"";return`${n.value}${t}`}function Rf(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Sn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Sn(t.params,e.params)||n.paramsSubject.next(e.params),OD(t.url,e.url)||n.urlSubject.next(e.url),Sn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vf(n,t){let e=Sn(n.params,t.params)&&LD(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Vf(n.parent,t.parent))}function dE(n){return typeof n.title=="string"||n.title===null}var hE=new j(""),Hf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=x();parentContexts=R(Di);location=R(ds);changeDetector=R(on);inputBinder=R(Ca,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Uf(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ft]})}return n})(),Uf=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===Rn?this.route:t===Di?this.childContexts:t===hE?this.outletData:this.parent.get(t,e)}},Ca=new j(""),Gf=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=xh([r.queryParams,r.params,r.data]).pipe(Kt(([s,o,c],u)=>(c=A(A(A({},s),o),c),u===0?te(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let o=k_(r.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),qf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_i(0,"router-outlet")},dependencies:[Hf],encapsulation:2})}return n})();function Wf(n){let t=n.children&&n.children.map(Wf),e=t?re(A({},n),{children:t}):A({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Z&&(e.component=qf),e}function oR(n,t,e){let r=Ia(n,t._root,e?e._root:void 0);return new Ea(r,t)}function Ia(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=aR(n,t,e);return new Ut(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>Ia(n,c)),o}}let r=cR(t.value),i=t.children.map(s=>Ia(n,s));return new Ut(r,i)}}function aR(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ia(n,r,i);return Ia(n,r)})}function cR(n){return new Rn(new Wt(n.url),new Wt(n.params),new Wt(n.queryParams),new Wt(n.fragment),new Wt(n.data),n.outlet,n.component,n)}var Ts=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},fE="ngNavigationCancelingError";function Ju(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Mr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=pE(!1,Ct.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function pE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[fE]=!0,e.cancellationCode=t,e}function uR(n){return gE(n)&&Mr(n.url)}function gE(n){return!!n&&n[fE]}var lR=(n,t,e,r)=>Me(i=>(new Bf(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Bf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Rf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=ms(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=ms(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=ms(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=ms(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Wu(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Gu(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(Rf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Rf(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},Xu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_s=class{component;route;constructor(t,e){this.component=t,this.route=e}};function dR(n,t,e){let r=n._root,i=t?t._root:null;return ga(r,i,e,[r.value])}function hR(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function As(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!n_(n)?n:t.get(n):r}function ga(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ms(t);return n.children.forEach(o=>{fR(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ya(c,e.getContext(o),i)),i}function fR(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=pR(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ga(n,t,c?c.children:null,r,i):ga(n,t,e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new _s(c.outlet.component,o))}else o&&ya(t,c,i),i.canActivateChecks.push(new Xu(r)),s.component?ga(n,null,c?c.children:null,r,i):ga(n,null,e,r,i);return i}function pR(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ii(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ii(n.url,t.url)||!Sn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vf(n,t)||!Sn(n.queryParams,t.queryParams);case"paramsChange":default:return!Vf(n,t)}}function ya(n,t,e){let r=ms(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?ya(o,t.children.getContext(s),e):ya(o,null,e):ya(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new _s(t.outlet.component,i)):e.canDeactivateChecks.push(new _s(null,i)):e.canDeactivateChecks.push(new _s(null,i))}function Sa(n){return typeof n=="function"}function gR(n){return typeof n=="boolean"}function mR(n){return n&&Sa(n.canLoad)}function yR(n){return n&&Sa(n.canActivate)}function vR(n){return n&&Sa(n.canActivateChild)}function _R(n){return n&&Sa(n.canDeactivate)}function bR(n){return n&&Sa(n.canMatch)}function mE(n){return n instanceof Xv||n?.name==="EmptyError"}var Nu=Symbol("INITIAL_VALUE");function Cs(){return Kt(n=>xh(n.map(t=>t.pipe(cs(1),t_(Nu)))).pipe(Me(t=>{for(let e of t)if(e!==!0){if(e===Nu)return Nu;if(e===!1||ER(e))return e}return!0}),nn(t=>t!==Nu),cs(1)))}function ER(n){return Mr(n)||n instanceof Ts}function yE(n){return n.aborted?te(void 0).pipe(cs(1)):new zo(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function vE(n){return Gc(yE(n))}function wR(n,t){return En(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?te(re(A({},e),{guardsResult:!0})):IR(o,r,i,n).pipe(En(c=>c&&gR(c)?TR(r,s,n,t):te(c)),Me(c=>re(A({},e),{guardsResult:c})))})}function IR(n,t,e,r){return mt(n).pipe(En(i=>RR(i.component,i.route,e,t,r)),Ar(i=>i!==!0,!0))}function TR(n,t,e,r){return mt(t).pipe(hi(i=>Zv(SR(i.route.parent,r),CR(i.route,r),DR(n,i.path,e),AR(n,i.route,e))),Ar(i=>i!==!0,!0))}function CR(n,t){return n!==null&&t&&t(new qu(n)),te(!0)}function SR(n,t){return n!==null&&t&&t(new Hu(n)),te(!0)}function AR(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(s=>jc(()=>{let o=Ss(t)??e,c=As(s,o),u=yR(c)?c.canActivate(t,n):Dt(o,()=>c(t,n));return Si(u).pipe(Ar())}));return te(i).pipe(Cs())}function DR(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>hR(o)).filter(o=>o!==null).map(o=>jc(()=>{let c=o.guards.map(u=>{let l=Ss(o.node)??e,h=As(u,l),p=vR(h)?h.canActivateChild(r,n):Dt(l,()=>h(r,n));return Si(p).pipe(Ar())});return te(c).pipe(Cs())}));return te(s).pipe(Cs())}function RR(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return te(!0);let o=s.map(c=>{let u=Ss(t)??i,l=As(c,u),h=_R(l)?l.canDeactivate(n,t,e,r):Dt(u,()=>l(n,t,e,r));return Si(h).pipe(Ar())});return te(o).pipe(Cs())}function PR(n,t,e,r,i){let s=t.canLoad;if(s===void 0||s.length===0)return te(!0);let o=s.map(c=>{let u=As(c,n),l=mR(u)?u.canLoad(t,e):Dt(n,()=>u(t,e)),h=Si(l);return i?h.pipe(vE(i)):h});return te(o).pipe(Cs(),_E(r))}function _E(n){return Yv(At(t=>{if(typeof t!="boolean")throw Ju(n,t)}),Me(t=>t===!0))}function NR(n,t,e,r,i){let s=t.canMatch;if(!s||s.length===0)return te(!0);let o=s.map(c=>{let u=As(c,n),l=bR(u)?u.canMatch(t,e):Dt(n,()=>u(t,e)),h=Si(l);return i?h.pipe(vE(i)):h});return te(o).pipe(Cs(),_E(r))}var wi=class bE extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,bE.prototype)}},$f=class EE extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,EE.prototype)}};function OR(n){throw new q(4e3,!1)}function MR(n){throw pE(!1,Ct.GuardRejected)}var kR=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw OR(`${t.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(t,e,r,i,s){let o=await xR(e,i,s);if(o instanceof hn)throw new $f(o);let c=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,r);if(o[0]==="/")throw new $f(c);return c}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new hn(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=e[c]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,r,i)}),new me(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}};function xR(n,t,e){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:c,outlet:u,params:l,data:h,title:p}=t;return xu(Si(Dt(e,()=>r({params:l,data:h,queryParams:i,fragment:s,routeConfig:o,url:c,outlet:u,title:p}))))}var jf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LR(n,t,e,r,i,s){let o=wE(n,t,e);return o.matched?(r=rR(t,r),NR(r,t,e,i,s).pipe(Me(c=>c===!0?o:A({},jf)))):te(o)}function wE(n,t,e){if(t.path==="**")return FR(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?A({},jf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||qb)(e,n,t);if(!i)return A({},jf);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?A(A({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function FR(n){return{matched:!0,parameters:n.length>0?Kb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zb(n,t,e,r){return e.length>0&&BR(n,e,r)?{segmentGroup:new me(t,UR(r,new me(e,n.children))),slicedSegments:[]}:e.length===0&&$R(n,e,r)?{segmentGroup:new me(n.segments,VR(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new me(n.segments,n.children),slicedSegments:e}}function VR(n,t,e,r){let i={};for(let s of e)if(el(n,t,s)&&!r[dn(s)]){let o=new me([],{});i[dn(s)]=o}return A(A({},r),i)}function UR(n,t){let e={};e[Z]=t;for(let r of n)if(r.path===""&&dn(r)!==Z){let i=new me([],{});e[dn(r)]=i}return e}function BR(n,t,e){return e.some(r=>el(n,t,r)&&dn(r)!==Z)}function $R(n,t,e){return e.some(r=>el(n,t,r))}function el(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function jR(n,t,e){return t.length===0&&!n.children[e]}var zR=class{};async function HR(n,t,e,r,i,s,o="emptyOnly",c){return new qR(n,t,e,r,i,o,s,c).recognize()}var GR=31,qR=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,c,u){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.abortSignal=u,this.applyRedirects=new kR(this.urlSerializer,this.urlTree)}noMatchError(t){return new q(4002,`'${t.segmentGroup}'`)}async recognize(){let t=zb(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:r}=await this.match(t),i=new Ut(r,e),s=new wa("",i),o=iE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(t){let e=new Ti([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,Z,e),rootSnapshot:e}}catch(r){if(r instanceof $f)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wi?this.noMatchError(r):r}}async processSegmentGroup(t,e,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,e,r,s);let o=await this.processSegment(t,e,r,r.segments,i,!0,s);return o instanceof Ut?[o]:[]}async processChildren(t,e,r,i){let s=[];for(let u of Object.keys(r.children))u==="primary"?s.unshift(u):s.push(u);let o=[];for(let u of s){let l=r.children[u],h=iR(e,u),p=await this.processSegmentGroup(t,h,l,u,i);o.push(...p)}let c=IE(o);return WR(c),c}async processSegment(t,e,r,i,s,o,c){for(let u of e)try{return await this.processSegmentAgainstRoute(u._injector??t,e,u,r,i,s,o,c)}catch(l){if(l instanceof wi||mE(l))continue;throw l}if(jR(r,i,s))return new zR;throw new wi(r)}async processSegmentAgainstRoute(t,e,r,i,s,o,c,u){if(dn(r)!==o&&(o===Z||!el(i,s,r)))throw new wi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,s,o,u);if(this.allowRedirects&&c)return this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,u);throw new wi(i)}async expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=wE(e,i,s);if(!u)throw new wi(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GR&&(this.allowRedirects=!1));let y=new Ti(s,l,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Hb(i),dn(i),i.component??i._loadedComponent??null,i,Gb(i)),D=Yu(y,c,this.paramsInheritanceStrategy);if(y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let P=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,t),C=await this.applyRedirects.lineralizeSegments(i,P);return this.processSegment(t,r,e,C.concat(g),o,!1,c)}async matchSegmentAgainstRoute(t,e,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let c=await xu(LR(e,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(e.children={}),!c?.matched)throw new wi(e);t=r._injector??t;let{routes:u}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:h,consumedSegments:p,remainingSegments:g}=c,y=new Ti(p,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Hb(r),dn(r),r.component??r._loadedComponent??null,r,Gb(r)),D=Yu(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let{segmentGroup:P,slicedSegments:C}=zb(e,p,g,u);if(C.length===0&&P.hasChildren()){let z=await this.processChildren(l,u,P,y);return new Ut(y,z)}if(u.length===0&&C.length===0)return new Ut(y,[]);let M=dn(r)===s,V=await this.processSegment(l,u,P,C,M?Z:s,!0,y);return new Ut(y,V instanceof Ut?[V]:[])}async getChildConfig(t,e,r){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await xu(PR(t,e,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=s.routes,e._loadedInjector=s.injector,s}throw MR(e)}return{routes:[],injector:t}}};function WR(n){n.sort((t,e)=>t.value.outlet===Z?-1:e.value.outlet===Z?1:t.value.outlet.localeCompare(e.value.outlet))}function KR(n){let t=n.value.routeConfig;return t&&t.path===""}function IE(n){let t=[],e=new Set;for(let r of n){if(!KR(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=IE(r.children);t.push(new Ut(r.value,i))}return t.filter(r=>!e.has(r))}function Hb(n){return n.data||{}}function Gb(n){return n.resolve||{}}var QR=new j("",{factory:()=>HR});function YR(n,t,e,r,i,s,o){let c=n.get(QR);return En(u=>te(u).pipe(Kt(l=>c(n,t,e,r,l.extractedUrl,i,s,o)),Me(({state:l,tree:h})=>re(A({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function JR(n,t){return En(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return te(e);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of TE(u))o.add(l);let c=0;return mt(o).pipe(hi(u=>s.has(u)?XR(u,r,n,t):(u.data=Yu(u,u.parent,n).resolve,te(void 0))),At(()=>c++),Lh(1),En(u=>c===o.size?te(e):qn))})}function TE(n){let t=n.children.map(e=>TE(e)).flat();return[n,...t]}function XR(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!dE(i)&&(s[Ta]=i.title),jc(()=>(n.data=Yu(n,n.parent,e).resolve,ZR(s,n,t,r).pipe(Me(o=>(n._resolvedData=o,n.data=A(A({},n.data),o),null)))))}function ZR(n,t,e,r){let i=Of(n);if(i.length===0)return te({});let s={};return mt(i).pipe(En(o=>e1(n[o],t,e,r).pipe(Ar(),At(c=>{if(c instanceof Ts)throw Ju(new er,c);s[o]=c}))),Lh(1),Me(()=>s),zc(o=>mE(o)?qn:Jv(o)))}function e1(n,t,e,r){let i=Ss(t)??r,s=As(n,i),o=s.resolve?s.resolve(t,e):Dt(i,()=>s(t,e));return Si(o)}function Pf(n){return Kt(t=>{let e=n(t);return e?mt(e).pipe(Me(()=>t)):te(t)})}var Kf=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Z);return r}getResolvedTitleForRoute(e){return e.data[Ta]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(CE),providedIn:"root"})}return n})(),CE=(()=>{class n extends Kf{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(Fb))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xr=new j("",{factory:()=>({})}),Ri=new j(""),tl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(D_);async loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await Qb(Dt(e,()=>r.loadComponent())),o=await DE(AE(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await SE(r,this.compiler,e,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function SE(n,t,e,r){let i=await Qb(Dt(e,()=>n.loadChildren())),s=await DE(AE(i)),o;s instanceof __||Array.isArray(s)?o=s:o=await t.compileModuleAsync(s),r&&r(n);let c,u,l=!1;return Array.isArray(o)?(u=o,l=!0):(c=o.create(e).injector,u=c.get(Ri,[],{optional:!0,self:!0}).flat()),{routes:u.map(Wf),injector:c}}function t1(n){return n&&typeof n=="object"&&"default"in n}function AE(n){return t1(n)?n.default:n}async function DE(n){return n}var nl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(n1),providedIn:"root"})}return n})(),n1=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qf=new j(""),Yf=new j("");function RE(n,t,e){let r=n.get(Yf),i=n.get(be);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),r1(n)));c.updateCallbackDone.catch(l=>{}),c.ready.catch(l=>{}),c.finished.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Dt(n,()=>u({transition:c,from:t,to:e})),o}function r1(n){return new Promise(t=>{Kc({read:()=>setTimeout(t)},{injector:n})})}var i1=()=>{},Jf=new j(""),rl=(()=>{class n{currentNavigation=ue(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ue(null);events=new Ze;transitionAbortWithErrorSubject=new Ze;configLoader=R(tl);environmentInjector=R(wn);destroyRef=R(pi);urlSerializer=R(Ai);rootContexts=R(Di);location=R(Pr);inputBindingEnabled=R(Ca,{optional:!0})!==null;titleStrategy=R(Kf);options=R(xr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(nl);createViewTransition=R(Qf,{optional:!0});navigationErrorHandler=R(Jf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new ju(i)),r=i=>this.events.next(new zu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;He(()=>{this.transitions?.next(re(A({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(e){return this.transitions=new Wt(null),this.transitions.pipe(nn(r=>r!==null),Kt(r=>{let i=!1,s=new AbortController;return te(r).pipe(Kt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),qn;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:c?re(A({},c),{previousNavigation:null}):null,abort:()=>s.abort()});let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.rawUrl),"",bs.IgnoredSameUrlNavigation)),o.resolve(!1),qn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return te(o).pipe(Kt(h=>(this.events.next(new kr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?qn:Promise.resolve(h))),YR(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),At(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=h.urlAfterRedirects,g));let p=new _a(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:y,extras:D}=o,P=new kr(h,this.urlSerializer.serialize(p),g,y);this.events.next(P);let C=uE(this.rootComponentType).snapshot;return this.currentTransition=r=re(A({},o),{targetSnapshot:C,urlAfterRedirects:p,extras:re(A({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=p,M)),te(r)}else return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",bs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),qn}),At(o=>{let c=new Vu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),Me(o=>(this.currentTransition=r=re(A({},o),{guards:dR(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),wR(this.environmentInjector,o=>this.events.next(o)),At(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ju(this.urlSerializer,o.guardsResult);let c=new Uu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),nn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ct.GuardRejected),!1)),Pf(o=>{if(o.guards.canActivateChecks.length!==0)return te(o).pipe(At(c=>{let u=new Bu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Kt(c=>{let u=!1;return te(c).pipe(JR(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Ct.NoDataFromResolver)}}))}),At(c=>{let u=new $u(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Pf(o=>{let c=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Ss(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(g=>{l.component=g}))}for(let p of l.children)h.push(...c(p));return h},u=c(o.targetSnapshot.root);return u.length===0?te(o):mt(Promise.all(u).then(()=>o))}),Pf(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:o,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return u?mt(u).pipe(Me(()=>r)):te(r)}),Me(o=>{let c=oR(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=re(A({},o),{targetRouterState:c}),this.currentNavigation.update(u=>(u.targetRouterState=c,u)),r}),At(()=>{this.events.next(new ba)}),lR(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),cs(1),Gc(yE(s.signal).pipe(nn(()=>!i&&!r.targetRouterState),At(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",Ct.Aborted)}))),At({next:o=>{i=!0,this.currentNavigation.update(c=>(c.abort=i1,c)),this.lastSuccessfulNavigation.set(He(this.currentNavigation)),this.events.next(new $t(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Gc(this.transitionAbortWithErrorSubject.pipe(At(o=>{throw o}))),Hc(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),zc(o=>{if(this.destroyed)return r.resolve(!1),qn;if(i=!0,gE(o))this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),uR(o)?this.events.next(new Is(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Es(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=Dt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Ts){let{message:l,cancellationCode:h}=Ju(this.urlSerializer,u);this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Is(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return qn}))}))}cancelNavigationTransition(e,r,i){let s=new An(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=He(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s1(n){return n!==vs}var PE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(o1),providedIn:"root"})}return n})(),Zu=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},o1=(()=>{class n extends Zu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xf=(()=>{class n{urlSerializer=R(Ai);options=R(xr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(Pr);urlHandlingStrategy=R(nl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,o=i??s;return o instanceof hn?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=uE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(NE),providedIn:"root"})}return n})(),NE=(()=>{class n extends Xf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof kr?this.updateStateMemento():e instanceof Dn?this.commitTransition(r):e instanceof _a?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof ba?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof An&&e.code!==Ct.SupersededByNewNavigation&&e.code!==Ct.Redirect?this.restoreHistory(r):e instanceof Es?this.restoreHistory(r,!0):e instanceof $t&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(e)||s){let c=this.browserPageId,u=A(A({},o),this.generateNgRouterState(i,c));this.location.replaceState(e,"",u)}else{let c=A(A({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function il(n,t){n.events.pipe(nn(e=>e instanceof $t||e instanceof An||e instanceof Es||e instanceof Dn),Me(e=>e instanceof $t||e instanceof Dn?0:(e instanceof An?e.code===Ct.Redirect||e.code===Ct.SupersededByNewNavigation:!1)?2:1),nn(e=>e!==2),cs(1)).subscribe(()=>{t()})}var a1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(zh);stateManager=R(Xf);options=R(xr,{optional:!0})||{};pendingTasks=R(i_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(rl);urlSerializer=R(Ai);location=R(Pr);urlHandlingStrategy=R(nl);injector=R(wn);_events=new Ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(PE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(Ri,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Ca,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qv;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=He(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof An&&r.code!==Ct.Redirect&&r.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $t)this.navigated=!0;else if(r instanceof Is){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=A({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||s1(i.source)},o);this.scheduleNavigation(c,vs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}nR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=A({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,o,s).catch(u=>{this.disposed||this.injector.get(Go)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return He(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Wf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=A(A({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=sE(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return oE(p,e,h,l??null,this.urlSerializer)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Mr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,vs,null,r)}navigate(e,r={skipLocationChange:!1}){return u1(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(fi(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=A({},a1):r===!1?i=A({},c1):i=r,Mr(e))return Vb(this.currentUrlTree,e,i);let s=this.parseUrl(e);return Vb(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,g)=>{c=p,u=g});let h=this.pendingTasks.add();return il(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function u1(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new q(4008,!1)}var sl=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ue(null);get href(){return He(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ze;applicationErrorHandler=R(Go);options=R(xr,{optional:!0});constructor(e,r,i,s,o,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.reactiveHref.set(R(new P_("href"),{optional:!0}));let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof $t&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Mr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)($(Pn),$(Rn),Vh("tabindex"),$(yt),$(it),$(cn))};static \u0275dir=G({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&lt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&It("href",i.reactiveHref(),g_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",se],skipLocationChange:[2,"skipLocationChange","skipLocationChange",se],replaceUrl:[2,"replaceUrl","replaceUrl",se],routerLink:"routerLink"},features:[Ft]})}return n})(),l1=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new fe;link=R(sl,{optional:!0});constructor(e,r,i,s){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=e.events.subscribe(o=>{o instanceof $t&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(Ho()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=mt(e).pipe(Ho()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=d1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)($(Pn),$(it),$(yt),$(on))};static \u0275dir=G({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&hs(s,sl,5),r&2){let o;Qt(o=Yt())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ft]})}return n})();function d1(n){return!!n.paths}var Aa=class{};var OE=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,s){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof $t),hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Qc(s.providers,e,""));let o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return mt(i).pipe(Ho())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=mt(this.loader.loadChildren(e,r)):i=te(null);let s=i.pipe(En(o=>o===null?te(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(e,r);return mt([s,o]).pipe(Ho())}else return s})}static \u0275fac=function(r){return new(r||n)(Y(Pn),Y(wn),Y(Aa),Y(tl))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ME=new j(""),h1=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=vs;restoredId=0;store={};constructor(e,r,i,s,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $t?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Dn&&e.code===bs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof ws))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ws(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){v_()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function f1(n,...t){return Dr([{provide:Ri,multi:!0,useValue:n},[],{provide:Rn,useFactory:kE},{provide:Hh,multi:!0,useFactory:xE},t.map(e=>e.\u0275providers)])}function kE(){return R(Pn).routerState.root}function Da(n,t){return{\u0275kind:n,\u0275providers:t}}function xE(){let n=R(Yn);return t=>{let e=n.get(Yo);if(t!==e.components[0])return;let r=n.get(Pn),i=n.get(LE);n.get(ep)===1&&r.initialNavigation(),n.get(UE,null,{optional:!0})?.setUpPreloading(),n.get(ME,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LE=new j("",{factory:()=>new Ze}),ep=new j("",{factory:()=>1});function FE(){let n=[{provide:$h,useValue:!0},{provide:ep,useValue:0},Qo(()=>{let t=R(Yn);return t.get(Xh,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Pn),s=t.get(LE);il(i,()=>{r(!0)}),t.get(rl).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))})];return Da(2,n)}function VE(){let n=[Qo(()=>{R(Pn).setUpLocationChangeListener()}),{provide:ep,useValue:2}];return Da(3,n)}var UE=new j("");function BE(n){return Da(0,[{provide:UE,useExisting:OE},{provide:Aa,useExisting:n}])}function $E(){return Da(8,[Gf,{provide:Ca,useExisting:Gf}])}function jE(n){jh("NgRouterViewTransitions");let t=[{provide:Qf,useValue:RE},{provide:Yf,useValue:A({skipNextTransition:!!n?.skipInitialTransition},n)}];return Da(9,t)}var zE=[Pr,{provide:Ai,useClass:er},Pn,Di,{provide:Rn,useFactory:kE},tl,[]],p1=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[zE,[],{provide:Ri,multi:!0,useValue:e},[],r?.errorHandler?{provide:Jf,useValue:r.errorHandler}:[],{provide:xr,useValue:r||{}},r?.useHash?m1():y1(),g1(),r?.preloadingStrategy?BE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?v1(r):[],r?.bindToComponentInputs?$E().\u0275providers:[],r?.enableViewTransitions?jE().\u0275providers:[],_1()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ri,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({})}return n})();function g1(){return{provide:ME,useFactory:()=>{let n=R(gb),t=R(rn),e=R(xr),r=R(rl),i=R(Ai);return e.scrollOffset&&n.setOffset(e.scrollOffset),new h1(i,r,n,t,e)}}}function m1(){return{provide:cn,useClass:of}}function y1(){return{provide:cn,useClass:au}}function v1(n){return[n.initialNavigation==="disabled"?VE().\u0275providers:[],n.initialNavigation==="enabledBlocking"?FE().\u0275providers:[]]}var Zf=new j("");function _1(){return[{provide:Zf,useFactory:xE},{provide:Hh,multi:!0,useExisting:Zf}]}function Lr(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")t.push(r);else if(i==="object"){let s=Array.isArray(r)?[Lr(...r)]:Object.entries(r).map(([o,c])=>c?o:void 0);t=s.length?t.concat(s.filter(o=>!!o)):t}}return t.join(" ").trim()}}function HE(n,t){return n?n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className):!1}function jt(n,t){if(n&&t){let e=r=>{HE(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function b1(){return window.innerWidth-document.documentElement.offsetWidth}function GE(n){typeof n=="string"?jt(document.body,n||"p-overflow-hidden"):(n!=null&&n.variableName&&document.body.style.setProperty(n.variableName,b1()+"px"),jt(document.body,n?.className||"p-overflow-hidden"))}function zt(n,t){if(n&&t){let e=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function qE(n){typeof n=="string"?zt(document.body,n||"p-overflow-hidden"):(n!=null&&n.variableName&&document.body.style.removeProperty(n.variableName),zt(document.body,n?.className||"p-overflow-hidden"))}function Ra(n){for(let t of document?.styleSheets)try{for(let e of t?.cssRules)for(let r of e?.style)if(n.test(r))return{name:r,value:e.style.getPropertyValue(r).trim()}}catch{}return null}function ol(n){let t={width:0,height:0};if(n){let[e,r]=[n.style.visibility,n.style.display],i=n.getBoundingClientRect();n.style.visibility="hidden",n.style.display="block",t.width=i.width||n.offsetWidth,t.height=i.height||n.offsetHeight,n.style.display=r,n.style.visibility=e}return t}function WE(){let n=window,t=document,e=t.documentElement,r=t.getElementsByTagName("body")[0],i=n.innerWidth||e.clientWidth||r.clientWidth,s=n.innerHeight||e.clientHeight||r.clientHeight;return{width:i,height:s}}function tp(n){return n?Math.abs(n.scrollLeft):0}function E1(){let n=document.documentElement;return(window.pageXOffset||tp(n))-(n.clientLeft||0)}function w1(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function I1(n){return n?getComputedStyle(n).direction==="rtl":!1}function KE(n,t,e=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:ol(n),u=c.height,l=c.width,h=t.offsetHeight,p=t.offsetWidth,g=t.getBoundingClientRect(),y=w1(),D=E1(),P=WE(),C,M,V="top";g.top+h+u>P.height?(C=g.top+y-u,V="bottom",C<0&&(C=y)):C=h+g.top+y,g.left+l>P.width?M=Math.max(0,g.left+D+p-l):M=g.left+D,I1(n)?n.style.insetInlineEnd=M+"px":n.style.insetInlineStart=M+"px",n.style.top=C+"px",n.style.transformOrigin=V,e&&(n.style.marginTop=V==="bottom"?`calc(${(i=(r=Ra(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=Ra(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function zU(n,t){n&&(typeof t=="string"?n.style.cssText=t:Object.entries(t||{}).forEach(([e,r])=>n.style[e]=r))}function al(n,t){if(n instanceof HTMLElement){let e=n.offsetWidth;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return e}return 0}function QE(n,t,e=!0,r=void 0){var i;if(n){let s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:ol(n),o=t.offsetHeight,c=t.getBoundingClientRect(),u=WE(),l,h,p=r??"top";if(!r&&c.top+o+s.height>u.height?(l=-1*s.height,p="bottom",c.top+l<0&&(l=-1*c.top)):l=o,s.width>u.width?h=c.left*-1:c.left+s.width>u.width?h=(c.left+s.width-u.width)*-1:h=0,n.style.top=l+"px",n.style.insetInlineStart=h+"px",n.style.transformOrigin=p,e){let g=(i=Ra(/-anchor-gutter$/))==null?void 0:i.value;n.style.marginTop=p==="bottom"?`calc(${g??"2px"} * -1)`:g??""}}}function YE(n){if(n){let t=n.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}function T1(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&YE(n))}function Ds(n){return typeof Element<"u"?n instanceof Element:n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}function JE(n){let t=n;return n&&typeof n=="object"&&(Object.hasOwn(n,"current")?t=n.current:Object.hasOwn(n,"el")&&(Object.hasOwn(n.el,"nativeElement")?t=n.el.nativeElement:t=n.el)),Ds(t)?t:void 0}function np(n,t){var e,r,i;if(n)switch(n){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@first":return t?.firstElementChild;case"@last":return t?.lastElementChild;case"@child":return(e=t?.children)==null?void 0:e[0];case"@parent":return t?.parentElement;case"@grandparent":return(r=t?.parentElement)==null?void 0:r.parentElement;default:{if(typeof n=="string"){let c=n.match(/^@child\[(\d+)]/);return c?((i=t?.children)==null?void 0:i[parseInt(c[1],10)])||null:document.querySelector(n)||null}let s=(c=>typeof c=="function"&&"call"in c&&"apply"in c)(n)?n():n,o=JE(s);return T1(o)?o:s?.nodeType===9?s:void 0}}}function rp(n,t){let e=np(n,t);if(e)e.appendChild(t);else throw new Error("Cannot append "+t+" to "+n)}function cl(n,t={}){if(Ds(n)){let e=(r,i)=>{var s,o;let c=(s=n?.$attrs)!=null&&s[r]?[(o=n?.$attrs)==null?void 0:o[r]]:[];return[i].flat().reduce((u,l)=>{if(l!=null){let h=typeof l;if(h==="string"||h==="number")u.push(l);else if(h==="object"){let p=Array.isArray(l)?e(r,l):Object.entries(l).map(([g,y])=>r==="style"&&(y||y===0)?`${g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?g:void 0);u=p.length?u.concat(p.filter(g=>!!g)):u}}return u},c)};Object.entries(t).forEach(([r,i])=>{if(i!=null){let s=r.match(/^on(.+)/);s?n.addEventListener(s[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?cl(n,i):(i=r==="class"?[...new Set(e("class",i))].join(" ").trim():r==="style"?e("style",i).join(";").trim():i,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=i),n.setAttribute(r,i))}})}}function ul(n,t={},...e){if(n){let r=document.createElement(n);return cl(r,t),r.append(...e),r}}function HU(n,t){if(n){n.style.opacity="0";let e=+new Date,r="0",i=function(){r=`${+n.style.opacity+(new Date().getTime()-e)/t}`,n.style.opacity=r,e=+new Date,+r<1&&("requestAnimationFrame"in window?requestAnimationFrame(i):setTimeout(i,16))};i()}}function C1(n,t){return Ds(n)?Array.from(n.querySelectorAll(t)):[]}function Rs(n,t){return Ds(n)?n.matches(t)?n:n.querySelector(t):null}function ip(n,t){n&&document.activeElement!==n&&n.focus(t)}function GU(n,t){if(Ds(n)){let e=n.getAttribute(t);return isNaN(e)?e==="true"||e==="false"?e==="true":e:+e}}function XE(n,t=""){let e=C1(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [href]:not([tabindex = "-1"]):not([style*="display:none"]):not([hidden])${t},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of e)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r}function qU(n,t){let e=XE(n,t);return e.length>0?e[0]:null}function sp(n){if(n){let t=n.offsetHeight,e=getComputedStyle(n);return t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),t}return 0}function WU(n){var t;if(n){let e=(t=YE(n))==null?void 0:t.childNodes,r=0;if(e)for(let i=0;i<e.length;i++){if(e[i]===n)return r;e[i].nodeType===1&&r++}}return-1}function KU(n,t){let e=XE(n,t);return e.length>0?e[e.length-1]:null}function ZE(n){if(n){let t=n.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||tp(document.documentElement)||tp(document.body)||0)}}return{top:"auto",left:"auto"}}function op(n,t){if(n){let e=n.offsetHeight;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return e}return 0}function QU(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function ap(n){if(n){let t=n.offsetWidth,e=getComputedStyle(n);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),t}return 0}function YU(n){if(n){let t=n.nodeName,e=n.parentElement&&n.parentElement.nodeName;return t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||e==="INPUT"||e==="TEXTAREA"||e==="BUTTON"||e==="A"||!!n.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function JU(n){return!!(n&&n.offsetParent!=null)}function XU(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}function ew(){return typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Pa(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function ll(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function tw(n){var t;n&&("remove"in Element.prototype?n.remove():(t=n.parentNode)==null||t.removeChild(n))}function ZU(n,t){let e=JE(n);if(e)e.removeChild(t);else throw new Error("Cannot remove "+t+" from "+n)}function eB(n,t){let e=getComputedStyle(n).getPropertyValue("borderTopWidth"),r=e?parseFloat(e):0,i=getComputedStyle(n).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=n.getBoundingClientRect(),c=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,u=n.scrollTop,l=n.clientHeight,h=op(t);c<0?n.scrollTop=u+c:c+h>l&&(n.scrollTop=u+c-l+h)}function nw(n,t="",e){Ds(n)&&e!==null&&e!==void 0&&n.setAttribute(t,e)}function cp(n,t,e=null,r){var i;t&&((i=n?.style)==null||i.setProperty(t,e,r))}function rw(){let n=new Map;return{on(t,e){let r=n.get(t);return r?r.push(e):r=[e],n.set(t,r),this},off(t,e){let r=n.get(t);return r&&r.splice(r.indexOf(e)>>>0,1),this},emit(t,e){let r=n.get(t);r&&r.forEach(i=>{i(e)})},clear(){n.clear()}}}var S1=Object.defineProperty,iw=Object.getOwnPropertySymbols,A1=Object.prototype.hasOwnProperty,D1=Object.prototype.propertyIsEnumerable,sw=(n,t,e)=>t in n?S1(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ow=(n,t)=>{for(var e in t||(t={}))A1.call(t,e)&&sw(n,e,t[e]);if(iw)for(var e of iw(t))D1.call(t,e)&&sw(n,e,t[e]);return n};function aw(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")t.push(r);else if(i==="object"){let s=Array.isArray(r)?[aw(...r)]:Object.entries(r).map(([o,c])=>c?o:void 0);t=s.length?t.concat(s.filter(o=>!!o)):t}}return t.join(" ").trim()}}function R1(n){return typeof n=="function"&&"call"in n&&"apply"in n}function up(...n){return n?.reduce((t,e={})=>{for(let r in e){let i=e[r];if(r==="style")t.style=ow(ow({},t.style),e.style);else if(r==="class"||r==="className")t[r]=aw(t[r],e[r]);else if(R1(i)){let s=t[r];t[r]=s?(...o)=>{s(...o),i(...o)}:i}else t[r]=i}return t},{})}function Nn(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function lp(n,t,e=new WeakSet){if(n===t)return!0;if(!n||!t||typeof n!="object"||typeof t!="object"||e.has(n)||e.has(t))return!1;e.add(n).add(t);let r=Array.isArray(n),i=Array.isArray(t),s,o,c;if(r&&i){if(o=n.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!lp(n[s],t[s],e))return!1;return!0}if(r!=i)return!1;let u=n instanceof Date,l=t instanceof Date;if(u!=l)return!1;if(u&&l)return n.getTime()==t.getTime();let h=n instanceof RegExp,p=t instanceof RegExp;if(h!=p)return!1;if(h&&p)return n.toString()==t.toString();let g=Object.keys(n);if(o=g.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,g[s]))return!1;for(s=o;s--!==0;)if(c=g[s],!lp(n[c],t[c],e))return!1;return!0}function P1(n,t){return lp(n,t)}function hl(n){return typeof n=="function"&&"call"in n&&"apply"in n}function ve(n){return!Nn(n)}function dl(n,t){if(!n||!t)return null;try{let e=n[t];if(ve(e))return e}catch{}if(Object.keys(n).length){if(hl(t))return t(n);if(t.indexOf(".")===-1)return n[t];{let e=t.split("."),r=n;for(let i=0,s=e.length;i<s;++i){if(r==null)return null;r=r[e[i]]}return r}}return null}function Na(n,t,e){return e?dl(n,e)===dl(t,e):P1(n,t)}function iB(n,t){if(n!=null&&t&&t.length){for(let e of t)if(Na(n,e))return!0}return!1}function tr(n,t=!0){return n instanceof Object&&n.constructor===Object&&(t||Object.keys(n).length!==0)}function sB(n,t){let e=-1;if(ve(n))try{e=n.findLastIndex(t)}catch{e=n.lastIndexOf([...n].reverse().find(t))}return e}function st(n,...t){return hl(n)?n(...t):n}function Zt(n,t=!0){return typeof n=="string"&&(t||n!=="")}function Fr(n){return Zt(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function fl(n,t="",e={}){let r=Fr(t).split("."),i=r.shift();if(i){if(tr(n)){let s=Object.keys(n).find(o=>Fr(o)===i)||"";return fl(st(n[s],e),r.join("."),e)}return}return st(n,e)}function dp(n,t=!0){return Array.isArray(n)&&(t||n.length!==0)}function oB(n){return n instanceof Date}function cw(n){return ve(n)&&!isNaN(n)}function aB(n=""){return ve(n)&&n.length===1&&!!n.match(/\S| /)}function fn(n,t){if(t){let e=t.test(n);return t.lastIndex=0,e}return!1}function Pi(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Ht(n){if(n&&/[\xC0-\xFF\u0100-\u017E]/.test(n)){let t={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let e in t)n=n.replace(t[e],e)}return n}function pl(n){return Zt(n)?n.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():n}function hp(n){return n==="auto"?0:typeof n=="number"?n:Number(n.replace(/[^\d.]/g,"").replace(",","."))*1e3}var gl={};function Oa(n="pui_id_"){return Object.hasOwn(gl,n)||(gl[n]=0),gl[n]++,`${n}${gl[n]}`}var uw=["*"],N1=(function(n){return n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",n})(N1||{}),fB=(()=>{class n{requireConfirmationSource=new Ze;acceptConfirmationSource=new Ze;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var ft=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),pB=(()=>{class n{static AND="and";static OR="or"}return n})(),gB=(()=>{class n{filter(e,r,i,s,o){let c=[];if(e)for(let u of e)for(let l of r){let h=dl(u,l);if(this.filters[s](h,i,o)){c.push(u);break}}return c}filters={startsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=Ht(r.toString()).toLocaleLowerCase(i);return Ht(e.toString()).toLocaleLowerCase(i).slice(0,s.length)===s},contains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=Ht(r.toString()).toLocaleLowerCase(i);return Ht(e.toString()).toLocaleLowerCase(i).indexOf(s)!==-1},notContains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=Ht(r.toString()).toLocaleLowerCase(i);return Ht(e.toString()).toLocaleLowerCase(i).indexOf(s)===-1},endsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=Ht(r.toString()).toLocaleLowerCase(i),o=Ht(e.toString()).toLocaleLowerCase(i);return o.indexOf(s,o.length-s.length)!==-1},equals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():e==r?!0:Ht(e.toString()).toLocaleLowerCase(i)==Ht(r.toString()).toLocaleLowerCase(i),notEquals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!1:e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():e==r?!1:Ht(e.toString()).toLocaleLowerCase(i)!=Ht(r.toString()).toLocaleLowerCase(i),in:(e,r)=>{if(r==null||r.length===0)return!0;for(let i=0;i<r.length;i++)if(Na(e,r[i]))return!0;return!1},between:(e,r)=>r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1],lt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r,lte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r,gt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r,gte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r,is:(e,r,i)=>this.filters.equals(e,r,i),isNot:(e,r,i)=>this.filters.notEquals(e,r,i),before:(e,r,i)=>this.filters.lt(e,r,i),after:(e,r,i)=>this.filters.gt(e,r,i),dateIs:(e,r)=>r==null?!0:e==null?!1:e.toDateString()===r.toDateString(),dateIsNot:(e,r)=>r==null?!0:e==null?!1:e.toDateString()!==r.toDateString(),dateBefore:(e,r)=>r==null?!0:e==null?!1:e.getTime()<r.getTime(),dateAfter:(e,r)=>r==null?!0:e==null?!1:(e.setHours(0,0,0,0),e.getTime()>r.getTime())};register(e,r){this.filters[e]=r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mB=(()=>{class n{messageSource=new Ze;clearSource=new Ze;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),lw=(()=>{class n{clickSource=new Ze;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["p-header"]],standalone:!1,ngContentSelectors:uw,decls:1,vars:0,template:function(r,i){r&1&&(Vt(),Pt(0))},encapsulation:2})}return n})(),vB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:uw,decls:1,vars:0,template:function(r,i){r&1&&(Vt(),Pt(0))},encapsulation:2})}return n})(),ml=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(r){return new(r||n)($(qo))};static \u0275dir=G({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),On=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({imports:[Tt]})}return n})(),_B=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var dw=()=>{};var pw=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},M1=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[e++],o=n[e++],c=n[e++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,g=(c&15)<<2|l>>6,y=l&63;u||(y=64,o||(g=64)),r.push(e[h],e[p],e[g],e[y])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(pw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):M1(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;let l=i<n.length?e[n.charAt(i)]:64;++i;let p=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new pp;let g=s<<2|c>>4;if(r.push(g),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},pp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},k1=function(n){let t=pw(n);return gw.encodeByteArray(t,!0)},ka=function(n){return k1(n).replace(/\./g,"")},vl=function(n){try{return gw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var x1=()=>mw().__FIREBASE_DEFAULTS__,L1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},F1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&vl(n[1]);return t&&JSON.parse(t)},_l=()=>{try{return dw()||x1()||L1()||F1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mp=n=>_l()?.emulatorHosts?.[n],bl=n=>{let t=mp(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},yp=()=>_l()?.config,vp=n=>_l()?.[`_${n}`];var yl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function Mn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ps(n){return(await fetch(n,{credentials:"include"})).ok}function yw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=A({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ka(JSON.stringify(e)),ka(JSON.stringify(o)),""].join(".")}var Ma={};function V1(){let n={prod:[],emulator:[]};for(let t of Object.keys(Ma))Ma[t]?n.emulator.push(t):n.prod.push(t);return n}function U1(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var hw=!1;function Ns(n,t){if(typeof window>"u"||typeof document>"u"||!Mn(window.location.host)||Ma[n]===t||Ma[n]||hw)return;Ma[n]=t;function e(g){return`__firebase__banner__${g}`}let r="__firebase__banner",s=V1().prod.length>0;function o(){let g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{hw=!0,o()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=U1(r),y=e("text"),D=document.getElementById(y)||document.createElement("span"),P=e("learnmore"),C=document.getElementById(P)||document.createElement("a"),M=e("preprendIcon"),V=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let z=g.element;c(z),h(C,P);let K=l();u(V,M),z.append(V,D,C,K),document.body.appendChild(z)}s?(D.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function B1(){let n=_l()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bw(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ww(){let n=ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Iw(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _p(){try{return typeof indexedDB=="object"}catch{return!1}}function Tw(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}var $1="FirebaseError",Ot=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=$1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}},nr=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?j1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ot(i,c,r)}};function j1(n,t){return n.replace(z1,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var z1=/\{\$([^}]+)}/g;function Cw(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function kn(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let s=n[i],o=t[i];if(fw(s)&&fw(o)){if(!kn(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function fw(n){return n!==null&&typeof n=="object"}function xa(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Os(n){let t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Ms(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function Sw(n,t){let e=new gp(n,t);return e.subscribe.bind(e)}var gp=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");H1(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=fp),i.error===void 0&&(i.error=fp),i.complete===void 0&&(i.complete=fp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function H1(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function fp(){}var wB=14400*1e3;function Ne(n){return n&&n._delegate?n._delegate:n}var Mt=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Ni="[DEFAULT]";var bp=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new yl;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){let e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q1(t))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ni){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ni){return this.instances.has(t)}getOptions(t=Ni){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,e){let r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G1(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ni){return this.component?this.component.multipleInstances?t:Ni:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function G1(n){return n===Ni?void 0:n}function q1(n){return n.instantiationMode==="EAGER"}var El=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new bp(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var W1=[],oe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(oe||{}),K1={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Q1=oe.INFO,Y1={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},J1=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=Y1[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Vr=class{constructor(t){this.name=t,this._logLevel=Q1,this._logHandler=J1,this._userLogHandler=null,W1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?K1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}};var X1=(n,t)=>t.some(e=>n instanceof e),Aw,Dw;function Z1(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eP(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Rw=new WeakMap,wp=new WeakMap,Pw=new WeakMap,Ep=new WeakMap,Tp=new WeakMap;function tP(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(xn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&Rw.set(e,n)}).catch(()=>{}),Tp.set(t,n),t}function nP(n){if(wp.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});wp.set(n,t)}var Ip={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return wp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Pw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return xn(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Nw(n){Ip=n(Ip)}function rP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(wl(this),t,...e);return Pw.set(r,t.sort?t.sort():[t]),xn(r)}:eP().includes(n)?function(...t){return n.apply(wl(this),t),xn(Rw.get(this))}:function(...t){return xn(n.apply(wl(this),t))}}function iP(n){return typeof n=="function"?rP(n):(n instanceof IDBTransaction&&nP(n),X1(n,Z1())?new Proxy(n,Ip):n)}function xn(n){if(n instanceof IDBRequest)return tP(n);if(Ep.has(n))return Ep.get(n);let t=iP(n);return t!==n&&(Ep.set(n,t),Tp.set(t,n)),t}var wl=n=>Tp.get(n);function Mw(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,t),c=xn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xn(o.result),u.oldVersion,u.newVersion,xn(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var sP=["get","getKey","getAll","getAllKeys","count"],oP=["put","add","delete","clear"],Cp=new Map;function Ow(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Cp.get(t))return Cp.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=oP.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sP.includes(e)))return;let s=async function(o,...c){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),i&&u.done]))[0]};return Cp.set(t,s),s}Nw(n=>re(A({},n),{get:(t,e,r)=>Ow(t,e)||n.get(t,e,r),has:(t,e)=>!!Ow(t,e)||n.has(t,e)}));var Ap=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(aP(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function aP(n){return n.getComponent()?.type==="VERSION"}var Dp="@firebase/app",kw="0.14.6";var rr=new Vr("@firebase/app"),cP="@firebase/app-compat",uP="@firebase/analytics-compat",lP="@firebase/analytics",dP="@firebase/app-check-compat",hP="@firebase/app-check",fP="@firebase/auth",pP="@firebase/auth-compat",gP="@firebase/database",mP="@firebase/data-connect",yP="@firebase/database-compat",vP="@firebase/functions",_P="@firebase/functions-compat",bP="@firebase/installations",EP="@firebase/installations-compat",wP="@firebase/messaging",IP="@firebase/messaging-compat",TP="@firebase/performance",CP="@firebase/performance-compat",SP="@firebase/remote-config",AP="@firebase/remote-config-compat",DP="@firebase/storage",RP="@firebase/storage-compat",PP="@firebase/firestore",NP="@firebase/ai",OP="@firebase/firestore-compat",MP="firebase",kP="12.6.0";var Rp="[DEFAULT]",xP={[Dp]:"fire-core",[cP]:"fire-core-compat",[lP]:"fire-analytics",[uP]:"fire-analytics-compat",[hP]:"fire-app-check",[dP]:"fire-app-check-compat",[fP]:"fire-auth",[pP]:"fire-auth-compat",[gP]:"fire-rtdb",[mP]:"fire-data-connect",[yP]:"fire-rtdb-compat",[vP]:"fire-fn",[_P]:"fire-fn-compat",[bP]:"fire-iid",[EP]:"fire-iid-compat",[wP]:"fire-fcm",[IP]:"fire-fcm-compat",[TP]:"fire-perf",[CP]:"fire-perf-compat",[SP]:"fire-rc",[AP]:"fire-rc-compat",[DP]:"fire-gcs",[RP]:"fire-gcs-compat",[PP]:"fire-fst",[OP]:"fire-fst-compat",[NP]:"fire-vertex","fire-js":"fire-js",[MP]:"fire-js-all"};var Il=new Map,LP=new Map,Pp=new Map;function xw(n,t){try{n.container.addComponent(t)}catch(e){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ln(n){let t=n.name;if(Pp.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;Pp.set(t,n);for(let e of Il.values())xw(e,n);for(let e of LP.values())xw(e,n);return!0}function Oi(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function St(n){return n==null?!1:n.settings!==void 0}var FP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new nr("app","Firebase",FP);var Np=class{constructor(t,e,r){this._isDeleted=!1,this._options=A({},t),this._config=A({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}};var Br=kP;function kp(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=A({name:Rp,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(e||(e=yp()),!e)throw Ur.create("no-options");let s=Il.get(i);if(s){if(kn(e,s.options)&&kn(r,s.config))return s;throw Ur.create("duplicate-app",{appName:i})}let o=new El(i);for(let u of Pp.values())o.addComponent(u);let c=new Np(e,r,o);return Il.set(i,c),c}function ks(n=Rp){let t=Il.get(n);if(!t&&n===Rp&&yp())return kp();if(!t)throw Ur.create("no-app",{appName:n});return t}function kt(n,t,e){let r=xP[n]??n;e&&(r+=`-${e}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(o.join(" "));return}Ln(new Mt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var VP="firebase-heartbeat-database",UP=1,La="firebase-heartbeat-store",Sp=null;function Uw(){return Sp||(Sp=Mw(VP,UP,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(La)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ur.create("idb-open",{originalErrorMessage:n.message})})),Sp}async function BP(n){try{let e=(await Uw()).transaction(La),r=await e.objectStore(La).get(Bw(n));return await e.done,r}catch(t){if(t instanceof Ot)rr.warn(t.message);else{let e=Ur.create("idb-get",{originalErrorMessage:t?.message});rr.warn(e.message)}}}async function Lw(n,t){try{let r=(await Uw()).transaction(La,"readwrite");await r.objectStore(La).put(t,Bw(n)),await r.done}catch(e){if(e instanceof Ot)rr.warn(e.message);else{let r=Ur.create("idb-set",{originalErrorMessage:e?.message});rr.warn(r.message)}}}function Bw(n){return`${n.name}!${n.options.appId}`}var $P=1024,jP=30,Op=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Mp(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>jP){let i=HP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Fw(),{heartbeatsToSend:e,unsentEntries:r}=zP(this._heartbeatsCache.heartbeats),i=ka(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return rr.warn(t),""}}};function Fw(){return new Date().toISOString().substring(0,10)}function zP(n,t=$P){let e=[],r=n.slice();for(let i of n){let s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vw(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),Vw(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var Mp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _p()?Tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await BP(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}};function Vw(n){return ka(JSON.stringify({version:2,heartbeats:n})).length}function HP(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function GP(n){Ln(new Mt("platform-logger",t=>new Ap(t),"PRIVATE")),Ln(new Mt("heartbeat",t=>new Op(t),"PRIVATE")),kt(Dp,kw,n),kt(Dp,kw,"esm2020"),kt("fire-js","")}GP("");var qP="firebase",WP="12.7.0";kt(qP,WP,"app");var KP=Object.defineProperty,QP=Object.defineProperties,YP=Object.getOwnPropertyDescriptors,Tl=Object.getOwnPropertySymbols,zw=Object.prototype.hasOwnProperty,Hw=Object.prototype.propertyIsEnumerable,$w=(n,t,e)=>t in n?KP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,gn=(n,t)=>{for(var e in t||(t={}))zw.call(t,e)&&$w(n,e,t[e]);if(Tl)for(var e of Tl(t))Hw.call(t,e)&&$w(n,e,t[e]);return n},xp=(n,t)=>QP(n,YP(t)),ir=(n,t)=>{var e={};for(var r in n)zw.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&Tl)for(var r of Tl(n))t.indexOf(r)<0&&Hw.call(n,r)&&(e[r]=n[r]);return e};var JP=rw(),tt=JP,Fa=/{([^}]*)}/g,Gw=/(\d+\s+[\+\-\*\/]\s+\d+)/g,qw=/var\([^)]+\)/g;function jw(n){return Zt(n)?n.replace(/[A-Z]/g,(t,e)=>e===0?t:"."+t.toLowerCase()).toLowerCase():n}function XP(n){return tr(n)&&n.hasOwnProperty("$value")&&n.hasOwnProperty("$type")?n.$value:n}function ZP(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Lp(n="",t=""){return ZP(`${Zt(n,!1)&&Zt(t,!1)?`${n}-`:n}${t}`)}function Ww(n="",t=""){return`--${Lp(n,t)}`}function eN(n=""){let t=(n.match(/{/g)||[]).length,e=(n.match(/}/g)||[]).length;return(t+e)%2!==0}function Kw(n,t="",e="",r=[],i){if(Zt(n)){let s=n.trim();if(eN(s))return;if(fn(s,Fa)){let o=s.replaceAll(Fa,c=>{let u=c.replace(/{|}/g,"").split(".").filter(l=>!r.some(h=>fn(l,h)));return`var(${Ww(e,pl(u.join("-")))}${ve(i)?`, ${i}`:""})`});return fn(o.replace(qw,"0"),Gw)?`calc(${o})`:o}return s}else if(cw(n))return n}function tN(n,t,e){Zt(t,!1)&&n.push(`${t}:${e};`)}function xs(n,t){return n?`${n}{${t}}`:""}function Qw(n,t){if(n.indexOf("dt(")===-1)return n;function e(o,c){let u=[],l=0,h="",p=null,g=0;for(;l<=o.length;){let y=o[l];if((y==='"'||y==="'"||y==="`")&&o[l-1]!=="\\"&&(p=p===y?null:y),!p&&(y==="("&&g++,y===")"&&g--,(y===","||l===o.length)&&g===0)){let D=h.trim();D.startsWith("dt(")?u.push(Qw(D,c)):u.push(r(D)),h="",l++;continue}y!==void 0&&(h+=y),l++}return u}function r(o){let c=o[0];if((c==='"'||c==="'"||c==="`")&&o[o.length-1]===c)return o.slice(1,-1);let u=Number(o);return isNaN(u)?o:u}let i=[],s=[];for(let o=0;o<n.length;o++)if(n[o]==="d"&&n.slice(o,o+3)==="dt(")s.push(o),o+=2;else if(n[o]===")"&&s.length>0){let c=s.pop();s.length===0&&i.push([c,o])}if(!i.length)return n;for(let o=i.length-1;o>=0;o--){let[c,u]=i[o],l=n.slice(c+3,u),h=e(l,t),p=t(...h);n=n.slice(0,c)+p+n.slice(u+1)}return n}var Vp=n=>{var t;let e=Ae.getTheme(),r=Fp(e,n,void 0,"variable"),i=(t=r?.match(/--[\w-]+/g))==null?void 0:t[0],s=Fp(e,n,void 0,"value");return{name:i,variable:r,value:s}},sr=(...n)=>Fp(Ae.getTheme(),...n),Fp=(n={},t,e,r)=>{if(t){let{variable:i,options:s}=Ae.defaults||{},{prefix:o,transform:c}=n?.options||s||{},u=fn(t,Fa)?t:`{${t}}`;return r==="value"||Nn(r)&&c==="strict"?Ae.getTokenValue(t):Kw(u,void 0,o,[i.excludedKeyRegex],e)}return""};function Ls(n,...t){if(n instanceof Array){let e=n.reduce((r,i,s)=>{var o;return r+i+((o=st(t[s],{dt:sr}))!=null?o:"")},"");return Qw(e,sr)}return st(n,{dt:sr})}function nN(n,t={}){let e=Ae.defaults.variable,{prefix:r=e.prefix,selector:i=e.selector,excludedKeyRegex:s=e.excludedKeyRegex}=t,o=[],c=[],u=[{node:n,path:r}];for(;u.length;){let{node:h,path:p}=u.pop();for(let g in h){let y=h[g],D=XP(y),P=fn(g,s)?Lp(p):Lp(p,pl(g));if(tr(D))u.push({node:D,path:P});else{let C=Ww(P),M=Kw(D,P,r,[s]);tN(c,C,M);let V=P;r&&V.startsWith(r+"-")&&(V=V.slice(r.length+1)),o.push(V.replace(/-/g,"."))}}}let l=c.join("");return{value:c,tokens:o,declarations:l,css:xs(i,l)}}var pn={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n},:host${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:n,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){let t=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[n].flat().map(e=>{var r;return(r=t.map(i=>i.resolve(e)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(e)})}},_toVariables(n,t){return nN(n,{prefix:t?.prefix})},getCommon({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o,c,u,l,h,p;let{preset:g,options:y}=t,D,P,C,M,V,z,K;if(ve(g)&&y.transform!=="strict"){let{primitive:le,semantic:de,extend:E}=g,v=de||{},{colorScheme:b}=v,I=ir(v,["colorScheme"]),w=E||{},{colorScheme:S}=w,_=ir(w,["colorScheme"]),ze=b||{},{dark:xt}=ze,Xi=ir(ze,["dark"]),Zi=S||{},{dark:Hn}=Zi,Gn=ir(Zi,["dark"]),es=ve(le)?this._toVariables({primitive:le},y):{},ii=ve(I)?this._toVariables({semantic:I},y):{},si=ve(Xi)?this._toVariables({light:Xi},y):{},bo=ve(xt)?this._toVariables({dark:xt},y):{},oi=ve(_)?this._toVariables({semantic:_},y):{},ts=ve(Gn)?this._toVariables({light:Gn},y):{},ns=ve(Hn)?this._toVariables({dark:Hn},y):{},[Eo,wo]=[(s=es.declarations)!=null?s:"",es.tokens],[Tc,Cc]=[(o=ii.declarations)!=null?o:"",ii.tokens||[]],[gh,Sc]=[(c=si.declarations)!=null?c:"",si.tokens||[]],[Ac,Io]=[(u=bo.declarations)!=null?u:"",bo.tokens||[]],[Dc,mh]=[(l=oi.declarations)!=null?l:"",oi.tokens||[]],[To,Co]=[(h=ts.declarations)!=null?h:"",ts.tokens||[]],[So,nt]=[(p=ns.declarations)!=null?p:"",ns.tokens||[]];D=this.transformCSS(n,Eo,"light","variable",y,r,i),P=wo;let ut=this.transformCSS(n,`${Tc}${gh}`,"light","variable",y,r,i),rs=this.transformCSS(n,`${Ac}`,"dark","variable",y,r,i);C=`${ut}${rs}`,M=[...new Set([...Cc,...Sc,...Io])];let yh=this.transformCSS(n,`${Dc}${To}color-scheme:light`,"light","variable",y,r,i),Rc=this.transformCSS(n,`${So}color-scheme:dark`,"dark","variable",y,r,i);V=`${yh}${Rc}`,z=[...new Set([...mh,...Co,...nt])],K=st(g.css,{dt:sr})}return{primitive:{css:D,tokens:P},semantic:{css:C,tokens:M},global:{css:V,tokens:z},style:K}},getPreset({name:n="",preset:t={},options:e,params:r,set:i,defaults:s,selector:o}){var c,u,l;let h,p,g;if(ve(t)&&e.transform!=="strict"){let y=n.replace("-directive",""),D=t,{colorScheme:P,extend:C,css:M}=D,V=ir(D,["colorScheme","extend","css"]),z=C||{},{colorScheme:K}=z,le=ir(z,["colorScheme"]),de=P||{},{dark:E}=de,v=ir(de,["dark"]),b=K||{},{dark:I}=b,w=ir(b,["dark"]),S=ve(V)?this._toVariables({[y]:gn(gn({},V),le)},e):{},_=ve(v)?this._toVariables({[y]:gn(gn({},v),w)},e):{},ze=ve(E)?this._toVariables({[y]:gn(gn({},E),I)},e):{},[xt,Xi]=[(c=S.declarations)!=null?c:"",S.tokens||[]],[Zi,Hn]=[(u=_.declarations)!=null?u:"",_.tokens||[]],[Gn,es]=[(l=ze.declarations)!=null?l:"",ze.tokens||[]],ii=this.transformCSS(y,`${xt}${Zi}`,"light","variable",e,i,s,o),si=this.transformCSS(y,Gn,"dark","variable",e,i,s,o);h=`${ii}${si}`,p=[...new Set([...Xi,...Hn,...es])],g=st(M,{dt:sr})}return{css:h,tokens:p,style:g}},getPresetC({name:n="",theme:t={},params:e,set:r,defaults:i}){var s;let{preset:o,options:c}=t,u=(s=o?.components)==null?void 0:s[n];return this.getPreset({name:n,preset:u,options:c,params:e,set:r,defaults:i})},getPresetD({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o;let c=n.replace("-directive",""),{preset:u,options:l}=t,h=((s=u?.components)==null?void 0:s[c])||((o=u?.directives)==null?void 0:o[c]);return this.getPreset({name:c,preset:h,options:l,params:e,set:r,defaults:i})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,t){var e;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?t.options.darkModeSelector:(e=n.darkModeSelector)!=null?e:t.options.darkModeSelector):[]},getLayerOrder(n,t={},e,r){let{cssLayer:i}=t;return i?`@layer ${st(i.order||i.name||"primeui",e)}`:""},getCommonStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){let o=this.getCommon({name:n,theme:t,params:e,set:i,defaults:s}),c=Object.entries(r).reduce((u,[l,h])=>u.push(`${l}="${h}"`)&&u,[]).join(" ");return Object.entries(o||{}).reduce((u,[l,h])=>{if(tr(h)&&Object.hasOwn(h,"css")){let p=Pi(h.css),g=`${l}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${g}" ${c}>${p}</style>`)}return u},[]).join("")},getStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){var o;let c={name:n,theme:t,params:e,set:i,defaults:s},u=(o=n.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:o.css,l=Object.entries(r).reduce((h,[p,g])=>h.push(`${p}="${g}"`)&&h,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${n}-variables" ${l}>${Pi(u)}</style>`:""},createTokens(n={},t,e="",r="",i={}){let s=function(c,u={},l=[]){if(l.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:c,path:this.path,paths:u,value:void 0};l.push(this.path),u.name=this.path,u.binding||(u.binding={});let h=this.value;if(typeof this.value=="string"&&Fa.test(this.value)){let p=this.value.trim().replace(Fa,g=>{var y;let D=g.slice(1,-1),P=this.tokens[D];if(!P)return console.warn(`Token not found for path: ${D}`),"__UNRESOLVED__";let C=P.computed(c,u,l);return Array.isArray(C)&&C.length===2?`light-dark(${C[0].value},${C[1].value})`:(y=C?.value)!=null?y:"__UNRESOLVED__"});h=Gw.test(p.replace(qw,"0"))?`calc(${p})`:p}return Nn(u.binding)&&delete u.binding,l.pop(),{colorScheme:c,path:this.path,paths:u,value:h.includes("__UNRESOLVED__")?void 0:h}},o=(c,u,l)=>{Object.entries(c).forEach(([h,p])=>{let g=fn(h,t.variable.excludedKeyRegex)?u:u?`${u}.${jw(h)}`:jw(h),y=l?`${l}.${h}`:h;tr(p)?o(p,g,y):(i[g]||(i[g]={paths:[],computed:(D,P={},C=[])=>{if(i[g].paths.length===1)return i[g].paths[0].computed(i[g].paths[0].scheme,P.binding,C);if(D&&D!=="none")for(let M=0;M<i[g].paths.length;M++){let V=i[g].paths[M];if(V.scheme===D)return V.computed(D,P.binding,C)}return i[g].paths.map(M=>M.computed(M.scheme,P[M.scheme],C))}}),i[g].paths.push({path:y,value:p,scheme:y.includes("colorScheme.light")?"light":y.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:i}))})};return o(n,e,r),i},getTokenValue(n,t,e){var r;let i=(c=>c.split(".").filter(u=>!fn(u.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(t),s=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,o=[(r=n[i])==null?void 0:r.computed(s)].flat().filter(c=>c);return o.length===1?o[0].value:o.reduce((c={},u)=>{let l=u,{colorScheme:h}=l,p=ir(l,["colorScheme"]);return c[h]=p,c},void 0)},getSelectorRule(n,t,e,r){return e==="class"||e==="attr"?xs(ve(t)?`${n}${t},${n} ${t}`:n,r):xs(n,xs(t??":root,:host",r))},transformCSS(n,t,e,r,i={},s,o,c){if(ve(t)){let{cssLayer:u}=i;if(r!=="style"){let l=this.getColorSchemeOption(i,o);t=e==="dark"?l.reduce((h,{type:p,selector:g})=>(ve(g)&&(h+=g.includes("[CSS]")?g.replace("[CSS]",t):this.getSelectorRule(g,c,p,t)),h),""):xs(c??":root,:host",t)}if(u){let l={name:"primeui",order:"primeui"};tr(u)&&(l.name=st(u.name,{name:n,type:r})),ve(l.name)&&(t=xs(`@layer ${l.name}`,t),s?.layerNames(l.name))}return t}return""}},Ae={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:t}=n;t&&(this._theme=xp(gn({},t),{options:gn(gn({},this.defaults.options),t.options)}),this._tokens=pn.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),tt.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=xp(gn({},this.theme),{preset:n}),this._tokens=pn.createTokens(n,this.defaults),this.clearLoadedStyleNames(),tt.emit("preset:change",n),tt.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=xp(gn({},this.theme),{options:n}),this.clearLoadedStyleNames(),tt.emit("options:change",n),tt.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return pn.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",t){return pn.getCommon({name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return pn.getPresetC(e)},getDirective(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return pn.getPresetD(e)},getCustomPreset(n="",t,e,r){let i={name:n,preset:t,options:this.options,selector:e,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return pn.getPreset(i)},getLayerOrderCSS(n=""){return pn.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",t,e="style",r){return pn.transformCSS(n,t,r,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",t,e={}){return pn.getCommonStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,t,e={}){return pn.getStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),tt.emit(`theme:${t}:load`,n),!this._loadingStyles.size&&tt.emit("theme:load"))}};var Yw=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    .p-collapsible-enter-active {
        animation: p-animate-collapsible-expand 0.2s ease-out;
        overflow: hidden;
    }

    .p-collapsible-leave-active {
        animation: p-animate-collapsible-collapse 0.2s ease-out;
        overflow: hidden;
    }

    @keyframes p-animate-collapsible-expand {
        from {
            grid-template-rows: 0fr;
        }
        to {
            grid-template-rows: 1fr;
        }
    }

    @keyframes p-animate-collapsible-collapse {
        from {
            grid-template-rows: 1fr;
        }
        to {
            grid-template-rows: 0fr;
        }
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: var(--px-mask-background, dt('mask.background'));
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter-active {
        animation: p-animate-overlay-mask-enter dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave-active {
        animation: p-animate-overlay-mask-leave dt('mask.transition.duration') forwards;
    }

    @keyframes p-animate-overlay-mask-enter {
        from {
            background: transparent;
        }
        to {
            background: var(--px-mask-background, dt('mask.background'));
        }
    }
    @keyframes p-animate-overlay-mask-leave {
        from {
            background: var(--px-mask-background, dt('mask.background'));
        }
        to {
            background: transparent;
        }
    }

    .p-anchored-overlay-enter-active {
        animation: p-animate-anchored-overlay-enter 300ms cubic-bezier(.19,1,.22,1);
    }

    .p-anchored-overlay-leave-active {
        animation: p-animate-anchored-overlay-leave 300ms cubic-bezier(.19,1,.22,1);
    }

    @keyframes p-animate-anchored-overlay-enter {
        from {
            opacity: 0;
            transform: scale(0.93);
        }
    }

    @keyframes p-animate-anchored-overlay-leave {
        to {
            opacity: 0;
            transform: scale(0.93);
        }
    }
`;var rN=0,Jw=(()=>{class n{document=R(be);use(e,r={}){let i=!1,s=e,o=null,{immediate:c=!0,manual:u=!1,name:l=`style_${++rN}`,id:h=void 0,media:p=void 0,nonce:g=void 0,first:y=!1,props:D={}}=r;if(this.document){if(o=this.document.querySelector(`style[data-primeng-style-id="${l}"]`)||h&&this.document.getElementById(h)||this.document.createElement("style"),o){if(!o.isConnected){s=e;let P=this.document.head;nw(o,"nonce",g),y&&P.firstChild?P.insertBefore(o,P.firstChild):P.appendChild(o),cl(o,{type:"text/css",media:p,nonce:g,"data-primeng-style-id":l})}o.textContent!==s&&(o.textContent=s)}return{id:h,name:l,el:o,css:s}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fs={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},iN=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: dt('scrollbar.width');
}
`,Fe=(()=>{class n{name="base";useStyle=R(Jw);css=void 0;style=void 0;classes={};inlineStyles={};load=(e,r={},i=s=>s)=>{let s=i(Ls`${st(e,{dt:sr})}`);return s?this.useStyle.use(Pi(s),A({name:this.name},r)):{}};loadCSS=(e={})=>this.load(this.css,e);loadStyle=(e={},r="")=>this.load(this.style,e,(i="")=>Ae.transformCSS(e.name||this.name,`${i}${Ls`${r}`}`));loadBaseCSS=(e={})=>this.load(iN,e);loadBaseStyle=(e={},r="")=>this.load(Yw,e,(i="")=>Ae.transformCSS(e.name||this.name,`${i}${Ls`${r}`}`));getCommonTheme=e=>Ae.getCommon(this.name,e);getComponentTheme=e=>Ae.getComponent(this.name,e);getPresetTheme=(e,r,i)=>Ae.getCustomPreset(this.name,e,r,i);getLayerOrderThemeCSS=()=>Ae.getLayerOrderCSS(this.name);getStyleSheet=(e="",r={})=>{if(this.css){let i=st(this.css,{dt:sr}),s=Pi(Ls`${i}${e}`),o=Object.entries(r).reduce((c,[u,l])=>c.push(`${u}="${l}"`)&&c,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${o}>${s}</style>`}return""};getCommonThemeStyleSheet=(e,r={})=>Ae.getCommonStyleSheet(this.name,e,r);getThemeStyleSheet=(e,r={})=>{let i=[Ae.getStyleSheet(this.name,e,r)];if(this.style){let s=this.name==="base"?"global-style":`${this.name}-style`,o=Ls`${st(this.style,{dt:sr})}`,c=Pi(Ae.transformCSS(s,o)),u=Object.entries(r).reduce((l,[h,p])=>l.push(`${h}="${p}"`)&&l,[]).join(" ");i.push(`<style type="text/css" data-primeng-style-id="${s}" ${u}>${c}</style>`)}return i.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sN=(()=>{class n{theme=ue(void 0);csp=ue({nonce:void 0});isThemeChanged=!1;document=R(be);baseStyle=R(Fe);constructor(){De(()=>{tt.on("theme:change",e=>{He(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),De(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){Ae.clearLoadedStyleNames(),tt.clear()}onThemeChange(e){Ae.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!Ae.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.baseStyle.getCommonTheme?.()||{},o={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,A({name:"primitive-variables"},o)),this.baseStyle.load(r?.css,A({name:"semantic-variables"},o)),this.baseStyle.load(i?.css,A({name:"global-variables"},o)),this.baseStyle.loadBaseStyle(A({name:"global-style"},o),s),Ae.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:r,csp:i}=e||{};r&&this.theme.set(r),i&&this.csp.set(i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Up=(()=>{class n extends sN{ripple=ue(!1);platformId=R(In);inputStyle=ue(null);inputVariant=ue(null);overlayAppendTo=ue("self");overlayOptions={};csp=ue({nonce:void 0});unstyled=ue(void 0);pt=ue(void 0);ptOptions=ue(void 0);filterMatchModeOptions={text:[ft.STARTS_WITH,ft.CONTAINS,ft.NOT_CONTAINS,ft.ENDS_WITH,ft.EQUALS,ft.NOT_EQUALS],numeric:[ft.EQUALS,ft.NOT_EQUALS,ft.LESS_THAN,ft.LESS_THAN_OR_EQUAL_TO,ft.GREATER_THAN,ft.GREATER_THAN_OR_EQUAL_TO],date:[ft.DATE_IS,ft.DATE_IS_NOT,ft.DATE_BEFORE,ft.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",completed:"Completed",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize",minimizeLabel:"Minimize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ze;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=A(A({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:r,ripple:i,inputStyle:s,inputVariant:o,theme:c,overlayOptions:u,translation:l,filterMatchModeOptions:h,overlayAppendTo:p,zIndex:g,ptOptions:y,pt:D,unstyled:P}=e||{};r&&this.csp.set(r),p&&this.overlayAppendTo.set(p),i&&this.ripple.set(i),s&&this.inputStyle.set(s),o&&this.inputVariant.set(o),u&&(this.overlayOptions=u),l&&this.setTranslation(l),h&&(this.filterMatchModeOptions=h),g&&(this.zIndex=g),D&&this.pt.set(D),y&&this.ptOptions.set(y),P&&this.unstyled.set(P),c&&this.setThemeConfig({theme:c,csp:r})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oN=new j("PRIME_NG_CONFIG");function E$(...n){let t=n?.map(r=>({provide:oN,useValue:r,multi:!1})),e=Qo(()=>{let r=R(Up);n?.forEach(i=>r.setConfig(i))});return Dr([...t,e])}var Xw=(()=>{class n extends Fe{name="common";static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pt=new j("PARENT_INSTANCE"),Ve=(()=>{class n{document=R(be);platformId=R(In);el=R(it);injector=R(Yn);cd=R(on);renderer=R(yt);config=R(Up);$parentInstance=R(pt,{optional:!0,skipSelf:!0})??void 0;baseComponentStyle=R(Xw);baseStyle=R(Fe);scopedStyleEl;parent=this.$params.parent;cn=Lr;_themeScopedListener;dt=x();unstyled=x();pt=x();ptOptions=x();$attrSelector=Oa("pc");get $name(){return this.componentName||this.constructor?.name?.replace(/^_/,"")||"UnknownComponent"}get $hostName(){return this.hostName}get $el(){return this.el?.nativeElement}directivePT=ue(void 0);directiveUnstyled=ue(void 0);$unstyled=ye(()=>this.unstyled()??this.directiveUnstyled()??this.config?.unstyled()??!1);$pt=ye(()=>st(this.pt()||this.directivePT(),this.$params));get $globalPT(){return this._getPT(this.config?.pt(),void 0,e=>st(e,this.$params))}get $defaultPT(){return this._getPT(this.config?.pt(),void 0,e=>this._getOptionValue(e,this.$hostName||this.$name,this.$params)||st(e,this.$params))}get $style(){return A(A({theme:void 0,css:void 0,classes:void 0,inlineStyles:void 0},(this._getHostInstance(this)||{}).$style),this._componentStyle)}get $styleOptions(){return{nonce:this.config?.csp().nonce}}get $params(){let e=this._getHostInstance(this)||this.$parentInstance;return{instance:this,parent:{instance:e}}}onInit(){}onChanges(e){}onDoCheck(){}onAfterContentInit(){}onAfterContentChecked(){}onAfterViewInit(){}onAfterViewChecked(){}onDestroy(){}constructor(){De(e=>{this.document&&!hf(this.platformId)&&(tt.off("theme:change",this._themeScopedListener),this.dt()?(this._loadScopedThemeStyles(this.dt()),this._themeScopedListener=()=>this._loadScopedThemeStyles(this.dt()),this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()),e(()=>{tt.off("theme:change",this._themeScopedListener)})}),De(e=>{this.document&&!hf(this.platformId)&&(tt.off("theme:change",this._loadCoreStyles),this.$unstyled()||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))),e(()=>{tt.off("theme:change",this._loadCoreStyles)})}),this._hook("onBeforeInit")}ngOnInit(){this._loadCoreStyles(),this._loadStyles(),this.onInit(),this._hook("onInit")}ngOnChanges(e){this.onChanges(e),this._hook("onChanges",e)}ngDoCheck(){this.onDoCheck(),this._hook("onDoCheck")}ngAfterContentInit(){this.onAfterContentInit(),this._hook("onAfterContentInit")}ngAfterContentChecked(){this.onAfterContentChecked(),this._hook("onAfterContentChecked")}ngAfterViewInit(){this.$el?.setAttribute(this.$attrSelector,""),this.onAfterViewInit(),this._hook("onAfterViewInit")}ngAfterViewChecked(){this.onAfterViewChecked(),this._hook("onAfterViewChecked")}ngOnDestroy(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this.onDestroy(),this._hook("onDestroy")}_mergeProps(e,...r){return hl(e)?e(...r):up(...r)}_getHostInstance(e){return e?this.$hostName?this.$name===this.$hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0}_getPropValue(e){return this[e]||this._getHostInstance(this)?.[e]}_getOptionValue(e,r="",i={}){return fl(e,r,i)}_hook(e,...r){if(!this.$hostName){let i=this._usePT(this._getPT(this.$pt(),this.$name),this._getOptionValue,`hooks.${e}`),s=this._useDefaultPT(this._getOptionValue,`hooks.${e}`);i?.(...r),s?.(...r)}}_load(){Fs.isStyleNameLoaded("base")||(this.baseStyle.loadBaseCSS(this.$styleOptions),this._loadGlobalStyles(),Fs.setLoadedStyleName("base")),this._loadThemeStyles()}_loadStyles(){this._load(),this._themeChangeListener(()=>this._load())}_loadGlobalStyles(){let e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);ve(e)&&this.baseStyle.load(e,A({name:"global"},this.$styleOptions))}_loadCoreStyles(){!Fs.isStyleNameLoaded(this.$style?.name)&&this.$style?.name&&(this.baseComponentStyle.loadCSS(this.$styleOptions),this.$style.loadCSS(this.$styleOptions),Fs.setLoadedStyleName(this.$style.name))}_loadThemeStyles(){if(!(this.$unstyled()||this.config?.theme()==="none")){if(!Ae.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.$style?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,A({name:"primitive-variables"},this.$styleOptions)),this.baseStyle.load(r?.css,A({name:"semantic-variables"},this.$styleOptions)),this.baseStyle.load(i?.css,A({name:"global-variables"},this.$styleOptions)),this.baseStyle.loadBaseStyle(A({name:"global-style"},this.$styleOptions),s),Ae.setLoadedStyleName("common")}if(!Ae.isStyleNameLoaded(this.$style?.name)&&this.$style?.name){let{css:e,style:r}=this.$style?.getComponentTheme?.()||{};this.$style?.load(e,A({name:`${this.$style?.name}-variables`},this.$styleOptions)),this.$style?.loadStyle(A({name:`${this.$style?.name}-style`},this.$styleOptions),r),Ae.setLoadedStyleName(this.$style?.name)}if(!Ae.isStyleNameLoaded("layer-order")){let e=this.$style?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,A({name:"layer-order",first:!0},this.$styleOptions)),Ae.setLoadedStyleName("layer-order")}}}_loadScopedThemeStyles(e){let{css:r}=this.$style?.getPresetTheme?.(e,`[${this.$attrSelector}]`)||{},i=this.$style?.load(r,A({name:`${this.$attrSelector}-${this.$style?.name}`},this.$styleOptions));this.scopedStyleEl=i?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){Fs.clearLoadedStyleNames(),tt.on("theme:change",e.bind(this))}_removeThemeListeners(){tt.off("theme:change",this._loadCoreStyles),tt.off("theme:change",this._load),tt.off("theme:change",this._themeScopedListener)}_getPTValue(e={},r="",i={},s=!0){let o=/./g.test(r)&&!!i[r.split(".")[0]],{mergeSections:c=!0,mergeProps:u=!1}=this._getPropValue("ptOptions")?.()||this.config?.ptOptions?.()||{},l=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,h=o?void 0:this._usePT(this._getPT(e,this.$hostName||this.$name),this._getPTClassValue,r,re(A({},i),{global:l||{}})),p=this._getPTDatasets(r);return c||!c&&h?u?this._mergeProps(u,l,h,p):A(A(A({},l),h),p):A(A({},h),p)}_getPTDatasets(e=""){let r="data-pc-",i=e==="root"&&ve(this.$pt()?.["data-pc-section"]);return e!=="transition"&&re(A({},e==="root"&&re(A({[`${r}name`]:Fr(i?this.$pt()?.["data-pc-section"]:this.$name)},i&&{[`${r}extend`]:Fr(this.$name)}),{[`${this.$attrSelector}`]:""})),{[`${r}section`]:Fr(e.includes(".")?e.split(".").at(-1)??"":e)})}_getPTClassValue(e,r,i){let s=this._getOptionValue(e,r,i);return Zt(s)||dp(s)?{class:s}:s}_getPT(e,r="",i){let s=(o,c=!1)=>{let u=i?i(o):o,l=Fr(r),h=Fr(this.$hostName||this.$name);return(c?l!==h?u?.[l]:void 0:u?.[l])??u};return e?.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)}_usePT(e,r,i,s){let o=c=>r?.call(this,c,i,s);if(e?.hasOwnProperty("_usept")){let{mergeSections:c=!0,mergeProps:u=!1}=e._usept||this.config?.ptOptions()||{},l=o(e.originalValue),h=o(e.value);return l===void 0&&h===void 0?void 0:Zt(h)?h:Zt(l)?l:c||!c&&h?u?this._mergeProps(u,l,h):A(A({},l),h):h}return o(e)}_useGlobalPT(e,r,i){return this._usePT(this.$globalPT,e,r,i)}_useDefaultPT(e,r,i){return this._usePT(this.$defaultPT,e,r,i)}ptm(e="",r={}){return this._getPTValue(this.$pt(),e,A(A({},this.$params),r))}ptms(e,r={}){return e.reduce((i,s)=>(i=up(i,this.ptm(s,r))||{},i),{})}ptmo(e={},r="",i={}){return this._getPTValue(e,r,A({instance:this},i),!1)}cx(e,r={}){return this.$unstyled()?void 0:Lr(this._getOptionValue(this.$style.classes,e,A(A({},this.$params),r)))}sx(e="",r=!0,i={}){if(r){let s=this._getOptionValue(this.$style.inlineStyles,e,A(A({},this.$params),i)),o=this._getOptionValue(this.baseComponentStyle.inlineStyles,e,A(A({},this.$params),i));return A(A({},o),s)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,inputs:{dt:[1,"dt"],unstyled:[1,"unstyled"],pt:[1,"pt"],ptOptions:[1,"ptOptions"]},features:[ge([Xw,Fe]),Ft]})}return n})();var Bp=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,r){e&&r&&(e.classList?e.classList.add(r):e.className+=" "+r)}static addMultipleClasses(e,r){if(e&&r)if(e.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)e.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)e.className+=" "+i[s]}}static removeClass(e,r){e&&r&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,r){e&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,r){return e&&r?e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(r){return r!==e})}static find(e,r){return Array.from(e.querySelectorAll(r))}static findSingle(e,r){return this.isElement(e)?e.querySelector(r):null}static index(e){let r=e.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==e)return i;r[s].nodeType==1&&i++}return-1}static indexWithinGroup(e,r){let i=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==e)return s;i[o].attributes&&i[o].attributes[r]&&i[o].nodeType==1&&s++}return-1}static appendOverlay(e,r,i="self"){i!=="self"&&e&&r&&this.appendChild(e,r)}static alignOverlay(e,r,i="self",s=!0){e&&r&&(s&&(e.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(e,r):this.absolutePosition(e,r))}static relativePosition(e,r,i=!0){let s=z=>{if(z)return getComputedStyle(z).getPropertyValue("position")==="relative"?z:s(z.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=r.offsetHeight,u=r.getBoundingClientRect(),l=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),y=s(e)?.getBoundingClientRect()||{top:-1*l,left:-1*h},D,P,C="top";u.top+c+o.height>p.height?(D=u.top-y.top-o.height,C="bottom",u.top+D<0&&(D=-1*u.top)):(D=c+u.top-y.top,C="top");let M=u.left+o.width-p.width,V=u.left-y.left;if(o.width>p.width?P=(u.left-y.left)*-1:M>0?P=V-M:P=u.left-y.left,e.style.top=D+"px",e.style.left=P+"px",e.style.transformOrigin=C,i){let z=Ra(/-anchor-gutter$/)?.value;e.style.marginTop=C==="bottom"?`calc(${z??"2px"} * -1)`:z??""}}static absolutePosition(e,r,i=!0){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,c=s.width,u=r.offsetHeight,l=r.offsetWidth,h=r.getBoundingClientRect(),p=this.getWindowScrollTop(),g=this.getWindowScrollLeft(),y=this.getViewport(),D,P;h.top+u+o>y.height?(D=h.top+p-o,e.style.transformOrigin="bottom",D<0&&(D=p)):(D=u+h.top+p,e.style.transformOrigin="top"),h.left+c>y.width?P=Math.max(0,h.left+g+l-c):P=h.left+g,e.style.top=D+"px",e.style.left=P+"px",i&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,r=[]){return e.parentNode===null?r:this.getParents(e.parentNode,r.concat([e.parentNode]))}static getScrollableParents(e){let r=[];if(e){let i=this.getParents(e),s=/(auto|scroll)/,o=c=>{let u=window.getComputedStyle(c,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let c of i){let u=c.nodeType===1&&c.dataset.scrollselectors;if(u){let l=u.split(",");for(let h of l){let p=this.findSingle(c,h);p&&o(p)&&r.push(p)}}c.nodeType!==9&&o(c)&&r.push(c)}}return r}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementDimensions(e){let r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}static scrollInView(e,r){let i=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),c=o?parseFloat(o):0,u=e.getBoundingClientRect(),h=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-c,p=e.scrollTop,g=e.clientHeight,y=this.getOuterHeight(r);h<0?e.scrollTop=p+h:h+y>g&&(e.scrollTop=p+h-g+y)}static fadeIn(e,r){e.style.opacity=0;let i=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,e.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame?window.requestAnimationFrame(o):setTimeout(o,16))};o()}static fadeOut(e,r){var i=1,s=50,o=r,c=s/o;let u=setInterval(()=>{i=i-c,i<=0&&(i=0,clearInterval(u)),e.style.opacity=i},s)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,r){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(e,r)}static getOuterWidth(e,r){let i=e.offsetWidth;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(e){let r=getComputedStyle(e);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(e){let r=getComputedStyle(e);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(e,r){let i=e.offsetHeight;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let e=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=e.innerWidth||i.clientWidth||s.clientWidth,c=e.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:c}}static getOffset(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,r){let i=e.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,r=e.indexOf("MSIE ");if(r>0)return!0;var i=e.indexOf("Trident/");if(i>0){var s=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,r){if(this.isElement(r))r.appendChild(e);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(e);else throw"Cannot append "+r+" to "+e}static removeChild(e,r){if(this.isElement(r))r.removeChild(e);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+r}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode?.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let r=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(e,r,i){e[r].apply(e,i)}static clearSelection(){if(window.getSelection&&window.getSelection())window.getSelection()?.empty?window.getSelection()?.empty():window.getSelection()?.removeAllRanges&&(window.getSelection()?.rangeCount||0)>0&&(window.getSelection()?.getRangeAt(0)?.getClientRects()?.length||0)>0&&window.getSelection()?.removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,r){e&&document.activeElement!==e&&e.focus(r)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,r=""){let i=this.find(e,this.getFocusableSelectorString(r)),s=[];for(let o of i){let c=getComputedStyle(o);this.isVisible(o)&&c.display!="none"&&c.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(e,r=""){let i=this.findSingle(e,this.getFocusableSelectorString(r));if(i){let s=getComputedStyle(i);if(this.isVisible(i)&&s.display!="none"&&s.visibility!="hidden")return i}return null}static getFirstFocusableElement(e,r=""){let i=this.getFocusableElements(e,r);return i.length>0?i[0]:null}static getLastFocusableElement(e,r){let i=this.getFocusableElements(e,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(e,r=!1){let i=n.getFocusableElements(e),s=0;if(i&&i.length>0){let o=i.indexOf(i[0].ownerDocument.activeElement);r?o==-1||o===0?s=i.length-1:s=o-1:o!=-1&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection()?.toString():document.getSelection?document.getSelection()?.toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,r){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement?.parentElement;default:let i=typeof e;if(i==="string")return document.querySelector(e);if(i==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(c=>!!(c&&c.constructor&&c.call&&c.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,r){if(e){let i=e.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,r={},...i){if(e){let s=document.createElement(e);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(e,r="",i){this.isElement(e)&&i!==null&&i!==void 0&&e.setAttribute(r,i)}static setAttributes(e,r={}){if(this.isElement(e)){let i=(s,o)=>{let c=e?.$attrs?.[s]?[e?.$attrs?.[s]]:[];return[o].flat().reduce((u,l)=>{if(l!=null){let h=typeof l;if(h==="string"||h==="number")u.push(l);else if(h==="object"){let p=Array.isArray(l)?i(s,l):Object.entries(l).map(([g,y])=>s==="style"&&(y||y===0)?`${g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?g:void 0);u=p.length?u.concat(p.filter(g=>!!g)):u}}return u},c)};Object.entries(r).forEach(([s,o])=>{if(o!=null){let c=s.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),o):s==="pBind"?this.setAttributes(e,o):(o=s==="class"?[...new Set(i("class",o))].join(" ").trim():s==="style"?i("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[s]=o),e.setAttribute(s,o))}})}}static isFocusableElement(e,r=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})();function F$(){GE({variableName:Vp("scrollbar.width").name})}function V$(){qE({variableName:Vp("scrollbar.width").name})}var Cl=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Bp.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Zw=(()=>{class n extends Ve{autofocus=!1;focused=!1;platformId=R(In);document=R(be);host=R(it);onAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}onAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Nr(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=Bp.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[0,"pAutoFocus","autofocus"]},features:[X]})}return n})();var pe=(()=>{class n{el;renderer;pBind=x(void 0);_attrs=ue(void 0);attrs=ye(()=>this._attrs()||this.pBind());styles=ye(()=>this.attrs()?.style);classes=ye(()=>Lr(this.attrs()?.class));listeners=[];constructor(e,r){this.el=e,this.renderer=r,De(()=>{let c=this.attrs()||{},{style:i,class:s}=c,o=as(c,["style","class"]);for(let[u,l]of Object.entries(o))if(u.startsWith("on")&&typeof l=="function"){let h=u.slice(2).toLowerCase();if(!this.listeners.some(p=>p.eventName===h)){let p=this.renderer.listen(this.el.nativeElement,h,l);this.listeners.push({eventName:h,unlisten:p})}}else l==null?this.renderer.removeAttribute(this.el.nativeElement,u):(this.renderer.setAttribute(this.el.nativeElement,u,l.toString()),u in this.el.nativeElement&&(this.el.nativeElement[u]=l))})}ngOnDestroy(){this.clearListeners()}setAttrs(e){Na(this._attrs(),e)||this._attrs.set(e)}clearListeners(){this.listeners.forEach(({unlisten:e})=>e()),this.listeners=[]}static \u0275fac=function(r){return new(r||n)($(it),$(yt))};static \u0275dir=G({type:n,selectors:[["","pBind",""]],hostVars:4,hostBindings:function(r,i){r&2&&(eu(i.styles()),je(i.classes()))},inputs:{pBind:[1,"pBind"]}})}return n})(),Sl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({})}return n})();var e0=`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`;var aN=`
    ${e0}

    /* For PrimeNG (directive)*/
    .p-overlay-badge {
        position: relative;
    }

    .p-overlay-badge > .p-badge {
        position: absolute;
        top: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
    }
`,cN={root:({instance:n})=>{let t=typeof n.value=="function"?n.value():n.value,e=typeof n.size=="function"?n.size():n.size,r=typeof n.badgeSize=="function"?n.badgeSize():n.badgeSize,i=typeof n.severity=="function"?n.severity():n.severity;return["p-badge p-component",{"p-badge-circle":ve(t)&&String(t).length===1,"p-badge-dot":Nn(t),"p-badge-sm":e==="small"||r==="small","p-badge-lg":e==="large"||r==="large","p-badge-xl":e==="xlarge"||r==="xlarge","p-badge-info":i==="info","p-badge-success":i==="success","p-badge-warn":i==="warn","p-badge-danger":i==="danger","p-badge-secondary":i==="secondary","p-badge-contrast":i==="contrast"}]}},t0=(()=>{class n extends Fe{name="badge";style=aN;classes=cN;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var n0=new j("BADGE_INSTANCE");var $p=(()=>{class n extends Ve{$pcBadge=R(n0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass=x();badgeSize=x();size=x();severity=x();value=x();badgeDisabled=x(!1,{transform:se});_componentStyle=R(t0);get dataP(){return this.cn({circle:this.value()!=null&&String(this.value()).length===1,empty:this.value()==null,disabled:this.badgeDisabled(),[this.severity()]:this.severity(),[this.size()]:this.size()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["p-badge"]],hostVars:5,hostBindings:function(r,i){r&2&&(It("data-p",i.dataP),je(i.cn(i.cx("root"),i.styleClass())),S_("display",i.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[ge([t0,{provide:n0,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X],decls:1,vars:1,template:function(r,i){r&1&&tu(0),r&2&&nu(i.value())},dependencies:[Tt,On,Sl],encapsulation:2,changeDetection:0})}return n})(),r0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({imports:[$p,On,On]})}return n})();var lN=["*"],dN={root:"p-fluid"},i0=(()=>{class n extends Fe{name="fluid";classes=dN;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var s0=new j("FLUID_INSTANCE"),Mi=(()=>{class n extends Ve{$pcFluid=R(s0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=R(i0);static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(r,i){r&2&&je(i.cx("root"))},features:[ge([i0,{provide:s0,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X],ngContentSelectors:lN,decls:1,vars:0,template:function(r,i){r&1&&(Vt(),Pt(0))},dependencies:[Tt],encapsulation:2,changeDetection:0})}return n})();var hN=["*"],fN=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
    flex-shrink: 0;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,o0=(()=>{class n extends Fe{name="baseicon";css=fN;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Al=(()=>{class n extends Ve{spin=!1;_componentStyle=R(o0);getClassNames(){return Lr("p-icon",{"p-icon-spin":this.spin})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["ng-component"]],hostAttrs:["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],hostVars:2,hostBindings:function(r,i){r&2&&je(i.getClassNames())},inputs:{spin:[2,"spin","spin",se]},features:[ge([o0]),X],ngContentSelectors:hN,decls:1,vars:0,template:function(r,i){r&1&&(Vt(),Pt(0))},encapsulation:2,changeDetection:0})}return n})();var pN=["data-p-icon","spinner"],a0=(()=>{class n extends Al{pathId;onInit(){this.pathId="url(#"+Oa()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["","data-p-icon","spinner"]],features:[X],attrs:pN,decls:5,vars:2,consts:[["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(us(),Gh(0,"g"),Xo(1,"path",0),qh(),Gh(2,"defs")(3,"clipPath",1),Xo(4,"rect",2),qh()()),r&2&&(It("clip-path",i.pathId),Ge(3),E_("id",i.pathId))},encapsulation:2})}return n})();var gN=["data-p-icon","times"],$4=(()=>{class n extends Al{static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["","data-p-icon","times"]],features:[X],attrs:gN,decls:1,vars:0,consts:[["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(us(),Xo(0,"path",0))},encapsulation:2})}return n})();var c0=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`;var mN=`
    ${c0}

    /* For PrimeNG */
    .p-ripple {
        overflow: hidden;
        position: relative;
    }

    .p-ripple-disabled .p-ink {
        display: none !important;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,yN={root:"p-ink"},u0=(()=>{class n extends Fe{name="ripple";style=mN;classes=yN;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var l0=(()=>{class n extends Ve{zone=R(rn);_componentStyle=R(u0);animationListener;mouseDownListener;timeout;constructor(){super(),De(()=>{Nr(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}onAfterViewInit(){}onMouseDown(e){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(!this.$unstyled()&&zt(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"),!sp(r)&&!ap(r)){let c=Math.max(al(this.el.nativeElement),op(this.el.nativeElement));r.style.height=c+"px",r.style.width=c+"px"}let i=ZE(this.el.nativeElement),s=e.pageX-i.left+this.document.body.scrollTop-ap(r)/2,o=e.pageY-i.top+this.document.body.scrollLeft-sp(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),!this.$unstyled()&&jt(r,"p-ink-active"),r.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&(!this.$unstyled()&&zt(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"))},401)}getInk(){let e=this.el.nativeElement.children;for(let r=0;r<e.length;r++)if(typeof e[r].className=="string"&&e[r].className.indexOf("p-ink")!==-1)return e[r];return null}resetInk(){let e=this.getInk();e&&(!this.$unstyled()&&zt(e,"p-ink-active"),e.setAttribute("data-p-ink-active","false"))}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),!this.$unstyled()&&zt(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"data-p-ink","true"),this.renderer.setAttribute(e,"data-p-ink-active","false"),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,tw(e))}onDestroy(){this.config&&this.config.ripple()&&this.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[ge([u0]),X]})}return n})();var d0=`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-icon-only::after {
        content: "\0A0";
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;var vN=["content"],_N=["loadingicon"],bN=["icon"],EN=["*"],v0=(n,t)=>({class:n,pt:t});function wN(n,t){n&1&&Zo(0)}function IN(n,t){if(n&1&&_i(0,"span",7),n&2){let e=xe(3);je(e.cn(e.cx("loadingIcon"),"pi-spin",e.loadingIcon||(e.buttonProps==null?null:e.buttonProps.loadingIcon))),Se("pBind",e.ptm("loadingIcon")),It("aria-hidden",!0)}}function TN(n,t){if(n&1&&(us(),_i(0,"svg",8)),n&2){let e=xe(3);je(e.cn(e.cx("loadingIcon"),e.cx("spinnerIcon"))),Se("pBind",e.ptm("loadingIcon"))("spin",!0),It("aria-hidden",!0)}}function CN(n,t){if(n&1&&(Xc(0),sn(1,IN,1,4,"span",3)(2,TN,1,5,"svg",6),Zc()),n&2){let e=xe(2);Ge(),Se("ngIf",e.loadingIcon||(e.buttonProps==null?null:e.buttonProps.loadingIcon)),Ge(),Se("ngIf",!(e.loadingIcon||e.buttonProps!=null&&e.buttonProps.loadingIcon))}}function SN(n,t){}function AN(n,t){if(n&1&&sn(0,SN,0,0,"ng-template",9),n&2){let e=xe(2);Se("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function DN(n,t){if(n&1&&(Xc(0),sn(1,CN,3,2,"ng-container",2)(2,AN,1,1,null,5),Zc()),n&2){let e=xe();Ge(),Se("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),Ge(),Se("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Wh(3,v0,e.cx("loadingIcon"),e.ptm("loadingIcon")))}}function RN(n,t){if(n&1&&_i(0,"span",7),n&2){let e=xe(2);je(e.cn(e.cx("icon"),e.icon||(e.buttonProps==null?null:e.buttonProps.icon))),Se("pBind",e.ptm("icon")),It("data-p",e.dataIconP)}}function PN(n,t){}function NN(n,t){if(n&1&&sn(0,PN,0,0,"ng-template",9),n&2){let e=xe(2);Se("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function ON(n,t){if(n&1&&(Xc(0),sn(1,RN,1,4,"span",3)(2,NN,1,1,null,5),Zc()),n&2){let e=xe();Ge(),Se("ngIf",(e.icon||(e.buttonProps==null?null:e.buttonProps.icon))&&!e.iconTemplate&&!e._iconTemplate),Ge(),Se("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Wh(3,v0,e.cx("icon"),e.ptm("icon")))}}function MN(n,t){if(n&1&&(vi(0,"span",7),tu(1),Jo()),n&2){let e=xe();je(e.cx("label")),Se("pBind",e.ptm("label")),It("aria-hidden",(e.icon||(e.buttonProps==null?null:e.buttonProps.icon))&&!(e.label||e.buttonProps!=null&&e.buttonProps.label))("data-p",e.dataLabelP),Ge(),nu(e.label||(e.buttonProps==null?null:e.buttonProps.label))}}function kN(n,t){if(n&1&&_i(0,"p-badge",10),n&2){let e=xe();Se("value",e.badge||(e.buttonProps==null?null:e.buttonProps.badge))("severity",e.badgeSeverity||(e.buttonProps==null?null:e.buttonProps.badgeSeverity))("pt",e.ptm("pcBadge"))("unstyled",e.unstyled())}}var xN={root:({instance:n})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!n.label&&!n.buttonProps?.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading||n.buttonProps?.loading,"p-button-link":n.link||n.buttonProps?.link,[`p-button-${n.severity||n.buttonProps?.severity}`]:n.severity||n.buttonProps?.severity,"p-button-raised":n.raised||n.buttonProps?.raised,"p-button-rounded":n.rounded||n.buttonProps?.rounded,"p-button-text":n.text||n.variant==="text"||n.buttonProps?.text||n.buttonProps?.variant==="text","p-button-outlined":n.outlined||n.variant==="outlined"||n.buttonProps?.outlined||n.buttonProps?.variant==="outlined","p-button-sm":n.size==="small"||n.buttonProps?.size==="small","p-button-lg":n.size==="large"||n.buttonProps?.size==="large","p-button-plain":n.plain||n.buttonProps?.plain,"p-button-fluid":n.hasFluid}],loadingIcon:"p-button-loading-icon",icon:({instance:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos||n.buttonProps?.iconPos}`]:n.label||n.buttonProps?.label,"p-button-icon-left":(n.iconPos==="left"||n.buttonProps?.iconPos==="left")&&n.label||n.buttonProps?.label,"p-button-icon-right":(n.iconPos==="right"||n.buttonProps?.iconPos==="right")&&n.label||n.buttonProps?.label,"p-button-icon-top":(n.iconPos==="top"||n.buttonProps?.iconPos==="top")&&n.label||n.buttonProps?.label,"p-button-icon-bottom":(n.iconPos==="bottom"||n.buttonProps?.iconPos==="bottom")&&n.label||n.buttonProps?.label},n.icon,n.buttonProps?.icon],spinnerIcon:({instance:n})=>Object.entries(n.cx("icon")).filter(([,t])=>!!t).reduce((t,[e])=>t+` ${e}`,"p-button-loading-icon"),label:"p-button-label"},Us=(()=>{class n extends Fe{name="button";style=d0;classes=xN;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var h0=new j("BUTTON_INSTANCE"),f0=new j("BUTTON_DIRECTIVE_INSTANCE"),p0=new j("BUTTON_LABEL_INSTANCE"),g0=new j("BUTTON_ICON_INSTANCE"),$r={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},m0=(()=>{class n extends Ve{ptButtonLabel=x();pButtonLabelPT=x();pButtonLabelUnstyled=x();$pcButtonLabel=R(p0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});constructor(){super(),De(()=>{let e=this.ptButtonLabel()||this.pButtonLabelPT();e&&this.directivePT.set(e)}),De(()=>{this.pButtonLabelUnstyled()&&this.directiveUnstyled.set(this.pButtonLabelUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,i){r&2&&bi("p-button-label",!i.$unstyled()&&!0)},inputs:{ptButtonLabel:[1,"ptButtonLabel"],pButtonLabelPT:[1,"pButtonLabelPT"],pButtonLabelUnstyled:[1,"pButtonLabelUnstyled"]},features:[ge([Us,{provide:p0,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X]})}return n})(),y0=(()=>{class n extends Ve{ptButtonIcon=x();pButtonIconPT=x();pButtonUnstyled=x();$pcButtonIcon=R(g0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});constructor(){super(),De(()=>{let e=this.ptButtonIcon()||this.pButtonIconPT();e&&this.directivePT.set(e)}),De(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,i){r&2&&bi("p-button-icon",!i.$unstyled()&&!0)},inputs:{ptButtonIcon:[1,"ptButtonIcon"],pButtonIconPT:[1,"pButtonIconPT"],pButtonUnstyled:[1,"pButtonUnstyled"]},features:[ge([Us,{provide:g0,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X]})}return n})(),Tj=(()=>{class n extends Ve{$pcButtonDirective=R(f0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});_componentStyle=R(Us);ptButtonDirective=x();pButtonPT=x();pButtonUnstyled=x();hostName="";onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}constructor(){super(),De(()=>{let e=this.ptButtonDirective()||this.pButtonPT();e&&this.directivePT.set(e)}),De(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())}),De(()=>{let e=this.$unstyled();this.initialized&&e&&this.setStyleClass()})}text=!1;plain=!1;raised=!1;size;outlined=!1;rounded=!1;iconPos="left";loadingIcon;fluid=x(void 0,{transform:se});iconSignal=Kh(y0);labelSignal=Kh(m0);isIconOnly=ye(()=>!!(!this.labelSignal()&&this.iconSignal()));_label;_icon;_loading=!1;_severity;_buttonProps;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values($r);pcFluid=R(Mi,{optional:!0,host:!0,skipSelf:!0});isTextButton=ye(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}get severity(){return this._severity}set severity(e){this._severity=e,this.initialized&&this.setStyleClass()}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;onAfterViewInit(){!this.$unstyled()&&jt(this.htmlElement,this.getStyleClass().join(" ")),Nr(this.platformId)&&(this.createIcon(),this.createLabel(),this.initialized=!0)}getStyleClass(){let e=[$r.button,$r.component];return this.icon&&!this.label&&Nn(this.htmlElement.textContent)&&e.push($r.iconOnly),this.loading&&(e.push($r.disabled,$r.loading),!this.icon&&this.label&&e.push($r.labelOnly),this.icon&&!this.label&&!Nn(this.htmlElement.textContent)&&e.push($r.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),this.hasFluid&&e.push("p-button-fluid"),this.$unstyled()?[]:e}get hasFluid(){return this.fluid()??!!this.pcFluid}setStyleClass(){let e=this.getStyleClass();this.removeExistingSeverityClass(),this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}removeExistingSeverityClass(){let e=["success","info","warn","danger","help","primary","secondary","contrast"],r=this.htmlElement.classList.value.split(" ").find(i=>e.some(s=>i===`p-button-${s}`));r&&this.htmlElement.classList.remove(r)}createLabel(){if(!Rs(this.htmlElement,'[data-pc-section="buttonlabel"]')&&this.label){let r=ul("span",{class:this.cx("label"),"p-bind":this.ptm("buttonlabel"),"aria-hidden":this.icon&&!this.label?"true":null});r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!Rs(this.htmlElement,'[data-pc-section="buttonicon"]')&&(this.icon||this.loading)){let r=this.label&&!this.$unstyled()?"p-button-icon-"+this.iconPos:null,i=!this.$unstyled()&&this.getIconClass(),s=ul("span",{class:this.cn(this.cx("icon"),r,i),"aria-hidden":"true","p-bind":this.ptm("buttonicon")});!this.loadingIcon&&this.loading&&(s.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(s,this.htmlElement.firstChild)}}updateLabel(){let e=Rs(this.htmlElement,'[data-pc-section="buttonlabel"]');if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=Rs(this.htmlElement,'[data-pc-section="buttonicon"]'),r=Rs(this.htmlElement,'[data-pc-section="buttonlabel"]');this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e&&!this.$unstyled()?this.iconPos?e.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}onDestroy(){this.initialized=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["","pButton",""]],contentQueries:function(r,i,s){r&1&&T_(s,i.iconSignal,y0,5)(s,i.labelSignal,m0,5),r&2&&C_(2)},hostVars:4,hostBindings:function(r,i){r&2&&bi("p-button-icon-only",!i.$unstyled()&&i.isIconOnly())("p-button-text",!i.$unstyled()&&i.isTextButton())},inputs:{ptButtonDirective:[1,"ptButtonDirective"],pButtonPT:[1,"pButtonPT"],pButtonUnstyled:[1,"pButtonUnstyled"],hostName:"hostName",text:[2,"text","text",se],plain:[2,"plain","plain",se],raised:[2,"raised","raised",se],size:"size",outlined:[2,"outlined","outlined",se],rounded:[2,"rounded","rounded",se],iconPos:"iconPos",loadingIcon:"loadingIcon",fluid:[1,"fluid"],label:"label",icon:"icon",loading:"loading",buttonProps:"buttonProps",severity:"severity"},features:[ge([Us,{provide:f0,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X]})}return n})(),LN=(()=>{class n extends Ve{hostName="";$pcButton=R(h0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});_componentStyle=R(Us);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}type="button";badge;disabled;raised=!1;rounded=!1;text=!1;plain=!1;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;iconPos="left";icon;label;loading=!1;loadingIcon;severity;buttonProps;fluid=x(void 0,{transform:se});onClick=new fe;onFocus=new fe;onBlur=new fe;contentTemplate;loadingIconTemplate;iconTemplate;templates;pcFluid=R(Mi,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}get hasIcon(){return this.icon||this.buttonProps?.icon||this.iconTemplate||this._iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate}_contentTemplate;_iconTemplate;_loadingIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}get dataP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge,loading:this.loading,fluid:this.hasFluid,rounded:this.rounded,raised:this.raised,outlined:this.outlined||this.variant==="outlined",text:this.text||this.variant==="text",link:this.link,vertical:(this.iconPos==="top"||this.iconPos==="bottom")&&this.label})}get dataIconP(){return this.cn({[this.iconPos]:this.iconPos,[this.size]:this.size})}get dataLabelP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275cmp=Be({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(r&1&&hs(s,vN,5)(s,_N,5)(s,bN,5)(s,ml,4),r&2){let o;Qt(o=Yt())&&(i.contentTemplate=o.first),Qt(o=Yt())&&(i.loadingIconTemplate=o.first),Qt(o=Yt())&&(i.iconTemplate=o.first),Qt(o=Yt())&&(i.templates=o)}},inputs:{hostName:"hostName",type:"type",badge:"badge",disabled:[2,"disabled","disabled",se],raised:[2,"raised","raised",se],rounded:[2,"rounded","rounded",se],text:[2,"text","text",se],plain:[2,"plain","plain",se],outlined:[2,"outlined","outlined",se],link:[2,"link","link",se],tabindex:[2,"tabindex","tabindex",Qh],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",se],iconPos:"iconPos",icon:"icon",label:"label",loading:[2,"loading","loading",se],loadingIcon:"loadingIcon",severity:"severity",buttonProps:"buttonProps",fluid:[1,"fluid"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[ge([Us,{provide:h0,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X],ngContentSelectors:EN,decls:7,vars:17,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","pAutoFocus","pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"value","severity","pt","unstyled",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","spinner",3,"class","pBind","spin",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"pBind","spin"],[3,"ngIf"],[3,"value","severity","pt","unstyled"]],template:function(r,i){r&1&&(Vt(),vi(0,"button",0),lt("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),Pt(1),sn(2,wN,1,0,"ng-container",1)(3,DN,3,6,"ng-container",2)(4,ON,3,6,"ng-container",2)(5,MN,2,6,"span",3)(6,kN,1,4,"p-badge",4),Jo()),r&2&&(je(i.cn(i.cx("root"),i.styleClass,i.buttonProps==null?null:i.buttonProps.styleClass)),Se("ngStyle",i.style||(i.buttonProps==null?null:i.buttonProps.style))("disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("pAutoFocus",i.autofocus||(i.buttonProps==null?null:i.buttonProps.autofocus))("pBind",i.ptm("root")),It("type",i.type||(i.buttonProps==null?null:i.buttonProps.type))("aria-label",i.ariaLabel||(i.buttonProps==null?null:i.buttonProps.ariaLabel))("tabindex",i.tabindex||(i.buttonProps==null?null:i.buttonProps.tabindex))("data-p",i.dataP)("data-p-disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("data-p-severity",i.severity||(i.buttonProps==null?null:i.buttonProps.severity)),Ge(2),Se("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),Ge(),Se("ngIf",i.loading||(i.buttonProps==null?null:i.buttonProps.loading)),Ge(),Se("ngIf",!(i.loading||i.buttonProps!=null&&i.buttonProps.loading)),Ge(),Se("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.label||(i.buttonProps==null?null:i.buttonProps.label))),Ge(),Se("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.badge||(i.buttonProps==null?null:i.buttonProps.badge))))},dependencies:[Tt,sa,oa,cf,l0,Zw,a0,r0,$p,On,pe],encapsulation:2,changeDetection:0})}return n})(),Cj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({imports:[Tt,LN,On,On]})}return n})();var R0=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)($(yt),$(it))};static \u0275dir=G({type:n})}return n})(),Fl=(()=>{class n extends R0{static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,features:[X]})}return n})(),Hs=new j(""),FN={provide:Hs,useExisting:Wn(()=>VN),multi:!0},VN=(()=>{class n extends Fl{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&lt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ge([FN]),X]})}return n})(),UN={provide:Hs,useExisting:Wn(()=>P0),multi:!0};function BN(){let n=Jt()?Jt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var $N=new j(""),P0=(()=>{class n extends R0{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!BN())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)($(yt),$(it),$($N,8))};static \u0275dir=G({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&lt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[ge([UN]),X]})}return n})();function Gp(n){return n==null||qp(n)===0}function qp(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Vl=new j(""),Ul=new j(""),jN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_0=class{static min(t){return zN(t)}static max(t){return HN(t)}static required(t){return GN(t)}static requiredTrue(t){return qN(t)}static email(t){return WN(t)}static minLength(t){return KN(t)}static maxLength(t){return QN(t)}static pattern(t){return YN(t)}static nullValidator(t){return N0()}static compose(t){return F0(t)}static composeAsync(t){return V0(t)}};function zN(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function HN(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function GN(n){return Gp(n.value)?{required:!0}:null}function qN(n){return n.value===!0?null:{required:!0}}function WN(n){return Gp(n.value)||jN.test(n.value)?null:{email:!0}}function KN(n){return t=>{let e=t.value?.length??qp(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function QN(n){return t=>{let e=t.value?.length??qp(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function YN(n){if(!n)return N0;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Gp(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function N0(n){return null}function O0(n){return n!=null}function M0(n){return Ko(n)?mt(n):n}function k0(n){let t={};return n.forEach(e=>{t=e!=null?A(A({},t),e):t}),Object.keys(t).length===0?null:t}function x0(n,t){return t.map(e=>e(n))}function JN(n){return!n.validate}function L0(n){return n.map(t=>JN(t)?t:e=>t.validate(e))}function F0(n){if(!n)return null;let t=n.filter(O0);return t.length==0?null:function(e){return k0(x0(e,t))}}function Wp(n){return n!=null?F0(L0(n)):null}function V0(n){if(!n)return null;let t=n.filter(O0);return t.length==0?null:function(e){let r=x0(e,t).map(M0);return e_(r).pipe(Me(k0))}}function Kp(n){return n!=null?V0(L0(n)):null}function b0(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function U0(n){return n._rawValidators}function B0(n){return n._rawAsyncValidators}function jp(n){return n?Array.isArray(n)?n:[n]:[]}function Rl(n,t){return Array.isArray(n)?n.includes(t):n===t}function E0(n,t){let e=jp(t);return jp(n).forEach(i=>{Rl(e,i)||e.push(i)}),e}function w0(n,t){return jp(t).filter(e=>!Rl(n,e))}var Pl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},or=class extends Pl{name;get formDirective(){return null}get path(){return null}},ar=class extends Pl{_parent=null;name=null;valueAccessor=null},Nl=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var zj=(()=>{class n extends Nl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)($(ar,2))};static \u0275dir=G({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[X]})}return n})(),Hj=(()=>{class n extends Nl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)($(or,10))};static \u0275dir=G({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[X]})}return n})();var Va="VALID",Dl="INVALID",Bs="PENDING",Ua="DISABLED",jr=class{},Ol=class extends jr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},$a=class extends jr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ja=class extends jr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},$s=class extends jr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Ml=class extends jr{source;constructor(t){super(),this.source=t}},Ha=class extends jr{source;constructor(t){super(),this.source=t}};function Qp(n){return(Bl(n)?n.validators:n)||null}function XN(n){return Array.isArray(n)?Wp(n):n||null}function Yp(n,t){return(Bl(t)?t.asyncValidators:n)||null}function ZN(n){return Array.isArray(n)?Kp(n):n||null}function Bl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function $0(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new q(1e3,"");if(!r[e])throw new q(1001,"")}function j0(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new q(1002,"")})}var js=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return He(this.statusReactive)}set status(t){He(()=>this.statusReactive.set(t))}_status=ye(()=>this.statusReactive());statusReactive=ue(void 0);get valid(){return this.status===Va}get invalid(){return this.status===Dl}get pending(){return this.status==Bs}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}errors;get pristine(){return He(this.pristineReactive)}set pristine(t){He(()=>this.pristineReactive.set(t))}_pristine=ye(()=>this.pristineReactive());pristineReactive=ue(!0);get dirty(){return!this.pristine}get touched(){return He(this.touchedReactive)}set touched(t){He(()=>this.touchedReactive.set(t))}_touched=ye(()=>this.touchedReactive());touchedReactive=ue(!1);get untouched(){return!this.touched}_events=new Ze;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(E0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(E0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(w0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(w0(t,this._rawAsyncValidators))}hasValidator(t){return Rl(this._rawValidators,t)}hasAsyncValidator(t){return Rl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(re(A({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ja(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new ja(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(re(A({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAsPending(t={}){this.status=Bs;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $s(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(re(A({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable(re(A({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ol(this.value,r)),this._events.next(new $s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(A({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Va,this._forEachChild(r=>{r.enable(re(A({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(re(A({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===Bs)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ol(this.value,e)),this._events.next(new $s(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(re(A({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Bs,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=M0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new $s(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?Dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bs)?Bs:this._anyControlsHaveStatus(Dl)?Dl:Va}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new $a(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ja(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=XN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ZN(this._rawAsyncValidators)}},zs=class extends js{constructor(t,e,r){super(Qp(e),Yp(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){j0(this,!0,t),Object.keys(t).forEach(r=>{$0(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,re(A({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Ha(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var zp=class extends zs{};var Ga=new j("",{factory:()=>$l}),$l="always";function z0(n,t){return[...t.path,n]}function kl(n,t,e=$l){Jp(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),tO(n,t),rO(n,t),nO(n,t),eO(n,t)}function I0(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ll(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eO(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Jp(n,t){let e=U0(n);t.validator!==null?n.setValidators(b0(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=B0(n);t.asyncValidator!==null?n.setAsyncValidators(b0(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();xl(t._rawValidators,i),xl(t._rawAsyncValidators,i)}function Ll(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=U0(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let i=B0(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}let r=()=>{};return xl(t._rawValidators,r),xl(t._rawAsyncValidators,r),e}function tO(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&H0(n,t)})}function nO(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&H0(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function H0(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rO(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function G0(n,t){n==null,Jp(n,t)}function iO(n,t){return Ll(n,t)}function q0(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function sO(n){return Object.getPrototypeOf(n.constructor)===Fl}function W0(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function K0(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(s=>{s.constructor===P0?e=s:sO(s)?r=s:i=s}),i||r||e||null}function oO(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var aO={provide:or,useExisting:Wn(()=>cO)},Ba=Promise.resolve(),cO=(()=>{class n extends or{callSetDisabledState;get submitted(){return He(this.submittedReactive)}_submitted=ye(()=>this.submittedReactive());submittedReactive=ue(!1);_directives=new Set;form;ngSubmit=new fe;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new zs({},Wp(e),Kp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ba.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),kl(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ba.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ba.then(()=>{let r=this._findContainer(e.path),i=new zs({});G0(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ba.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Ba.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),W0(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Ml(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)($(Vl,10),$(Ul,10),$(Ga,8))};static \u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&lt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ge([aO]),X]})}return n})();function T0(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function C0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var za=class extends js{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Qp(e),Yp(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(C0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Ha(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){T0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){T0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){C0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var uO=n=>n instanceof za;var lO={provide:ar,useExisting:Wn(()=>dO)},S0=Promise.resolve(),dO=(()=>{class n extends ar{_changeDetectorRef;callSetDisabledState;control=new za;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(e,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=K0(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),q0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){S0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&se(r);S0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?z0(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)($(or,9),$(Vl,10),$(Ul,10),$(Hs,10),$(on,8),$(Ga,8))};static \u0275dir=G({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ge([lO]),X,Ft]})}return n})();var qj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Hp=class extends js{constructor(t,e,r){super(Qp(e),Yp(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){j0(this,!1,t),t.forEach((r,i)=>{$0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],re(A({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Ha(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var hO=(()=>{class n extends or{callSetDisabledState;get submitted(){return He(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ye(()=>this._submittedReactive());_submittedReactive=ue(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Ll(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let r=this.form.get(e.path);return kl(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){I0(e.control||null,e,!1),oO(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,r){this.form.get(e.path).setValue(r)}onReset(){this.resetForm()}resetForm(e=void 0,r={}){this.form.reset(e,r),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,W0(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Ml(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(I0(r||null,e),uO(i)&&(kl(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);G0(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&iO(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jp(this.form,this),this._oldForm&&Ll(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)($(Vl,10),$(Ul,10),$(Ga,8))};static \u0275dir=G({type:n,features:[X,Ft]})}return n})();var Q0=new j("");var fO={provide:ar,useExisting:Wn(()=>pO)},pO=(()=>{class n extends ar{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=K0(this,s)}ngOnChanges(e){this._added||this._setUpControl(),q0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return z0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)($(or,13),$(Vl,10),$(Ul,10),$(Hs,10),$(Q0,8))};static \u0275dir=G({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ge([fO]),X,Ft]})}return n})();var gO={provide:or,useExisting:Wn(()=>mO)},mO=(()=>{class n extends hO{form=null;ngSubmit=new fe;get control(){return this.form}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&lt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ge([gO]),X]})}return n})(),yO={provide:Hs,useExisting:Wn(()=>J0),multi:!0};function Y0(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function vO(n){return n.split(":")[0]}var J0=(()=>{class n extends Fl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=R(Yo).injector;destroyRef=R(pi);cdr=R(on);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Kc({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),i=Y0(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=vO(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&lt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ge([yO]),X]})}return n})(),Wj=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Y0(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)($(it),$(yt),$(J0,9))};static \u0275dir=G({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_O={provide:Hs,useExisting:Wn(()=>X0),multi:!0};function A0(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function bO(n){return n.split(":")[0]}var X0=(()=>{class n extends Fl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],l=this._getOptionValue(u.value);i.push(l)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=bO(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&lt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ge([_O]),X]})}return n})(),Kj=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(A0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(A0(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)($(it),$(yt),$(X0,9))};static \u0275dir=G({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Z0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({})}return n})();function D0(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Qj=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),s={};return D0(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new zs(i,s)}record(e,r=null){let i=this._reduceControls(e);return new zp(i,r)}control(e,r,i){let s={};return this.useNonNullable?(D0(r)?s=r:(s.validators=r,s.asyncValidators=i),new za(e,re(A({},s),{nonNullable:!0}))):new za(e,r,i)}array(e,r,i){let s=e.map(o=>this._createControl(o));return new Hp(s,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof za)return e;if(e instanceof js)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(r,i,s)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ga,useValue:e.callSetDisabledState??$l}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({imports:[Z0]})}return n})(),Jj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Q0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ga,useValue:e.callSetDisabledState??$l}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({imports:[Z0]})}return n})();var jl=(()=>{class n extends Ve{modelValue=ue(void 0);$filled=ye(()=>ve(this.modelValue()));writeModelValue(e){this.modelValue.set(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,features:[X]})}return n})();var eI=`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`;var EO=`
    ${eI}

    /* For PrimeNG */
   .p-inputtext.ng-invalid.ng-dirty {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.ng-invalid.ng-dirty::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,wO={root:({instance:n})=>["p-inputtext p-component",{"p-filled":n.$filled(),"p-inputtext-sm":n.pSize==="small","p-inputtext-lg":n.pSize==="large","p-invalid":n.invalid(),"p-variant-filled":n.$variant()==="filled","p-inputtext-fluid":n.hasFluid}]},tI=(()=>{class n extends Fe{name="inputtext";style=EO;classes=wO;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var nI=new j("INPUTTEXT_INSTANCE"),_6=(()=>{class n extends jl{hostName="";ptInputText=x();pInputTextPT=x();pInputTextUnstyled=x();bindDirectiveInstance=R(pe,{self:!0});$pcInputText=R(nI,{optional:!0,skipSelf:!0})??void 0;ngControl=R(ar,{optional:!0,self:!0});pcFluid=R(Mi,{optional:!0,host:!0,skipSelf:!0});pSize;variant=x();fluid=x(void 0,{transform:se});invalid=x(void 0,{transform:se});$variant=ye(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());_componentStyle=R(tI);constructor(){super(),De(()=>{let e=this.ptInputText()||this.pInputTextPT();e&&this.directivePT.set(e)}),De(()=>{this.pInputTextUnstyled()&&this.directiveUnstyled.set(this.pInputTextUnstyled())})}onAfterViewInit(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value),this.cd.detectChanges()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}onDoCheck(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}get hasFluid(){return this.fluid()??!!this.pcFluid}get dataP(){return this.cn({invalid:this.invalid(),fluid:this.hasFluid,filled:this.$variant()==="filled",[this.pSize]:this.pSize})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["","pInputText",""]],hostVars:3,hostBindings:function(r,i){r&1&&lt("input",function(){return i.onInput()}),r&2&&(It("data-p",i.dataP),je(i.cx("root")))},inputs:{hostName:"hostName",ptInputText:[1,"ptInputText"],pInputTextPT:[1,"pInputTextPT"],pInputTextUnstyled:[1,"pInputTextUnstyled"],pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},features:[ge([tI,{provide:nI,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X]})}return n})(),b6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({})}return n})();function _I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bI=_I,EI=new nr("auth","Firebase",_I());var Kl=new Vr("@firebase/auth");function IO(n,...t){Kl.logLevel<=oe.WARN&&Kl.warn(`Auth (${Br}): ${n}`,...t)}function Hl(n,...t){Kl.logLevel<=oe.ERROR&&Kl.error(`Auth (${Br}): ${n}`,...t)}function Vn(n,...t){throw Eg(n,...t)}function ki(n,...t){return Eg(n,...t)}function wI(n,t,e){let r=re(A({},bI()),{[t]:e});return new nr("auth","Firebase",r).create(t,{appName:n.name})}function Gr(n){return wI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eg(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return EI.create(n,...t)}function Q(n,t,...e){if(!n)throw Eg(t,...e)}function cr(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Hl(t),new Error(t)}function qr(n,t){n||cr(t)}function tg(){return typeof self<"u"&&self.location?.href||""}function TO(){return rI()==="http:"||rI()==="https:"}function rI(){return typeof self<"u"&&self.location?.protocol||null}function CO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TO()||bw()||"connection"in navigator)?navigator.onLine:!0}function SO(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var xi=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,qr(e>t,"Short delay should be less than long delay!"),this.isMobile=vw()||Ew()}get(){return CO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wg(n,t){qr(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Ql=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var AO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var DO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RO=new xi(3e4,6e4);function Fi(n,t){return n.tenantId&&!t.tenantId?re(A({},t),{tenantId:n.tenantId}):t}async function Wr(n,t,e,r,i={}){return II(n,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});let c=xa(A({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=A({method:t,headers:u},s);return _w()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Mn(n.emulatorConfig.host)&&(l.credentials="include"),Ql.fetch()(await TI(n,n.config.apiHost,e,c),l)})}async function II(n,t,e){n._canInitEmulator=!1;let r=A(A({},AO),t);try{let i=new ng(n),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw zl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw zl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw zl(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wI(n,h,l);Vn(n,h)}}catch(i){if(i instanceof Ot)throw i;Vn(n,"network-request-failed",{message:String(i)})}}async function od(n,t,e,r,i={}){let s=await Wr(n,t,e,r,i);return"mfaPendingCredential"in s&&Vn(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function TI(n,t,e,r){let i=`${t}${e}?${r}`,s=n,o=s.config.emulator?wg(n.config,i):`${n.config.apiScheme}://${i}`;return DO.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function PO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ng=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),RO.get())})}};function zl(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=ki(n,t,r);return i.customData._tokenResponse=e,i}function iI(n){return n!==void 0&&n.enterprise!==void 0}var rg=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return PO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function NO(n,t){return Wr(n,"GET","/v2/recaptchaConfig",Fi(n,t))}async function OO(n,t){return Wr(n,"POST","/v1/accounts:delete",t)}async function Yl(n,t){return Wr(n,"POST","/v1/accounts:lookup",t)}function Wa(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CI(n,t=!1){let e=Ne(n),r=await e.getIdToken(t),i=Ig(r);Q(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wa(Xp(i.auth_time)),issuedAtTime:Wa(Xp(i.iat)),expirationTime:Wa(Xp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Xp(n){return Number(n)*1e3}function Ig(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{let i=vl(e);return i?JSON.parse(i):(Hl("Failed to decode base64 JWT payload"),null)}catch(i){return Hl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sI(n){let t=Ig(n);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Qa(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ot&&MO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function MO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ig=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ya=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Jl(n){let t=n.auth,e=await n.getIdToken(),r=await Qa(n,Yl(t,{idToken:e}));Q(r?.users.length,t,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?AI(i.providerUserInfo):[],o=kO(n.providerData,s),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!o?.length,l=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ya(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function SI(n){let t=Ne(n);await Jl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kO(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function AI(n){return n.map(r=>{var i=r,{providerId:t}=i,e=as(i,["providerId"]);return{providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}})}async function xO(n,t){let e=await II(n,{},async()=>{let r=xa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await TI(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Mn(n.emulatorConfig.host)&&(u.credentials="include"),Ql.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function LO(n,t){return Wr(n,"POST","/v2/accounts:revokeToken",Fi(n,t))}var Ka=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sI(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Q(t.length!==0,"internal-error");let e=sI(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){let{accessToken:r,refreshToken:i,expiresIn:s}=await xO(t,e);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new n;return r&&(Q(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return cr("not implemented")}};function zr(n,t){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var Hr=class n{constructor(s){var o=s,{uid:t,auth:e,stsTokenManager:r}=o,i=as(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ig(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ya(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){let e=await Qa(this,this.stsTokenManager.getToken(this.auth,t));return Q(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return CI(this,t)}reload(){return SI(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>A({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(re(A({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Jl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(St(this.auth.app))return Promise.reject(Gr(this.auth));let t=await this.getIdToken();return await Qa(this,OO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return re(A({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>A({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){let r=e.displayName??void 0,i=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,c=e.tenantId??void 0,u=e._redirectEventId??void 0,l=e.createdAt??void 0,h=e.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:D,stsTokenManager:P}=e;Q(p&&P,t,"internal-error");let C=Ka.fromJSON(this.name,P);Q(typeof p=="string",t,"internal-error"),zr(r,t.name),zr(i,t.name),Q(typeof g=="boolean",t,"internal-error"),Q(typeof y=="boolean",t,"internal-error"),zr(s,t.name),zr(o,t.name),zr(c,t.name),zr(u,t.name),zr(l,t.name),zr(h,t.name);let M=new n({uid:p,auth:t,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:C,createdAt:l,lastLoginAt:h});return D&&Array.isArray(D)&&(M.providerData=D.map(V=>A({},V))),u&&(M._redirectEventId=u),M}static async _fromIdTokenResponse(t,e,r=!1){let i=new Ka;i.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Jl(s),s}static async _fromGetAccountInfoResponse(t,e,r){let i=e.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?AI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ka;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ya(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u}};var oI=new Map;function ur(n){qr(n instanceof Function,"Expected a class definition");let t=oI.get(n);return t?(qr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,oI.set(n,t),t)}var FO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){let r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),sg=FO;function Gl(n,t,e){return`firebase:${n}:${t}:${e}`}var Xl=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gl("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){let t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=await Yl(this.auth,{idToken:t}).catch(()=>{});return e?Hr._fromGetAccountInfoResponse(this.auth,e,t):null}return Hr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;let e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new n(ur(sg),t,r);let i=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),s=i[0]||ur(sg),o=Gl(r,t.config.apiKey,t.name),c=null;for(let l of e)try{let h=await l._get(o);if(h){let p;if(typeof h=="string"){let g=await Yl(t,{idToken:h}).catch(()=>{});if(!g)break;p=await Hr._fromGetAccountInfoResponse(t,g,h)}else p=Hr._fromJSON(t,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,t,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new n(s,t,r))}};function aI(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MI(t))return"Blackberry";if(kI(t))return"Webos";if(RI(t))return"Safari";if((t.includes("chrome/")||PI(t))&&!t.includes("edge/"))return"Chrome";if(OI(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function DI(n=ot()){return/firefox\//i.test(n)}function RI(n=ot()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PI(n=ot()){return/crios\//i.test(n)}function NI(n=ot()){return/iemobile/i.test(n)}function OI(n=ot()){return/android/i.test(n)}function MI(n=ot()){return/blackberry/i.test(n)}function kI(n=ot()){return/webos/i.test(n)}function Tg(n=ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VO(n=ot()){return Tg(n)&&!!window.navigator?.standalone}function UO(){return ww()&&document.documentMode===10}function xI(n=ot()){return Tg(n)||OI(n)||kI(n)||MI(n)||/windows phone/i.test(n)||NI(n)}function LI(n,t=[]){let e;switch(n){case"Browser":e=aI(ot());break;case"Worker":e=`${aI(ot())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Br}/${r}`}var og=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=s=>new Promise((o,c)=>{try{let u=t(s);o(u)}catch(u){c(u)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function BO(n,t={}){return Wr(n,"GET","/v2/passwordPolicy",Fi(n,t))}var $O=6,ag=class{constructor(t){let e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??$O,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var cg=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zl(this),this.idTokenSubscription=new Zl(this),this.beforeStateQueue=new og(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ur(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{let e=await Yl(this,{idToken:t}),r=await Hr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(St(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let e=await this.assertedPersistence.getCurrentUser(),r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!s||s===o)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Jl(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(St(this.app))return Promise.reject(Gr(this));let e=t?Ne(t):null;return e&&Q(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return St(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return St(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let t=await BO(this),e=new ag(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nr("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){let e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await LO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){let r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){let e=t&&ur(t)||this._popupRedirectResolver;Q(e,this,"argument-error"),this.redirectPersistenceManager=await Xl.create(this,[ur(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let u=t.addObserver(e,r,i);return()=>{o=!0,u()}}else{let u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&IO(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Gs(n){return Ne(n)}var Zl=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Sw(e=>this.observer=e)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jO(n){ad=n}function FI(n){return ad.loadJS(n)}function zO(){return ad.recaptchaEnterpriseScript}function HO(){return ad.gapiScript}function VI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var ug=class{constructor(){this.enterprise=new lg}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},lg=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var GO="recaptcha-enterprise",UI="NO_RECAPTCHA",dg=class{constructor(t){this.type=GO,this.auth=Gs(t)}async verify(t="verify",e=!1){async function r(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{NO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new rg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){let u=window.grecaptcha;iI(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(UI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ug().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!e&&iI(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=zO();u.length!==0&&(u+=c),FI(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})}};async function qa(n,t,e,r=!1,i=!1){let s=new dg(n),o;if(i)o=UI;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}let c=A({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function cI(n,t,e,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await qa(n,t,e,e==="getOobCode");return r(n,s)}else return r(n,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await qa(n,t,e,e==="getOobCode");return r(n,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await qa(n,t,e);return r(n,s).catch(async o=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let c=await qa(n,t,e,!1,!0);return r(n,c)}return Promise.reject(o)})}else{let s=await qa(n,t,e,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}function BI(n,t){let e=Oi(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),s=e.getOptions();if(kn(s,t??{}))return i;Vn(i,"already-initialized")}return e.initialize({options:t})}function qO(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ur);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function $I(n,t,e){let r=Gs(n);Q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,s=jI(t),{host:o,port:c}=WO(t),u=c===null?"":`:${c}`,l={url:`${s}//${o}${u}/`},h=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(kn(l,r.config.emulator)&&kn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Mn(o)?(Ps(`${s}//${o}${u}`),Ns("Auth",!0)):i||KO()}function jI(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function WO(n){let t=jI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:uI(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:uI(o)}}}function uI(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function KO(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ja=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return cr("not implemented")}_getIdTokenResponse(t){return cr("not implemented")}_linkToIdToken(t,e){return cr("not implemented")}_getReauthenticationResolver(t){return cr("not implemented")}};async function QO(n,t){return Wr(n,"POST","/v1/accounts:signUp",t)}async function YO(n,t){return od(n,"POST","/v1/accounts:signInWithPassword",Fi(n,t))}async function JO(n,t){return od(n,"POST","/v1/accounts:signInWithEmailLink",Fi(n,t))}async function XO(n,t){return od(n,"POST","/v1/accounts:signInWithEmailLink",Fi(n,t))}var Xa=class n extends Ja{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new n(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cI(t,e,"signInWithPassword",YO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JO(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":let r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cI(t,r,"signUpPassword",QO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XO(t,{idToken:e,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};async function Zp(n,t){return od(n,"POST","/v1/accounts:signInWithIdp",Fi(n,t))}function ZO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eM(n){let t=Os(Ms(n)).link,e=t?Os(Ms(t)).deep_link_id:null,r=Os(Ms(n)).deep_link_id;return(r?Os(Ms(r)).link:null)||r||e||t||n}var ed=class n{constructor(t){let e=Os(Ms(t)),r=e.apiKey??null,i=e.oobCode??null,s=ZO(e.mode??null);Q(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){let e=eM(t);try{return new n(e)}catch{return null}}};var zI=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return Xa._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){let i=ed.parseLink(r);return Q(i,"argument-error"),Xa._fromEmailAndCode(e,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),td=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var hg=class extends td{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Za=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){let s=await Hr._fromIdTokenResponse(t,r,i),o=lI(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);let i=lI(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})}};function lI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var fg=class n extends Ot{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function HI(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fg._fromErrorAndOperation(n,s,t,r):s})}async function tM(n,t,e=!1){let r=await Qa(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Za._forOperation(n,"link",r)}async function nM(n,t,e=!1){let{auth:r}=n;if(St(r.app))return Promise.reject(Gr(r));let i="reauthenticate";try{let s=await Qa(n,HI(r,i,t,n),e);Q(s.idToken,r,"internal-error");let o=Ig(s.idToken);Q(o,r,"internal-error");let{sub:c}=o;return Q(n.uid===c,r,"user-mismatch"),Za._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}async function GI(n,t,e=!1){if(St(n.app))return Promise.reject(Gr(n));let r="signIn",i=await HI(n,r,t),s=await Za._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(s.user),s}async function qI(n,t){return GI(Gs(n),t)}async function rM(n){let t=Gs(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function iM(n,t,e){return St(n.app)?Promise.reject(Gr(n)):qI(Ne(n),zI.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rM(n),r})}function Cg(n,t){return Ne(n).setPersistence(t)}function WI(n,t,e,r){return Ne(n).onIdTokenChanged(t,e,r)}function KI(n,t,e){return Ne(n).beforeAuthStateChanged(t,e)}function sM(n,t,e,r){return Ne(n).onAuthStateChanged(t,e,r)}function oM(n){return Ne(n).signOut()}var nd="__sak";var rd=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var aM=1e3,cM=10,uM=(()=>{class n extends rd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=e.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);UO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cM):s()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){let r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}return n.type="LOCAL",n})(),cd=uM;var lM=(()=>{class n extends rd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),Sg=lM;function dM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}var hM=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let r=e,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(async h=>h(r.origin,o)),l=await dM(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function QI(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var pg=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=QI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Fn(){return window}function fM(n){Fn().location.href=n}function YI(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function pM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gM(){return navigator?.serviceWorker?.controller||null}function mM(){return YI()?self:null}var JI="firebaseLocalStorageDb",yM=1,id="firebaseLocalStorage",XI="fbase_key",Li=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function ud(n,t){return n.transaction([id],t?"readwrite":"readonly").objectStore(id)}function vM(){let n=indexedDB.deleteDatabase(JI);return new Li(n).toPromise()}function gg(){let n=indexedDB.open(JI,yM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(id,{keyPath:XI})}catch(i){e(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(id)?t(r):(r.close(),await vM(),t(await gg()))})})}async function dI(n,t,e){let r=ud(n,!0).put({[XI]:t,value:e});return new Li(r).toPromise()}async function _M(n,t){let e=ud(n,!1).get(t),r=await new Li(e).toPromise();return r===void 0?null:r.value}function hI(n,t){let e=ud(n,!0).delete(t);return new Li(e).toPromise()}var bM=800,EM=3,wM=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let r=0;for(;;)try{let i=await this._openDb();return await e(i)}catch(i){if(r++>EM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hM._getInstance(mM()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pM(),!this.activeServiceWorker)return;this.sender=new pg(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await gg();return await dI(e,nd,"1"),await hI(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>dI(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){let r=await this._withRetries(i=>_M(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>hI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(s=>{let o=ud(s,!1).getAll();return new Li(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ZI=wM;var S6=VI("rcb"),A6=new xi(3e4,6e4);function IM(n,t){return t?ur(t):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ec=class extends Ja{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zp(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zp(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zp(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function TM(n){return GI(n.auth,new ec(n),n.bypassAuthState)}function CM(n){let{auth:t,user:e}=n;return Q(e,t,"internal-error"),nM(e,new ec(n),n.bypassAuthState)}async function SM(n){let{auth:t,user:e}=n;return Q(e,t,"internal-error"),tM(e,new ec(n),n.bypassAuthState)}var mg=class{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){let{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TM;case"linkViaPopup":case"linkViaRedirect":return SM;case"reauthViaPopup":case"reauthViaRedirect":return CM;default:Vn(this.auth,"internal-error")}}resolve(t){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var D6=new xi(2e3,1e4);var AM="pendingRedirect",ql=new Map,yg=class extends mg{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=ql.get(this.auth._key());if(!t){try{let r=await DM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}ql.set(this.auth._key(),t)}return this.bypassAuthState||ql.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function DM(n,t){let e=NM(t),r=PM(n);if(!await r._isAvailable())return!1;let i=await r._get(e)==="true";return await r._remove(e),i}function RM(n,t){ql.set(n._key(),t)}function PM(n){return ur(n._redirectPersistence)}function NM(n){return Gl(AM,n.config.apiKey,n.name)}async function OM(n,t,e=!1){if(St(n.app))return Promise.reject(Gr(n));let r=Gs(n),i=IM(r,t),o=await new yg(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}var MM=600*1e3,vg=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!eT(t)){let r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ki(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MM&&this.cachedEventUids.clear(),this.cachedEventUids.has(fI(t))}saveEventToCache(t){this.cachedEventUids.add(fI(t)),this.lastProcessedEventTime=Date.now()}};function fI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function eT({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function kM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(n);default:return!1}}async function xM(n,t={}){return Wr(n,"GET","/v1/projects",t)}var LM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FM=/^https?/;async function VM(n){if(n.config.emulator)return;let{authorizedDomains:t}=await xM(n);for(let e of t)try{if(UM(e))return}catch{}Vn(n,"unauthorized-domain")}function UM(n){let t=tg(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!FM.test(e))return!1;if(LM.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BM=new xi(3e4,6e4);function pI(){let n=Fn().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function $M(n){return new Promise((t,e)=>{function r(){pI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pI(),e(ki(n,"network-request-failed"))},timeout:BM.get()})}if(Fn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fn().gapi?.load)r();else{let i=VI("iframefcb");return Fn()[i]=()=>{gapi.load?r():e(ki(n,"network-request-failed"))},FI(`${HO()}?onload=${i}`).catch(s=>e(s))}}).catch(t=>{throw Wl=null,t})}var Wl=null;function jM(n){return Wl=Wl||$M(n),Wl}var zM=new xi(5e3,15e3),HM="__/auth/iframe",GM="emulator/auth/iframe",qM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KM(n){let t=n.config;Q(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?wg(t,GM):`https://${n.config.authDomain}/${HM}`,r={apiKey:t.apiKey,appName:n.name,v:Br},i=WM.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${xa(r).slice(1)}`}async function QM(n){let t=await jM(n),e=Fn().gapi;return Q(e,n,"internal-error"),t.open({where:document.body,url:KM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=ki(n,"network-request-failed"),c=Fn().setTimeout(()=>{s(o)},zM.get());function u(){Fn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}var YM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JM=500,XM=600,ZM="_blank",ek="http://localhost",sd=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tk(n,t,e,r=JM,i=XM){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=re(A({},YM),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ot().toLowerCase();e&&(c=PI(l)?ZM:e),DI(l)&&(t=t||ek,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,D])=>`${g}${y}=${D},`,"");if(VO(l)&&c!=="_self")return nk(t||"",c),new sd(null);let p=window.open(t||"",c,h);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new sd(p)}function nk(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var rk="__/auth/handler",ik="emulator/auth/handler",sk=encodeURIComponent("fac");async function gI(n,t,e,r,i,s){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Br,eventId:i};if(t instanceof td){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Cw(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(t instanceof hg){let h=t.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=await n._getAppCheckToken(),l=u?`#${sk}=${encodeURIComponent(u)}`:"";return`${ok(n)}?${xa(c).slice(1)}${l}`}function ok({config:n}){return n.emulator?wg(n,ik):`https://${n.authDomain}/${rk}`}var eg="webStorageSupport",_g=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sg,this._completeRedirectFn=OM,this._overrideRedirectResult=RM}async _openPopup(t,e,r,i){qr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let s=await gI(t,e,r,tg(),i);return tk(t,s,QI())}async _openRedirect(t,e,r,i){await this._originValidation(t);let s=await gI(t,e,r,tg(),i);return fM(s),new Promise(()=>{})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){let e=await QM(t),r=new vg(t);return e.register("authEvent",i=>(Q(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(eg,{type:eg},i=>{let s=i?.[0]?.[eg];s!==void 0&&e(!!s),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=VM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xI()||RI()||Tg()}},tT=_g;var mI="@firebase/auth",yI="1.12.0";var bg=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ak(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ck(n){Ln(new Mt("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LI(n)},l=new cg(r,i,s,u);return qO(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Ln(new Mt("auth-internal",t=>{let e=Gs(t.getProvider("auth").getImmediate());return(r=>new bg(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kt(mI,yI,ak(n)),kt(mI,yI,"esm2020")}var uk=300,lk=vp("authIdTokenMaxAge")||uk,vI=null,dk=n=>async t=>{let e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>lk)return;let i=e?.token;vI!==i&&(vI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ag(n=ks()){let t=Oi(n,"auth");if(t.isInitialized())return t.getImmediate();let e=BI(n,{popupRedirectResolver:tT,persistence:[ZI,cd,Sg]}),r=vp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=dk(s.toString());KI(e,o,()=>o(e.currentUser)),WI(e,c=>o(c))}}let i=mp("auth");return i&&$I(e,`http://${i}`),e}function hk(){return document.getElementsByTagName("head")?.[0]??document}jO({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let s=ki("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",hk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ck("Browser");var nT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rT={};var lr,Dg;(function(){var n;function t(E,v){function b(){}b.prototype=v.prototype,E.F=v.prototype,E.prototype=new b,E.prototype.constructor=E,E.D=function(I,w,S){for(var _=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)_[ze-2]=arguments[ze];return v.prototype[w].apply(I,_)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,b){b||(b=0);let I=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)I[w]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(w=0;w<16;++w)I[w]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=E.g[0],b=E.g[1],w=E.g[2];let S=E.g[3],_;_=v+(S^b&(w^S))+I[0]+3614090360&4294967295,v=b+(_<<7&4294967295|_>>>25),_=S+(w^v&(b^w))+I[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=w+(b^S&(v^b))+I[2]+606105819&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(v^w&(S^v))+I[3]+3250441966&4294967295,b=w+(_<<22&4294967295|_>>>10),_=v+(S^b&(w^S))+I[4]+4118548399&4294967295,v=b+(_<<7&4294967295|_>>>25),_=S+(w^v&(b^w))+I[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=w+(b^S&(v^b))+I[6]+2821735955&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(v^w&(S^v))+I[7]+4249261313&4294967295,b=w+(_<<22&4294967295|_>>>10),_=v+(S^b&(w^S))+I[8]+1770035416&4294967295,v=b+(_<<7&4294967295|_>>>25),_=S+(w^v&(b^w))+I[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=w+(b^S&(v^b))+I[10]+4294925233&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(v^w&(S^v))+I[11]+2304563134&4294967295,b=w+(_<<22&4294967295|_>>>10),_=v+(S^b&(w^S))+I[12]+1804603682&4294967295,v=b+(_<<7&4294967295|_>>>25),_=S+(w^v&(b^w))+I[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=w+(b^S&(v^b))+I[14]+2792965006&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(v^w&(S^v))+I[15]+1236535329&4294967295,b=w+(_<<22&4294967295|_>>>10),_=v+(w^S&(b^w))+I[1]+4129170786&4294967295,v=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(v^b))+I[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=w+(v^b&(S^v))+I[11]+643717713&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^v&(w^S))+I[0]+3921069994&4294967295,b=w+(_<<20&4294967295|_>>>12),_=v+(w^S&(b^w))+I[5]+3593408605&4294967295,v=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(v^b))+I[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=w+(v^b&(S^v))+I[15]+3634488961&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^v&(w^S))+I[4]+3889429448&4294967295,b=w+(_<<20&4294967295|_>>>12),_=v+(w^S&(b^w))+I[9]+568446438&4294967295,v=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(v^b))+I[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=w+(v^b&(S^v))+I[3]+4107603335&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^v&(w^S))+I[8]+1163531501&4294967295,b=w+(_<<20&4294967295|_>>>12),_=v+(w^S&(b^w))+I[13]+2850285829&4294967295,v=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(v^b))+I[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=w+(v^b&(S^v))+I[7]+1735328473&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^v&(w^S))+I[12]+2368359562&4294967295,b=w+(_<<20&4294967295|_>>>12),_=v+(b^w^S)+I[5]+4294588738&4294967295,v=b+(_<<4&4294967295|_>>>28),_=S+(v^b^w)+I[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=w+(S^v^b)+I[11]+1839030562&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^v)+I[14]+4259657740&4294967295,b=w+(_<<23&4294967295|_>>>9),_=v+(b^w^S)+I[1]+2763975236&4294967295,v=b+(_<<4&4294967295|_>>>28),_=S+(v^b^w)+I[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=w+(S^v^b)+I[7]+4139469664&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^v)+I[10]+3200236656&4294967295,b=w+(_<<23&4294967295|_>>>9),_=v+(b^w^S)+I[13]+681279174&4294967295,v=b+(_<<4&4294967295|_>>>28),_=S+(v^b^w)+I[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=w+(S^v^b)+I[3]+3572445317&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^v)+I[6]+76029189&4294967295,b=w+(_<<23&4294967295|_>>>9),_=v+(b^w^S)+I[9]+3654602809&4294967295,v=b+(_<<4&4294967295|_>>>28),_=S+(v^b^w)+I[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=w+(S^v^b)+I[15]+530742520&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^v)+I[2]+3299628645&4294967295,b=w+(_<<23&4294967295|_>>>9),_=v+(w^(b|~S))+I[0]+4096336452&4294967295,v=b+(_<<6&4294967295|_>>>26),_=S+(b^(v|~w))+I[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=w+(v^(S|~b))+I[14]+2878612391&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~v))+I[5]+4237533241&4294967295,b=w+(_<<21&4294967295|_>>>11),_=v+(w^(b|~S))+I[12]+1700485571&4294967295,v=b+(_<<6&4294967295|_>>>26),_=S+(b^(v|~w))+I[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=w+(v^(S|~b))+I[10]+4293915773&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~v))+I[1]+2240044497&4294967295,b=w+(_<<21&4294967295|_>>>11),_=v+(w^(b|~S))+I[8]+1873313359&4294967295,v=b+(_<<6&4294967295|_>>>26),_=S+(b^(v|~w))+I[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=w+(v^(S|~b))+I[6]+2734768916&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~v))+I[13]+1309151649&4294967295,b=w+(_<<21&4294967295|_>>>11),_=v+(w^(b|~S))+I[4]+4149444226&4294967295,v=b+(_<<6&4294967295|_>>>26),_=S+(b^(v|~w))+I[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=w+(v^(S|~b))+I[2]+718787259&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);let b=v-this.blockSize,I=this.C,w=this.h,S=0;for(;S<v;){if(w==0)for(;S<=b;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(I[w++]=E.charCodeAt(S++),w==this.blockSize){i(this,I),w=0;break}}else for(;S<v;)if(I[w++]=E[S++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var b=E.length-8;b<E.length;++b)E[b]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,b=0;b<4;++b)for(let I=0;I<32;I+=8)E[v++]=this.g[b]>>>I&255;return E};function s(E,v){var b=c;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=v(E)}function o(E,v){this.h=v;let b=[],I=!0;for(let w=E.length-1;w>=0;w--){let S=E[w]|0;I&&S==v||(b[w]=S,I=!1)}this.g=b}var c={};function u(E){return-128<=E&&E<128?s(E,function(v){return new o([v|0],v<0?-1:0)}):new o([E|0],E<0?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return C(l(-E));let v=[],b=1;for(let I=0;E>=b;I++)v[I]=E/b|0,b*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return C(h(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');let b=l(Math.pow(v,8)),I=p;for(let S=0;S<E.length;S+=8){var w=Math.min(8,E.length-S);let _=parseInt(E.substring(S,S+w),v);w<8?(w=l(Math.pow(v,w)),I=I.j(w).add(l(_))):(I=I.j(b),I=I.add(l(_)))}return I}var p=u(0),g=u(1),y=u(16777216);n=o.prototype,n.m=function(){if(P(this))return-C(this).m();let E=0,v=1;for(let b=0;b<this.g.length;b++){let I=this.i(b);E+=(I>=0?I:4294967296+I)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(P(this))return"-"+C(this).toString(E);let v=l(Math.pow(E,6));var b=this;let I="";for(;;){let w=K(b,v).g;b=M(b,w.j(v));let S=((b.g.length>0?b.g[0]:b.h)>>>0).toString(E);if(b=w,D(b))return S+I;for(;S.length<6;)S="0"+S;I=S+I}},n.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function P(E){return E.h==-1}n.l=function(E){return E=M(this,E),P(E)?-1:D(E)?0:1};function C(E){let v=E.g.length,b=[];for(let I=0;I<v;I++)b[I]=~E.g[I];return new o(b,~E.h).add(g)}n.abs=function(){return P(this)?C(this):this},n.add=function(E){let v=Math.max(this.g.length,E.g.length),b=[],I=0;for(let w=0;w<=v;w++){let S=I+(this.i(w)&65535)+(E.i(w)&65535),_=(S>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);I=_>>>16,S&=65535,_&=65535,b[w]=_<<16|S}return new o(b,b[b.length-1]&-2147483648?-1:0)};function M(E,v){return E.add(C(v))}n.j=function(E){if(D(this)||D(E))return p;if(P(this))return P(E)?C(this).j(C(E)):C(C(this).j(E));if(P(E))return C(this.j(C(E)));if(this.l(y)<0&&E.l(y)<0)return l(this.m()*E.m());let v=this.g.length+E.g.length,b=[];for(var I=0;I<2*v;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(let w=0;w<E.g.length;w++){let S=this.i(I)>>>16,_=this.i(I)&65535,ze=E.i(w)>>>16,xt=E.i(w)&65535;b[2*I+2*w]+=_*xt,V(b,2*I+2*w),b[2*I+2*w+1]+=S*xt,V(b,2*I+2*w+1),b[2*I+2*w+1]+=_*ze,V(b,2*I+2*w+1),b[2*I+2*w+2]+=S*ze,V(b,2*I+2*w+2)}for(E=0;E<v;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=v;E<2*v;E++)b[E]=0;return new o(b,0)};function V(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function z(E,v){this.g=E,this.h=v}function K(E,v){if(D(v))throw Error("division by zero");if(D(E))return new z(p,p);if(P(E))return v=K(C(E),v),new z(C(v.g),C(v.h));if(P(v))return v=K(E,C(v)),new z(C(v.g),v.h);if(E.g.length>30){if(P(E)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var b=g,I=v;I.l(E)<=0;)b=le(b),I=le(I);var w=de(b,1),S=de(I,1);for(I=de(I,2),b=de(b,2);!D(I);){var _=S.add(I);_.l(E)<=0&&(w=w.add(b),S=_),I=de(I,1),b=de(b,1)}return v=M(E,w.j(v)),new z(w,v)}for(w=p;E.l(v)>=0;){for(b=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),S=l(b),_=S.j(v);P(_)||_.l(E)>0;)b-=I,S=l(b),_=S.j(v);D(S)&&(S=g),w=w.add(S),E=M(E,_)}return new z(w,E)}n.B=function(E){return K(this,E).h},n.and=function(E){let v=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<v;I++)b[I]=this.i(I)&E.i(I);return new o(b,this.h&E.h)},n.or=function(E){let v=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<v;I++)b[I]=this.i(I)|E.i(I);return new o(b,this.h|E.h)},n.xor=function(E){let v=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<v;I++)b[I]=this.i(I)^E.i(I);return new o(b,this.h^E.h)};function le(E){let v=E.g.length+1,b=[];for(let I=0;I<v;I++)b[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(b,E.h)}function de(E,v){let b=v>>5;v%=32;let I=E.g.length-b,w=[];for(let S=0;S<I;S++)w[S]=v>0?E.i(S+b)>>>v|E.i(S+b+1)<<32-v:E.i(S+b);return new o(w,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Dg=rT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,lr=rT.Integer=o}).apply(typeof nT<"u"?nT:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={};var Rg,fk,qs,Pg,tc,dd,Ng,Og,Mg;(function(){var n,t=Object.defineProperty;function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=e(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in f))break e;f=f[T]}a=a[a.length-1],m=f[a],d=d(m),d!=m&&d!=null&&t(f,a,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(d){var f=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.push([m,d[m]]);return f}});var s=s||{},o=this||self;function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,f){return a.call.apply(a.bind,arguments)}function l(a,d,f){return l=u,l.apply(null,arguments)}function h(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function p(a,d){function f(){}f.prototype=d.prototype,a.Z=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(m,T,N){for(var U=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)U[ie-2]=arguments[ie];return d.prototype[T].apply(m,U)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function y(a){let d=a.length;if(d>0){let f=Array(d);for(let m=0;m<d;m++)f[m]=a[m];return f}return[]}function D(a,d){for(let m=1;m<arguments.length;m++){let T=arguments[m];var f=typeof T;if(f=f!="object"?f:T?Array.isArray(T)?"array":f:"null",f=="array"||f=="object"&&typeof T.length=="number"){f=a.length||0;let N=T.length||0;a.length=f+N;for(let U=0;U<N;U++)a[f+U]=T[U]}else a.push(T)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function C(a){o.setTimeout(()=>{throw a},0)}function M(){var a=E;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class V{constructor(){this.h=this.g=null}add(d,f){let m=z.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var z=new P(()=>new K,a=>a.reset());class K{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,E=new V,v=()=>{let a=Promise.resolve(void 0);le=()=>{a.then(b)}};function b(){for(var a;a=M();){try{a.h.call(a.g)}catch(f){C(f)}var d=z;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}de=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};o.addEventListener("test",f,d),o.removeEventListener("test",f,d)}catch{}return a})();function _(a){return/^[\s\xa0]*$/.test(a)}function ze(a,d){w.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p(ze,w),ze.prototype.init=function(a,d){let f=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),Xi=0;function Zi(a,d,f,m,T){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++Xi,this.da=this.fa=!1}function Hn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Gn(a,d,f){for(let m in a)d.call(f,a[m],m,a)}function es(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function ii(a){let d={};for(let f in a)d[f]=a[f];return d}let si="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bo(a,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)a[f]=m[f];for(let N=0;N<si.length;N++)f=si[N],Object.prototype.hasOwnProperty.call(m,f)&&(a[f]=m[f])}}function oi(a){this.src=a,this.g={},this.h=0}oi.prototype.add=function(a,d,f,m,T){let N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);let U=ns(a,d,m,T);return U>-1?(d=a[U],f||(d.fa=!1)):(d=new Zi(d,this.src,N,!!m,T),d.fa=f,a.push(d)),d};function ts(a,d){let f=d.type;if(f in a.g){var m=a.g[f],T=Array.prototype.indexOf.call(m,d,void 0),N;(N=T>=0)&&Array.prototype.splice.call(m,T,1),N&&(Hn(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function ns(a,d,f,m){for(let T=0;T<a.length;++T){let N=a[T];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return T}return-1}var Eo="closure_lm_"+(Math.random()*1e6|0),wo={};function Tc(a,d,f,m,T){if(m&&m.once)return Sc(a,d,f,m,T);if(Array.isArray(d)){for(let N=0;N<d.length;N++)Tc(a,d[N],f,m,T);return null}return f=So(f),a&&a[xt]?a.J(d,f,c(m)?!!m.capture:!!m,T):Cc(a,d,f,!1,m,T)}function Cc(a,d,f,m,T,N){if(!d)throw Error("Invalid event type");let U=c(T)?!!T.capture:!!T,ie=To(a);if(ie||(a[Eo]=ie=new oi(a)),f=ie.add(d,f,m,U,N),f.proxy)return f;if(m=gh(),f.proxy=m,m.src=a,m.listener=f,a.addEventListener)S||(T=U),T===void 0&&(T=!1),a.addEventListener(d.toString(),m,T);else if(a.attachEvent)a.attachEvent(Dc(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gh(){function a(f){return d.call(a.src,a.listener,f)}let d=mh;return a}function Sc(a,d,f,m,T){if(Array.isArray(d)){for(let N=0;N<d.length;N++)Sc(a,d[N],f,m,T);return null}return f=So(f),a&&a[xt]?a.K(d,f,c(m)?!!m.capture:!!m,T):Cc(a,d,f,!0,m,T)}function Ac(a,d,f,m,T){if(Array.isArray(d))for(var N=0;N<d.length;N++)Ac(a,d[N],f,m,T);else m=c(m)?!!m.capture:!!m,f=So(f),a&&a[xt]?(a=a.i,N=String(d).toString(),N in a.g&&(d=a.g[N],f=ns(d,f,m,T),f>-1&&(Hn(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete a.g[N],a.h--)))):a&&(a=To(a))&&(d=a.g[d.toString()],a=-1,d&&(a=ns(d,f,m,T)),(f=a>-1?d[a]:null)&&Io(f))}function Io(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[xt])ts(d.i,a);else{var f=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(f,m,a.capture):d.detachEvent?d.detachEvent(Dc(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=To(d))?(ts(f,a),f.h==0&&(f.src=null,d[Eo]=null)):Hn(a)}}}function Dc(a){return a in wo?wo[a]:wo[a]="on"+a}function mh(a,d){if(a.da)a=!0;else{d=new ze(d,this);let f=a.listener,m=a.ha||a.src;a.fa&&Io(a),a=f.call(m,d)}return a}function To(a){return a=a[Eo],a instanceof oi?a:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(a){return typeof a=="function"?a:(a[Co]||(a[Co]=function(d){return a.handleEvent(d)}),a[Co])}function nt(){I.call(this),this.i=new oi(this),this.M=this,this.G=null}p(nt,I),nt.prototype[xt]=!0,nt.prototype.removeEventListener=function(a,d,f,m){Ac(this,a,d,f,m)};function ut(a,d){var f,m=a.G;if(m)for(f=[];m;m=m.G)f.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new w(d,a);else if(d instanceof w)d.target=d.target||a;else{var T=d;d=new w(m,a),bo(d,T)}T=!0;let N,U;if(f)for(U=f.length-1;U>=0;U--)N=d.g=f[U],T=rs(N,m,!0,d)&&T;if(N=d.g=a,T=rs(N,m,!0,d)&&T,T=rs(N,m,!1,d)&&T,f)for(U=0;U<f.length;U++)N=d.g=f[U],T=rs(N,m,!1,d)&&T}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var a=this.i;for(let d in a.g){let f=a.g[d];for(let m=0;m<f.length;m++)Hn(f[m]);delete a.g[d],a.h--}}this.G=null},nt.prototype.J=function(a,d,f,m){return this.i.add(String(a),d,!1,f,m)},nt.prototype.K=function(a,d,f,m){return this.i.add(String(a),d,!0,f,m)};function rs(a,d,f,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let N=0;N<d.length;++N){let U=d[N];if(U&&!U.da&&U.capture==f){let ie=U.listener,Xe=U.ha||U.src;U.fa&&ts(a.i,U),T=ie.call(Xe,m)!==!1&&T}}return T&&!m.defaultPrevented}function yh(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=l(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function Rc(a){a.g=yh(()=>{a.g=null,a.i&&(a.i=!1,Rc(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class VS extends I{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(a){I.call(this),this.h=a,this.g={}}p(Ao,I);var nv=[];function rv(a){Gn(a.g,function(d,f){this.g.hasOwnProperty(f)&&Io(d)},a),a.g={}}Ao.prototype.N=function(){Ao.Z.N.call(this),rv(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vh=o.JSON.stringify,US=o.JSON.parse,BS=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function iv(){}function sv(){}var Do={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _h(){w.call(this,"d")}p(_h,w);function bh(){w.call(this,"c")}p(bh,w);var ai={},ov=null;function Pc(){return ov=ov||new nt}ai.Ia="serverreachability";function av(a){w.call(this,ai.Ia,a)}p(av,w);function Ro(a){let d=Pc();ut(d,new av(d))}ai.STAT_EVENT="statevent";function cv(a,d){w.call(this,ai.STAT_EVENT,a),this.stat=d}p(cv,w);function Et(a){let d=Pc();ut(d,new cv(d,a))}ai.Ja="timingevent";function uv(a,d){w.call(this,ai.Ja,a),this.size=d}p(uv,w);function Po(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function No(){this.g=!0}No.prototype.ua=function(){this.g=!1};function $S(a,d,f,m,T,N){a.info(function(){if(a.g)if(N){var U="",ie=N.split("&");for(let Ie=0;Ie<ie.length;Ie++){var Xe=ie[Ie].split("=");if(Xe.length>1){let rt=Xe[0];Xe=Xe[1];let bn=rt.split("_");U=bn.length>=2&&bn[1]=="type"?U+(rt+"="+Xe+"&"):U+(rt+"=redacted&")}}}else U=null;else U=N;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+U})}function jS(a,d,f,m,T,N,U){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+N+" "+U})}function is(a,d,f,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+HS(a,f)+(m?" "+m:"")})}function zS(a,d){a.info(function(){return"TIMEOUT: "+d})}No.prototype.info=function(){};function HS(a,d){if(!a.g)return d;if(!d)return null;try{let N=JSON.parse(d);if(N){for(a=0;a<N.length;a++)if(Array.isArray(N[a])){var f=N[a];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var T=m[0];if(T!="noop"&&T!="stop"&&T!="close")for(let U=1;U<m.length;U++)m[U]=""}}}}return vh(N)}catch{return d}}var Nc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dv;function Eh(){}p(Eh,iv),Eh.prototype.g=function(){return new XMLHttpRequest},dv=new Eh;function Oo(a){return encodeURIComponent(String(a))}function GS(a){var d=1;a=a.split(":");let f=[];for(;d>0&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function Er(a,d,f,m){this.j=a,this.i=d,this.l=f,this.S=m||1,this.V=new Ao(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hv}function hv(){this.i=null,this.g="",this.h=!1}var fv={},wh={};function Ih(a,d,f){a.M=1,a.A=Mc(_n(d)),a.u=f,a.R=!0,pv(a,null)}function pv(a,d){a.F=Date.now(),Oc(a),a.B=_n(a.A);var f=a.B,m=a.S;Array.isArray(m)||(m=[String(m)]),Av(f.i,"t",m),a.C=0,f=a.j.L,a.h=new hv,a.g=Gv(a.j,f?d:null,!a.u),a.P>0&&(a.O=new VS(l(a.Y,a,a.g),a.P)),d=a.V,f=a.g,m=a.ba;var T="readystatechange";Array.isArray(T)||(T&&(nv[0]=T.toString()),T=nv);for(let N=0;N<T.length;N++){let U=Tc(f,T[N],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=a.J?ii(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),Ro(),$S(a.i,a.v,a.B,a.l,a.S,a.u)}Er.prototype.ba=function(a){a=a.target;let d=this.O;d&&Tr(a)==3?d.j():this.Y(a)},Er.prototype.Y=function(a){try{if(a==this.g)e:{let ie=Tr(this.g),Xe=this.g.ya(),Ie=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||kv(this.g)))){this.K||ie!=4||Xe==7||(Xe==8||Ie<=0?Ro(3):Ro(2)),Th(this);var d=this.g.ca();this.X=d;var f=qS(this);if(this.o=d==200,jS(this.i,this.v,this.B,this.l,this.S,ie,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,T=this.g;if((m=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var N=m;break t}}N=null}if(a=N)is(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ch(this,a);else{this.o=!1,this.m=3,Et(12),ci(this),Mo(this);break e}}if(this.R){a=!0;let rt;for(;!this.K&&this.C<f.length;)if(rt=WS(this,f),rt==wh){ie==4&&(this.m=4,Et(14),a=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==fv){this.m=4,Et(15),is(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else is(this.i,this.l,rt,null),Ch(this,rt);if(gv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||f.length!=0||this.h.h||(this.m=1,Et(16),a=!1),this.o=this.o&&a,!a)is(this.i,this.l,f,"[Invalid Chunked Response]"),ci(this),Mo(this);else if(f.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Oh(U),U.P=!0,Et(11))}}else is(this.i,this.l,f,null),Ch(this,f);ie==4&&ci(this),this.o&&!this.K&&(ie==4?$v(this.j,this):(this.o=!1,Oc(this)))}else aA(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),ci(this),Mo(this)}}}catch{}finally{}};function qS(a){if(!gv(a))return a.g.la();let d=kv(a.g);if(d==="")return"";let f="",m=d.length,T=Tr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return ci(a),Mo(a),"";a.h.i=new o.TextDecoder}for(let N=0;N<m;N++)a.h.h=!0,f+=a.h.i.decode(d[N],{stream:!(T&&N==m-1)});return d.length=0,a.h.g+=f,a.C=0,a.h.g}function gv(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function WS(a,d){var f=a.C,m=d.indexOf(`
`,f);return m==-1?wh:(f=Number(d.substring(f,m)),isNaN(f)?fv:(m+=1,m+f>d.length?wh:(d=d.slice(m,m+f),a.C=m+f,d)))}Er.prototype.cancel=function(){this.K=!0,ci(this)};function Oc(a){a.T=Date.now()+a.H,mv(a,a.H)}function mv(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Po(l(a.aa,a),d)}function Th(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Er.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(zS(this.i,this.B),this.M!=2&&(Ro(),Et(17)),ci(this),this.m=2,Mo(this)):mv(this,this.T-a)};function Mo(a){a.j.I==0||a.K||$v(a.j,a)}function ci(a){Th(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,rv(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Ch(a,d){try{var f=a.j;if(f.I!=0&&(f.g==a||Sh(f.h,a))){if(!a.L&&Sh(f.h,a)&&f.I==3){try{var m=f.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)Uc(f),Fc(f);else break e;Nh(f),Et(18)}}else f.xa=T[1],0<f.xa-f.K&&T[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Po(l(f.Va,f),6e3));_v(f.h)<=1&&f.ta&&(f.ta=void 0)}else li(f,11)}else if((a.L||f.g==a)&&Uc(f),!_(d))for(T=f.Ba.g.parse(d),d=0;d<T.length;d++){let Ie=T[d],rt=Ie[0];if(!(rt<=f.K))if(f.K=rt,Ie=Ie[1],f.I==2)if(Ie[0]=="c"){f.M=Ie[1],f.ba=Ie[2];let bn=Ie[3];bn!=null&&(f.ka=bn,f.j.info("VER="+f.ka));let di=Ie[4];di!=null&&(f.za=di,f.j.info("SVER="+f.za));let Cr=Ie[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(m=1.5*Cr,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Sr=a.g;if(Sr){let $c=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var N=m.h;N.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ah(N,N.h),N.h=null))}if(m.G){let Mh=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(m.wa=Mh,Pe(m.J,m.G,Mh))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var U=a;if(m.na=Hv(m,m.L?m.ba:null,m.W),U.L){bv(m.h,U);var ie=U,Xe=m.O;Xe&&(ie.H=Xe),ie.D&&(Th(ie),Oc(ie)),m.g=U}else Uv(m);f.i.length>0&&Vc(f)}else Ie[0]!="stop"&&Ie[0]!="close"||li(f,7);else f.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?li(f,7):Ph(f):Ie[0]!="noop"&&f.l&&f.l.qa(Ie),f.A=0)}}Ro(4)}catch{}}var KS=class{constructor(a,d){this.g=a,this.map=d}};function yv(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _v(a){return a.h?1:a.g?a.g.size:0}function Sh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ah(a,d){a.g?a.g.add(d):a.h=d}function bv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}yv.prototype.cancel=function(){if(this.i=Ev(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Ev(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.G);return d}return y(a.i)}var wv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QS(a,d){if(a){a=a.split("&");for(let f=0;f<a.length;f++){let m=a[f].indexOf("="),T,N=null;m>=0?(T=a[f].substring(0,m),N=a[f].substring(m+1)):T=a[f],d(T,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function wr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof wr?(this.l=a.l,ko(this,a.j),this.o=a.o,this.g=a.g,xo(this,a.u),this.h=a.h,Dh(this,Dv(a.i)),this.m=a.m):a&&(d=String(a).match(wv))?(this.l=!1,ko(this,d[1]||"",!0),this.o=Lo(d[2]||""),this.g=Lo(d[3]||"",!0),xo(this,d[4]),this.h=Lo(d[5]||"",!0),Dh(this,d[6]||"",!0),this.m=Lo(d[7]||"")):(this.l=!1,this.i=new Vo(null,this.l))}wr.prototype.toString=function(){let a=[];var d=this.j;d&&a.push(Fo(d,Iv,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Fo(d,Iv,!0),"@"),a.push(Oo(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Fo(f,f.charAt(0)=="/"?XS:JS,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Fo(f,eA)),a.join("")},wr.prototype.resolve=function(a){let d=_n(this),f=!!a.j;f?ko(d,a.j):f=!!a.o,f?d.o=a.o:f=!!a.g,f?d.g=a.g:f=a.u!=null;var m=a.h;if(f)xo(d,a.u);else if(f=!!a.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var T=d.h.lastIndexOf("/");T!=-1&&(m=d.h.slice(0,T+1)+m)}if(T=m,T==".."||T==".")m="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){m=T.lastIndexOf("/",0)==0,T=T.split("/");let N=[];for(let U=0;U<T.length;){let ie=T[U++];ie=="."?m&&U==T.length&&N.push(""):ie==".."?((N.length>1||N.length==1&&N[0]!="")&&N.pop(),m&&U==T.length&&N.push("")):(N.push(ie),m=!0)}m=N.join("/")}else m=T}return f?d.h=m:f=a.i.toString()!=="",f?Dh(d,Dv(a.i)):f=!!a.m,f&&(d.m=a.m),d};function _n(a){return new wr(a)}function ko(a,d,f){a.j=f?Lo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function xo(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function Dh(a,d,f){d instanceof Vo?(a.i=d,tA(a.i,a.l)):(f||(d=Fo(d,ZS)),a.i=new Vo(d,a.l))}function Pe(a,d,f){a.i.set(d,f)}function Mc(a){return Pe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Lo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fo(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,YS),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function YS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Iv=/[#\/\?@]/g,JS=/[#\?:]/g,XS=/[#\?]/g,ZS=/[#\?@]/g,eA=/#/g;function Vo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ui(a){a.g||(a.g=new Map,a.h=0,a.i&&QS(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Vo.prototype,n.add=function(a,d){ui(this),this.i=null,a=ss(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Tv(a,d){ui(a),d=ss(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Cv(a,d){return ui(a),d=ss(a,d),a.g.has(d)}n.forEach=function(a,d){ui(this),this.g.forEach(function(f,m){f.forEach(function(T){a.call(d,T,m,this)},this)},this)};function Sv(a,d){ui(a);let f=[];if(typeof d=="string")Cv(a,d)&&(f=f.concat(a.g.get(ss(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)f=f.concat(a[d]);return f}n.set=function(a,d){return ui(this),this.i=null,a=ss(this,a),Cv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=Sv(this,a),a.length>0?String(a[0]):d):d};function Av(a,d,f){Tv(a,d),f.length>0&&(a.i=null,a.g.set(ss(a,d),y(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var f=d[m];let T=Oo(f);f=Sv(this,f);for(let N=0;N<f.length;N++){let U=T;f[N]!==""&&(U+="="+Oo(f[N])),a.push(U)}}return this.i=a.join("&")};function Dv(a){let d=new Vo;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function ss(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function tA(a,d){d&&!a.j&&(ui(a),a.i=null,a.g.forEach(function(f,m){let T=m.toLowerCase();m!=T&&(Tv(this,m),Av(this,T,f))},a)),a.j=d}function nA(a,d){let f=new No;if(o.Image){let m=new Image;m.onload=h(Ir,f,"TestLoadImage: loaded",!0,d,m),m.onerror=h(Ir,f,"TestLoadImage: error",!1,d,m),m.onabort=h(Ir,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=h(Ir,f,"TestLoadImage: timeout",!1,d,m),o.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function rA(a,d){let f=new No,m=new AbortController,T=setTimeout(()=>{m.abort(),Ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(N=>{clearTimeout(T),N.ok?Ir(f,"TestPingServer: ok",!0,d):Ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Ir(f,"TestPingServer: error",!1,d)})}function Ir(a,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function iA(){this.g=new BS}function kc(a){this.i=a.Sb||null,this.h=a.ab||!1}p(kc,iv),kc.prototype.g=function(){return new xc(this.i,this.h)};function xc(a,d){nt.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(xc,nt),n=xc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,Bo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rv(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rv(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Uo(this):Bo(this),this.readyState==3&&Rv(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,Uo(this))},n.Na=function(a){this.g&&(this.response=a,Uo(this))},n.ga=function(){this.g&&Uo(this)};function Uo(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Bo(a)}n.setRequestHeader=function(a,d){this.A.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Bo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Pv(a){let d="";return Gn(a,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Rh(a,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Pv(f),typeof a=="string"?f!=null&&Oo(f):Pe(a,d,f))}function Le(a){nt.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Le,nt);var sA=/^https?$/i,oA=["POST","PUT"];n=Le.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dv.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(N){Nv(this,N);return}if(a=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),T=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(oA,d,void 0)>=0)||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of f)this.g.setRequestHeader(N,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(N){Nv(this,N)}};function Nv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,Ov(a),Lc(a)}function Ov(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,ut(this,"complete"),ut(this,"abort"),Lc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),Le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Mv(this):this.Xa())},n.Xa=function(){Mv(this)};function Mv(a){if(a.h&&typeof s<"u"){if(a.v&&Tr(a)==4)setTimeout(a.Ca.bind(a),0);else if(ut(a,"readystatechange"),Tr(a)==4){a.h=!1;try{let N=a.ca();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=N===0){let U=String(a.D).match(wv)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),m=!sA.test(U?U.toLowerCase():"")}f=m}if(f)ut(a,"complete"),ut(a,"success");else{a.o=6;try{var T=Tr(a)>2?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.ca()+"]",Ov(a)}}finally{Lc(a)}}}}function Lc(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let f=a.g;a.g=null,d||ut(a,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(a){return a.g?a.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),US(d)}};function kv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aA(a){let d={};a=(a.g&&Tr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(_(a[m]))continue;var f=GS(a[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[T]||[];d[T]=N,N.push(f)}es(d,function(m){return m.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function xv(a){this.za=0,this.i=[],this.j=new No,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$o("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$o("baseRetryDelayMs",5e3,a),this.Za=$o("retryDelaySeedMs",1e4,a),this.Ta=$o("forwardChannelMaxRetries",2,a),this.va=$o("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new yv(a&&a.concurrentRequestLimit),this.Ba=new iA,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=xv.prototype,n.ka=8,n.I=1,n.connect=function(a,d,f,m){Et(0),this.W=a,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=Hv(this,null,this.W),Vc(this)};function Ph(a){if(Lv(a),a.I==3){var d=a.V++,f=_n(a.J);if(Pe(f,"SID",a.M),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),jo(a,f),d=new Er(a,a.j,d),d.M=2,d.A=Mc(_n(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=d.A,f=!0),f||(d.g=Gv(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Oc(d)}zv(a)}function Fc(a){a.g&&(Oh(a),a.g.cancel(),a.g=null)}function Lv(a){Fc(a),a.v&&(o.clearTimeout(a.v),a.v=null),Uc(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Vc(a){if(!vv(a.h)&&!a.m){a.m=!0;var d=a.Ea;le||v(),de||(le(),de=!0),E.add(d,a),a.D=0}}function cA(a,d){return _v(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Po(l(a.Ea,a,d),jv(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let T=new Er(this,this.j,a),N=this.o;if(this.U&&(N?(N=ii(N),bo(N,this.U)):N=this.U),this.u!==null||this.R||(T.J=N,N=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Vv(this,T,d),f=_n(this.J),Pe(f,"RID",a),Pe(f,"CVER",22),this.G&&Pe(f,"X-HTTP-Session-Id",this.G),jo(this,f),N&&(this.R?d="headers="+Oo(Pv(N))+"&"+d:this.u&&Rh(f,this.u,N)),Ah(this.h,T),this.Ra&&Pe(f,"TYPE","init"),this.S?(Pe(f,"$req",d),Pe(f,"SID","null"),T.U=!0,Ih(T,f,null)):Ih(T,f,d),this.I=2}}else this.I==3&&(a?Fv(this,a):this.i.length==0||vv(this.h)||Fv(this))};function Fv(a,d){var f;d?f=d.l:f=a.V++;let m=_n(a.J);Pe(m,"SID",a.M),Pe(m,"RID",f),Pe(m,"AID",a.K),jo(a,m),a.u&&a.o&&Rh(m,a.u,a.o),f=new Er(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),d&&(a.i=d.G.concat(a.i)),d=Vv(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Ah(a.h,f),Ih(f,m,d)}function jo(a,d){a.H&&Gn(a.H,function(f,m){Pe(d,m,f)}),a.l&&Gn({},function(f,m){Pe(d,m,f)})}function Vv(a,d,f){f=Math.min(a.i.length,f);let m=a.l?l(a.l.Ka,a.l,a):null;e:{var T=a.i;let ie=-1;for(;;){let Xe=["count="+f];ie==-1?f>0?(ie=T[0].g,Xe.push("ofs="+ie)):ie=0:Xe.push("ofs="+ie);let Ie=!0;for(let rt=0;rt<f;rt++){var N=T[rt].g;let bn=T[rt].map;if(N-=ie,N<0)ie=Math.max(0,T[rt].g-100),Ie=!1;else try{N="req"+N+"_"||"";try{var U=bn instanceof Map?bn:Object.entries(bn);for(let[di,Cr]of U){let Sr=Cr;c(Cr)&&(Sr=vh(Cr)),Xe.push(N+di+"="+encodeURIComponent(Sr))}}catch(di){throw Xe.push(N+"type="+encodeURIComponent("_badmap")),di}}catch{m&&m(bn)}}if(Ie){U=Xe.join("&");break e}}U=void 0}return a=a.i.splice(0,f),d.G=a,U}function Uv(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;le||v(),de||(le(),de=!0),E.add(d,a),a.A=0}}function Nh(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Po(l(a.Da,a),jv(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,Bv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Po(l(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Fc(this),Bv(this))};function Oh(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Bv(a){a.g=new Er(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=_n(a.na);Pe(d,"RID","rpc"),Pe(d,"SID",a.M),Pe(d,"AID",a.K),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&Pe(d,"TO",a.ia),Pe(d,"TYPE","xmlhttp"),jo(a,d),a.u&&a.o&&Rh(d,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=Mc(_n(d)),f.u=null,f.R=!0,pv(f,a)}n.Va=function(){this.C!=null&&(this.C=null,Fc(this),Nh(this),Et(19))};function Uc(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function $v(a,d){var f=null;if(a.g==d){Uc(a),Oh(a),a.g=null;var m=2}else if(Sh(a.h,d))f=d.G,bv(a.h,d),m=1;else return;if(a.I!=0){if(d.o)if(m==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var T=a.D;m=Pc(),ut(m,new uv(m,f)),Vc(a)}else Uv(a);else if(T=d.m,T==3||T==0&&d.X>0||!(m==1&&cA(a,d)||m==2&&Nh(a)))switch(f&&f.length>0&&(d=a.h,d.i=d.i.concat(f)),T){case 1:li(a,5);break;case 4:li(a,10);break;case 3:li(a,6);break;default:li(a,2)}}}function jv(a,d){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*d}function li(a,d){if(a.j.info("Error code "+d),d==2){var f=l(a.bb,a),m=a.Ua;let T=!m;m=new wr(m||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ko(m,"https"),Mc(m),T?nA(m.toString(),f):rA(m.toString(),f)}else Et(2);a.I=0,a.l&&a.l.pa(d),zv(a),Lv(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zv(a){if(a.I=0,a.ja=[],a.l){let d=Ev(a.h);(d.length!=0||a.i.length!=0)&&(D(a.ja,d),D(a.ja,a.i),a.h.i.length=0,y(a.i),a.i.length=0),a.l.oa()}}function Hv(a,d,f){var m=f instanceof wr?_n(f):new wr(f);if(m.g!="")d&&(m.g=d+"."+m.g),xo(m,m.u);else{var T=o.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let N=new wr(null);m&&ko(N,m),d&&(N.g=d),T&&xo(N,T),f&&(N.h=f),m=N}return f=a.G,d=a.wa,f&&d&&Pe(m,f,d),Pe(m,"VER",a.ka),jo(a,m),m}function Gv(a,d,f){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new Le(new kc({ab:f})):new Le(a.ma),d.Fa(a.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qv(){}n=qv.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Bc(){}Bc.prototype.g=function(a,d){return new Lt(a,d)};function Lt(a,d){nt.call(this),this.g=new xv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!_(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new os(this)}p(Lt,nt),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Ph(this.g)},Lt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=vh(a),a=f);d.i.push(new KS(d.Ya++,a)),d.I==3&&Vc(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Ph(this.g),delete this.g,Lt.Z.N.call(this)};function Wv(a){_h.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(Wv,_h);function Kv(){bh.call(this),this.status=1}p(Kv,bh);function os(a){this.g=a}p(os,qv),os.prototype.ra=function(){ut(this.g,"a")},os.prototype.qa=function(a){ut(this.g,new Wv(a))},os.prototype.pa=function(a){ut(this.g,new Kv)},os.prototype.oa=function(){ut(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Mg=dr.createWebChannelTransport=function(){return new Bc},Og=dr.getStatEventTarget=function(){return Pc()},Ng=dr.Event=ai,dd=dr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,tc=dr.ErrorCode=Nc,lv.COMPLETE="complete",Pg=dr.EventType=lv,sv.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",nt.prototype.listen=nt.prototype.J,qs=dr.WebChannel=sv,fk=dr.FetchXmlHttpFactory=kc,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,Rg=dr.XhrIo=Le}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});var iT="@firebase/firestore",sT="4.9.3";var at=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var mo="12.7.0";var ji=new Vr("@firebase/firestore");function Ws(){return ji.logLevel}function B(n,...t){if(ji.logLevel<=oe.DEBUG){let e=t.map(Cy);ji.debug(`Firestore (${mo}): ${n}`,...e)}}function fr(n,...t){if(ji.logLevel<=oe.ERROR){let e=t.map(Cy);ji.error(`Firestore (${mo}): ${n}`,...e)}}function no(n,...t){if(ji.logLevel<=oe.WARN){let e=t.map(Cy);ji.warn(`Firestore (${mo}): ${n}`,...e)}}function Cy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function W(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,WT(n,r,e)}function WT(n,t,e){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw fr(r),new Error(r)}function _e(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||WT(t,i,r)}function ee(n,t){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ot{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var vd=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Ug=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(at.UNAUTHENTICATED))}shutdown(){}},Bg=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},$g=class{constructor(t){this.t=t,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_e(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,e(u)):Promise.resolve(),s=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mn,t.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mn)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new vd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new at(t)}},jg=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},zg=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new jg(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_d=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Hg=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,St(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_e(this.o===void 0,3512);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _d(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new _d(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pk(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}var oc=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=pk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%62))}return r}};function ae(n,t){return n<t?-1:n>t?1:0}function Gg(n,t){let e=Math.min(n.length,t.length);for(let r=0;r<e;r++){let i=n.charAt(r),s=t.charAt(r);if(i!==s)return kg(i)===kg(s)?ae(i,s):kg(i)?1:-1}return ae(n.length,t.length)}var gk=55296,mk=57343;function kg(n){let t=n.charCodeAt(0);return t>=gk&&t<=mk}function ro(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}var oT="__name__",bd=class n{constructor(t,e,r){e===void 0?e=0:e>t.length&&W(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&W(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let r=Math.min(t.length,e.length);for(let i=0;i<r;i++){let s=n.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return ae(t.length,e.length)}static compareSegments(t,e){let r=n.isNumericId(t),i=n.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(t).compare(n.extractNumericId(e)):Gg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}},Oe=class n extends bd{construct(t,e,r){return new n(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let r of t){if(r.indexOf("//")>=0)throw new L(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new n(e)}static emptyPath(){return new n([])}},yk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class n extends bd{construct(t,e,r){return new n(t,e,r)}static isValidIdentifier(t){return yk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oT}static keyField(){return new n([oT])}static fromServerFormat(t){let e=[],r="",i=0,s=()=>{if(r.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""},o=!1;for(;i<t.length;){let c=t[i];if(c==="\\"){if(i+1===t.length)throw new L(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new L(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var H=class n{constructor(t){this.path=t}static fromPath(t){return new n(Oe.fromString(t))}static fromName(t){return new n(Oe.fromString(t).popFirst(5))}static empty(){return new n(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Oe(t.slice()))}};function KT(n,t,e){if(!e)throw new L(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function vk(n,t,e,r){if(t===!0&&r===!0)throw new L(O.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function aT(n){if(!H.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cT(n){if(H.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function eh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":W(12329,{type:typeof n})}function pr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new L(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=eh(n);throw new L(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function _k(n,t){if(t<=0)throw new L(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function Ye(n,t){let e={typeString:n};return t&&(e.value=t),e}function vc(n,t){if(!QT(n))throw new L(O.INVALID_ARGUMENT,"JSON must be an object");let e;for(let r in t)if(t[r]){let i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${r}' field to equal '${s.value}'`;break}}if(e)throw new L(O.INVALID_ARGUMENT,e);return!0}var uT=-62135596800,lT=1e6,Je=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*lT);return new n(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<uT)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lT}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vc(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-uT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ye("string",Je._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};var ne=class n{static fromTimestamp(t){return new n(t)}static min(){return new n(new Je(0,0))}static max(){return new n(new Je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ac=-1,qg=class{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}};qg.UNKNOWN_ID=-1;function bk(n,t){let e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Je(e+1,0):new Je(e,r));return new zi(i,H.empty(),t)}function Ek(n){return new zi(n.readTime,n.key,ac)}var zi=class n{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new n(ne.min(),H.empty(),ac)}static max(){return new n(ne.max(),H.empty(),ac)}};function wk(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=H.comparator(n.documentKey,t.documentKey),e!==0?e:ae(n.largestBatchId,t.largestBatchId))}var Ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};async function yo(n){if(n.code!==O.FAILED_PRECONDITION||n.message!==Ik)throw n;B("LocalStore","Unexpectedly lost primary lease")}var k=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,r)=>{e(t)})}static reject(t){return new n((e,r)=>{r(t)})}static waitFor(t){return new n((e,r)=>{let i=0,s=0,o=!1;t.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&e()},u=>r(u))}),o=!0,s===i&&e()})}static or(t){let e=n.resolve(!1);for(let r of t)e=e.next(i=>i?n.resolve(i):r());return e}static forEach(t,e){let r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new n((r,i)=>{let s=t.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;e(t[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(t,e){return new n((r,i)=>{let s=()=>{t()===!0?e().next(()=>{s()},i):r()};s()})}};function Tk(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function vo(n){return n.name==="IndexedDbTransactionError"}var Sy=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}n.ce=-1;return n})(),Ay=-1;function th(n){return n==null}function cc(n){return n===0&&1/n==-1/0}function Ck(n){return typeof n=="number"&&Number.isInteger(n)&&!cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var YT="";function Sk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=dT(t)),t=Ak(n.get(e),t);return dT(t)}function Ak(n,t){let e=t,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":e+="";break;case YT:e+="";break;default:e+=s}}return e}function dT(n){return n+YT+""}var Dk="remoteDocuments",JT="owner";var XT="mutationQueues";var ZT="mutations";var eC="documentMutations",Rk="remoteDocumentsV14";var tC="remoteDocumentGlobal";var nC="targets";var rC="targetDocuments";var iC="targetGlobal",sC="collectionParents";var oC="clientMetadata";var aC="bundles";var cC="namedQueries";var Pk="indexConfiguration";var Nk="indexState";var Ok="indexEntries";var uC="documentOverlays";var Mk="globals";var kk=[XT,ZT,eC,Dk,nC,JT,iC,rC,oC,tC,sC,aC,cC],o9=[...kk,uC],xk=[XT,ZT,eC,Rk,nC,JT,iC,rC,oC,tC,sC,aC,cC,uC],Lk=xk,Fk=[...Lk,Pk,Nk,Ok];var a9=[...Fk,Mk];function hT(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ri(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function lC(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var Ue=class n{constructor(t,e){this.comparator=t,this.root=e||Un.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){let t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Js(this.root,t,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Js(this.root,t,this.comparator,!0)}},Js=class{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Un=class n{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new n(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this,s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw W(27949);return t+(this.isRed()?0:1)}};Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(t,e,r,i,s){return this}insert(t,e,r){return new Un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(t){this.comparator=t,this.data=new Ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){let r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ed(this.data.getIterator())}getIteratorFrom(t){return new Ed(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},Ed=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tn=class n{constructor(t){this.fields=t,t.sort(qt.comparator)}static empty(){return new n([])}unionWith(t){let e=new ct(qt.comparator);for(let r of this.fields)e=e.add(r);for(let r of t)e=e.add(r);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,(e,r)=>e.isEqual(r))}};var wd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wd("Invalid base64 string: "+s):s}})(t);return new n(e)}static fromUint8Array(t){let e=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var Vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(_e(!!n,39018),typeof n=="string"){let t=0,e=Vk.exec(n);if(_e(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}var dC="server_timestamp",hC="__type__",fC="__previous_value__",pC="__local_write_time__";function nh(n){return(n?.mapValue?.fields||{})[hC]?.stringValue===dC}function rh(n){let t=n.mapValue.fields[fC];return nh(t)?rh(t):t}function uc(n){let t=gr(n.mapValue.fields[pC].timestampValue);return new Je(t.seconds,t.nanos)}var Kg=class{constructor(t,e,r,i,s,o,c,u,l,h){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Id="(default)",Td=class n{constructor(t,e){this.projectId=t,this.database=e||Id}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Id}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var Dy="__type__",gC="__max__",hd={mapValue:{fields:{__type__:{stringValue:gC}}}},Ry="__vector__",io="value";function Xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nh(n)?4:yC(n)?9007199254740991:mC(n)?10:11:W(28295,{value:n})}function jn(n,t){if(n===t)return!0;let e=Xr(n);if(e!==Xr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return uc(n).isEqual(uc(t));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=gr(i.timestampValue),c=gr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(i,s){return mr(i.bytesValue).isEqual(mr(s.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)})(n,t);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?cc(o)===cc(c):isNaN(o)&&isNaN(c)}return!1})(n,t);case 9:return ro(n.arrayValue.values||[],t.arrayValue.values||[],jn);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(hT(o)!==hT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!jn(o[u],c[u])))return!1;return!0})(n,t);default:return W(52216,{left:n})}}function lc(n,t){return(n.values||[]).find(e=>jn(e,t))!==void 0}function so(n,t){if(n===t)return 0;let e=Xr(n),r=Xr(t);if(e!==r)return ae(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,t.booleanValue);case 2:return(function(s,o){let c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,t);case 3:return fT(n.timestampValue,t.timestampValue);case 4:return fT(uc(n),uc(t));case 5:return Gg(n.stringValue,t.stringValue);case 6:return(function(s,o){let c=mr(s),u=mr(o);return c.compareTo(u)})(n.bytesValue,t.bytesValue);case 7:return(function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ae(c[l],u[l]);if(h!==0)return h}return ae(c.length,u.length)})(n.referenceValue,t.referenceValue);case 8:return(function(s,o){let c=ae(ke(s.latitude),ke(o.latitude));return c!==0?c:ae(ke(s.longitude),ke(o.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return pT(n.arrayValue,t.arrayValue);case 10:return(function(s,o){let c=s.fields||{},u=o.fields||{},l=c[io]?.arrayValue,h=u[io]?.arrayValue,p=ae(l?.values?.length||0,h?.values?.length||0);return p!==0?p:pT(l,h)})(n.mapValue,t.mapValue);case 11:return(function(s,o){if(s===hd.mapValue&&o===hd.mapValue)return 0;if(s===hd.mapValue)return 1;if(o===hd.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Gg(u[p],h[p]);if(g!==0)return g;let y=so(c[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)})(n.mapValue,t.mapValue);default:throw W(23264,{he:e})}}function fT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ae(n,t);let e=gr(n),r=gr(t),i=ae(e.seconds,r.seconds);return i!==0?i:ae(e.nanos,r.nanos)}function pT(n,t){let e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){let s=so(e[i],r[i]);if(s)return s}return ae(e.length,r.length)}function oo(n){return Qg(n)}function Qg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){let r=gr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return mr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return H.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(let s of e.values||[])i?i=!1:r+=",",r+=Qg(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){let r=Object.keys(e.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Qg(e.fields[o])}`;return i+"}"})(n.mapValue):W(61005,{value:n})}function gd(n){switch(Xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=rh(n);return t?16+gd(t):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+gd(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ri(r.fields,(s,o)=>{i+=s.length+gd(o)}),i})(n.mapValue);default:throw W(13486,{value:n})}}function Cd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Yg(n){return!!n&&"integerValue"in n}function Py(n){return!!n&&"arrayValue"in n}function gT(n){return!!n&&"nullValue"in n}function mT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function md(n){return!!n&&"mapValue"in n}function mC(n){return(n?.mapValue?.fields||{})[Dy]?.stringValue===Ry}function rc(n){if(n.geoPointValue)return{geoPointValue:A({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:A({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return ri(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=rc(r)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=rc(n.arrayValue.values[e]);return t}return A({},n)}function yC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gC}var u9={mapValue:{fields:{[Dy]:{stringValue:Ry},[io]:{arrayValue:{}}}}};var Gt=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!md(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rc(e)}setAll(t){let e=qt.emptyPath(),r={},i=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){let u=this.getFieldsMap(e);this.applyChanges(u,r,i),r={},i=[],e=c.popLast()}o?r[c.lastSegment()]=rc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){let e=this.field(t.popLast());md(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return jn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){ri(e,(i,s)=>t[i]=s);for(let i of r)delete t[i]}clone(){return new n(rc(this.value))}};function vC(n){let t=[];return ri(n.fields,(e,r)=>{let i=new qt([e]);if(md(r)){let s=vC(r.mapValue).fields;if(s.length===0)t.push(i);else for(let o of s)t.push(i.child(o))}else t.push(i)}),new tn(t)}var yn=class n{constructor(t,e,r,i,s,o,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new n(t,0,ne.min(),ne.min(),ne.min(),Gt.empty(),0)}static newFoundDocument(t,e,r,i){return new n(t,1,e,ne.min(),r,i,0)}static newNoDocument(t,e){return new n(t,2,e,ne.min(),ne.min(),Gt.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,ne.min(),ne.min(),Gt.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zr=class{constructor(t,e){this.position=t,this.inclusive=e}};function yT(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){let s=t[i],o=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),e.key):r=so(o,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!jn(n.position[e],t.position[e]))return!1;return!0}var Hi=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function Uk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var Sd=class{},Qe=class n extends Sd{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new Xg(t,e,r):e==="array-contains"?new tm(t,r):e==="in"?new nm(t,r):e==="not-in"?new rm(t,r):e==="array-contains-any"?new im(t,r):new n(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new Zg(t,r):new em(t,r)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(so(e,this.value)):e!==null&&Xr(this.value)===Xr(e)&&this.matchesComparison(so(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class n extends Sd{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new n(t,e)}matches(t){return _C(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function _C(n){return n.op==="and"}function bC(n){return Bk(n)&&_C(n)}function Bk(n){for(let t of n.filters)if(t instanceof vn)return!1;return!0}function Jg(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+oo(n.value);if(bC(n))return n.filters.map(t=>Jg(t)).join(",");{let t=n.filters.map(e=>Jg(e)).join(",");return`${n.op}(${t})`}}function EC(n,t){return n instanceof Qe?(function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)})(n,t):n instanceof vn?(function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&EC(o,i.filters[c]),!0):!1})(n,t):void W(19439)}function wC(n){return n instanceof Qe?(function(e){return`${e.field.canonicalString()} ${e.op} ${oo(e.value)}`})(n):n instanceof vn?(function(e){return e.op.toString()+" {"+e.getFilters().map(wC).join(" ,")+"}"})(n):"Filter"}var Xg=class extends Qe{constructor(t,e,r){super(t,e,r),this.key=H.fromName(r.referenceValue)}matches(t){let e=H.comparator(t.key,this.key);return this.matchesComparison(e)}},Zg=class extends Qe{constructor(t,e){super(t,"in",e),this.keys=IC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},em=class extends Qe{constructor(t,e){super(t,"not-in",e),this.keys=IC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function IC(n,t){return(t.arrayValue?.values||[]).map(e=>H.fromName(e.referenceValue))}var tm=class extends Qe{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return Py(e)&&lc(e.arrayValue,this.value)}},nm=class extends Qe{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&lc(this.value.arrayValue,e)}},rm=class extends Qe{constructor(t,e){super(t,"not-in",e)}matches(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!lc(this.value.arrayValue,e)}},im=class extends Qe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!Py(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}};var sm=class{constructor(t,e=null,r=[],i=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}};function _T(n,t=null,e=[],r=[],i=null,s=null,o=null){return new sm(n,t,e,r,i,s,o)}function Ny(n){let t=ee(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Jg(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),th(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>oo(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>oo(r)).join(",")),t.Te=e}return t.Te}function Oy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Uk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!EC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vT(n.startAt,t.startAt)&&vT(n.endAt,t.endAt)}function om(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var yr=class{constructor(t,e=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function $k(n,t,e,r,i,s,o,c){return new yr(n,t,e,r,i,s,o,c)}function My(n){return new yr(n)}function bT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ky(n){return n.collectionGroup!==null}function Xs(n){let t=ee(n);if(t.Ie===null){t.Ie=[];let e=new Set;for(let s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ct(qt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Hi(s,r))}),e.has(qt.keyField().canonicalString())||t.Ie.push(new Hi(qt.keyField(),r))}return t.Ie}function Bn(n){let t=ee(n);return t.Ee||(t.Ee=jk(t,Xs(n))),t.Ee}function jk(n,t){if(n.limitType==="F")return _T(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Hi(i.field,s)});let e=n.endAt?new Zr(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zr(n.startAt.position,n.startAt.inclusive):null;return _T(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function am(n,t){let e=n.filters.concat([t]);return new yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Ad(n,t,e){return new yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ih(n,t){return Oy(Bn(n),Bn(t))&&n.limitType===t.limitType}function TC(n){return`${Ny(Bn(n))}|lt:${n.limitType}`}function Ks(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>wC(i)).join(", ")}]`),th(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>oo(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>oo(i)).join(",")),`Target(${r})`})(Bn(n))}; limitType=${n.limitType})`}function sh(n,t){return t.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,t)&&(function(r,i){for(let s of Xs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,t)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,t)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){let l=yT(o,c,u);return o.inclusive?l<=0:l<0})(r.startAt,Xs(r),i)||r.endAt&&!(function(o,c,u){let l=yT(o,c,u);return o.inclusive?l>=0:l>0})(r.endAt,Xs(r),i))})(n,t)}function zk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CC(n){return(t,e)=>{let r=!1;for(let i of Xs(n)){let s=Hk(i,t,e);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Hk(n,t,e){let r=n.field.isKeyField()?H.comparator(t.key,e.key):(function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?so(u,l):W(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:n.dir})}}var vr=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ri(this.inner,(e,r)=>{for(let[i,s]of r)t(i,s)})}isEmpty(){return lC(this.inner)}size(){return this.innerSize}};var Gk=new Ue(H.comparator);function _r(){return Gk}var SC=new Ue(H.comparator);function nc(...n){let t=SC;for(let e of n)t=t.insert(e.key,e);return t}function AC(n){let t=SC;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Vi(){return ic()}function DC(){return ic()}function ic(){return new vr(n=>n.toString(),(n,t)=>n.isEqual(t))}var qk=new Ue(H.comparator),Wk=new ct(H.comparator);function ce(...n){let t=Wk;for(let e of n)t=t.add(e);return t}var Kk=new ct(ae);function Qk(){return Kk}function xy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(t)?"-0":t}}function RC(n){return{integerValue:""+n}}function Yk(n,t){return Ck(t)?RC(t):xy(n,t)}var ao=class{constructor(){this._=void 0}};function Jk(n,t,e){return n instanceof Gi?(function(i,s){let o={fields:{[hC]:{stringValue:dC},[pC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nh(s)&&(s=rh(s)),s&&(o.fields[fC]=s),{mapValue:o}})(e,t):n instanceof qi?NC(n,t):n instanceof Wi?OC(n,t):(function(i,s){let o=PC(i,s),c=ET(o)+ET(i.Ae);return Yg(o)&&Yg(i.Ae)?RC(c):xy(i.serializer,c)})(n,t)}function Xk(n,t,e){return n instanceof qi?NC(n,t):n instanceof Wi?OC(n,t):e}function PC(n,t){return n instanceof co?(function(r){return Yg(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(t)?t:{integerValue:0}:null}var Gi=class extends ao{},qi=class extends ao{constructor(t){super(),this.elements=t}};function NC(n,t){let e=MC(t);for(let r of n.elements)e.some(i=>jn(i,r))||e.push(r);return{arrayValue:{values:e}}}var Wi=class extends ao{constructor(t){super(),this.elements=t}};function OC(n,t){let e=MC(t);for(let r of n.elements)e=e.filter(i=>!jn(i,r));return{arrayValue:{values:e}}}var co=class extends ao{constructor(t,e){super(),this.serializer=t,this.Ae=e}};function ET(n){return ke(n.integerValue||n.doubleValue)}function MC(n){return Py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var cm=class{constructor(t,e){this.field=t,this.transform=e}};function Zk(n,t){return n.field.isEqual(t.field)&&(function(r,i){return r instanceof qi&&i instanceof qi||r instanceof Wi&&i instanceof Wi?ro(r.elements,i.elements,jn):r instanceof co&&i instanceof co?jn(r.Ae,i.Ae):r instanceof Gi&&i instanceof Gi})(n.transform,t.transform)}var um=class{constructor(t,e){this.version=t,this.transformResults=e}},hr=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function yd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var uo=class{};function kC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new dc(n.key,hr.none()):new Ki(n.key,n.data,hr.none());{let e=n.data,r=Gt.empty(),i=new ct(qt.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zn(n.key,r,new tn(i.toArray()),hr.none())}}function ex(n,t,e){n instanceof Ki?(function(i,s,o){let c=i.value.clone(),u=IT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,t,e):n instanceof zn?(function(i,s,o){if(!yd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=IT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(xC(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,t,e):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function sc(n,t,e,r){return n instanceof Ki?(function(s,o,c,u){if(!yd(s.precondition,o))return c;let l=s.value.clone(),h=TT(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(n,t,e,r):n instanceof zn?(function(s,o,c,u){if(!yd(s.precondition,o))return c;let l=TT(s.fieldTransforms,u,o),h=o.data;return h.setAll(xC(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))})(n,t,e,r):(function(s,o,c){return yd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,t,e)}function tx(n,t){let e=null;for(let r of n.fieldTransforms){let i=t.data.field(r.field),s=PC(r.transform,i||null);s!=null&&(e===null&&(e=Gt.empty()),e.set(r.field,s))}return e||null}function wT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ro(r,i,(s,o)=>Zk(s,o))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var Ki=class extends uo{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zn=class extends uo{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function xC(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let r=n.data.field(e);t.set(e,r)}}),t}function IT(n,t,e){let r=new Map;_e(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){let s=n[i],o=s.transform,c=t.data.field(s.field);r.set(s.field,Xk(o,c,e[i]))}return r}function TT(n,t,e){let r=new Map;for(let i of n){let s=i.transform,o=e.data.field(i.field);r.set(i.field,Jk(s,o,t))}return r}var dc=class extends uo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},lm=class extends uo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var dm=class{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){let r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(t.key)&&ex(s,t,r[i])}}applyToLocalView(t,e){for(let r of this.baseMutations)r.key.isEqual(t.key)&&(e=sc(r,t,e,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(t.key)&&(e=sc(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let r=DC();return this.mutations.forEach(i=>{let s=t.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=e.has(i.key)?null:c;let u=kC(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ce())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,(e,r)=>wT(e,r))&&ro(this.baseMutations,t.baseMutations,(e,r)=>wT(e,r))}},hm=class n{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){_e(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=(function(){return qk})(),s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(t,e,r,i)}};var fm=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var pm=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var We,he;function nx(n){switch(n){case O.OK:return W(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return W(15467,{code:n})}}function LC(n){if(n===void 0)return fr("GRPC error has no .code"),O.UNKNOWN;switch(n){case We.OK:return O.OK;case We.CANCELLED:return O.CANCELLED;case We.UNKNOWN:return O.UNKNOWN;case We.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case We.INTERNAL:return O.INTERNAL;case We.UNAVAILABLE:return O.UNAVAILABLE;case We.UNAUTHENTICATED:return O.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case We.NOT_FOUND:return O.NOT_FOUND;case We.ALREADY_EXISTS:return O.ALREADY_EXISTS;case We.PERMISSION_DENIED:return O.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case We.ABORTED:return O.ABORTED;case We.OUT_OF_RANGE:return O.OUT_OF_RANGE;case We.UNIMPLEMENTED:return O.UNIMPLEMENTED;case We.DATA_LOSS:return O.DATA_LOSS;default:return W(39323,{code:n})}}(he=We||(We={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var rx=null;function ix(){return new TextEncoder}var sx=new lr([4294967295,4294967295],0);function CT(n){let t=ix().encode(n),e=new Dg;return e.update(t),new Uint8Array(e.digest())}function ST(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new lr([e,r],0),new lr([i,s],0)]}var gm=class n{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ui(`Invalid padding: ${e}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=lr.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(lr.fromNumber(r)));return i.compare(sx)===1&&(i=new lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;let e=CT(t),[r,i]=ST(e);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,e,r){let i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new n(s,i,e);return r.forEach(c=>o.insert(c)),o}insert(t){if(this.ge===0)return;let e=CT(t),[r,i]=ST(e);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.Se(o)}}Se(t){let e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}},Ui=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dd=class n{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){let i=new Map;return i.set(t,hc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new n(ne.min(),i,new Ue(ae),_r(),ce())}},hc=class n{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new n(r,e,ce(),ce(),ce())}};var Zs=class{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}},Rd=class{constructor(t,e){this.targetId=t,this.Ce=e}},Pd=class{constructor(t,e,r=bt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}},Nd=class{constructor(){this.ve=0,this.Fe=AT(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ce(),e=ce(),r=ce();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:s})}}),new hc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=AT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},mm=class{constructor(t){this.Ge=t,this.ze=new Map,this.je=_r(),this.Je=fd(),this.He=fd(),this.Ye=new Ue(ae)}Ze(t){for(let e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(let e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{let r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:W(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((r,i)=>{this.rt(i)&&e(i)})}st(t){let e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){let s=i.target;if(om(s))if(r===0){let o=new H(s.path);this.et(e,o,yn.newNoDocument(o,ne.min()))}else _e(r===1,20013,{expectedCount:r});else{let o=this._t(e);if(o!==r){let c=this.ut(t),u=c?this.ct(c,t,o):1;if(u!==0){this.it(e);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,l)}rx?.lt((function(h,p,g,y,D){let P={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},C=p.unchangedNames;return C&&(P.bloomFilter={applied:D===0,hashCount:C?.hashCount??0,bitmapLength:C?.bits?.bitmap?.length??0,padding:C?.bits?.padding??0,mightContain:M=>y?.mightContain(M)??!1}),P})(o,t.Ce,this.Ge.ht(),c,u))}}}}ut(t){let e=t.Ce.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e,o,c;try{o=mr(r).toUint8Array()}catch(u){if(u instanceof wd)return no("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new gm(o,i,s)}catch(u){return no(u instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){let r=this.Ge.getRemoteKeysForTarget(e),i=0;return r.forEach(s=>{let o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.et(e,s,null),i++)}),i}Tt(t){let e=new Map;this.ze.forEach((s,o)=>{let c=this.ot(o);if(c){if(s.current&&om(c.target)){let u=new H(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,yn.newNoDocument(u,t))}s.Be&&(e.set(o,s.ke()),s.qe())}});let r=ce();this.He.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));let i=new Dd(t,e,this.Ye,this.je,r);return this.je=_r(),this.Je=fd(),this.He=fd(),this.Ye=new Ue(ae),i}Xe(t,e){if(!this.rt(t))return;let r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;let i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){let e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Nd,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ct(ae),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ct(ae),this.Je=this.Je.insert(t,e)),e}rt(t){let e=this.ot(t)!==null;return e||B("WatchChangeAggregator","Detected inactive target",t),e}ot(t){let e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nd),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}};function fd(){return new Ue(H.comparator)}function AT(){return new Ue(H.comparator)}var ox={asc:"ASCENDING",desc:"DESCENDING"},ax={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cx={and:"AND",or:"OR"},ym=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function vm(n,t){return n.useProto3Json||th(t)?t:{value:t}}function Od(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ux(n,t){return Od(n,t.toTimestamp())}function $n(n){return _e(!!n,49232),ne.fromTimestamp((function(e){let r=gr(e);return new Je(r.seconds,r.nanos)})(n))}function Ly(n,t){return _m(n,t).canonicalString()}function _m(n,t){let e=(function(i){return new Oe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return t===void 0?e:e.child(t)}function VC(n){let t=Oe.fromString(n);return _e(zC(t),10190,{key:t.toString()}),t}function bm(n,t){return Ly(n.databaseId,t.path)}function xg(n,t){let e=VC(t);if(e.get(1)!==n.databaseId.projectId)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new H(BC(e))}function UC(n,t){return Ly(n.databaseId,t)}function lx(n){let t=VC(n);return t.length===4?Oe.emptyPath():BC(t)}function Em(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BC(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DT(n,t,e){return{name:bm(n,t),fields:e.value.mapValue.fields}}function dx(n,t){let e;if("targetChange"in t){t.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=(function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string",58123),bt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bt.fromUint8Array(h||new Uint8Array))})(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&(function(l){let h=l.code===void 0?O.UNKNOWN:LC(l.code);return new L(h,l.message||"")})(o);e=new Pd(r,i,s,c||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=xg(n,r.document.name),s=$n(r.document.updateTime),o=r.document.createTime?$n(r.document.createTime):ne.min(),c=new Gt({mapValue:{fields:r.document.fields}}),u=yn.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];e=new Zs(l,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=xg(n,r.document),s=r.readTime?$n(r.readTime):ne.min(),o=yn.newNoDocument(i,s),c=r.removedTargetIds||[];e=new Zs([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=xg(n,r.document),s=r.removedTargetIds||[];e=new Zs([],s,i,null)}else{if(!("filter"in t))return W(11601,{Rt:t});{t.filter;let r=t.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new pm(i,s),c=r.targetId;e=new Rd(c,o)}}return e}function hx(n,t){let e;if(t instanceof Ki)e={update:DT(n,t.key,t.value)};else if(t instanceof dc)e={delete:bm(n,t.key)};else if(t instanceof zn)e={update:DT(n,t.key,t.data),updateMask:Ex(t.fieldMask)};else{if(!(t instanceof lm))return W(16599,{Vt:t.type});e={verify:bm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>(function(s,o){let c=o.transform;if(c instanceof Gi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof co)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw W(20930,{transform:o.transform})})(0,r))),t.precondition.isNone||(e.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:ux(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W(27497)})(n,t.precondition)),e}function fx(n,t){return n&&n.length>0?(_e(t!==void 0,14353),n.map(e=>(function(i,s){let o=i.updateTime?$n(i.updateTime):$n(s);return o.isEqual(ne.min())&&(o=$n(s)),new um(o,i.transformResults||[])})(e,t))):[]}function px(n,t){return{documents:[UC(n,t.path)]}}function gx(n,t){let e={structuredQuery:{}},r=t.path,i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=UC(n,i);let s=(function(l){if(l.length!==0)return jC(vn.create(l,"and"))})(t.filters);s&&(e.structuredQuery.where=s);let o=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Qs(g.field),direction:vx(g.dir)}})(h))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);let c=vm(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(t.endAt)),{ft:e,parent:i}}function mx(n){let t=lx(n.parent),e=n.structuredQuery,r=e.from?e.from.length:0,i=null;if(r>0){_e(r===1,65062);let h=e.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];e.where&&(s=(function(p){let g=$C(p);return g instanceof vn&&bC(g)?g.getFilters():[g]})(e.where));let o=[];e.orderBy&&(o=(function(p){return p.map(g=>(function(D){return new Hi(Ys(D.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(g))})(e.orderBy));let c=null;e.limit&&(c=(function(p){let g;return g=typeof p=="object"?p.value:p,th(g)?null:g})(e.limit));let u=null;e.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Zr(y,g)})(e.startAt));let l=null;return e.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Zr(y,g)})(e.endAt)),$k(t,i,o,s,c,"F",u,l)}function yx(n,t){let e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $C(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":let r=Ys(e.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(e.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ys(e.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ys(e.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Qe.create(Ys(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return vn.create(e.compositeFilter.filters.map(r=>$C(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(e.compositeFilter.op))})(n):W(30097,{filter:n})}function vx(n){return ox[n]}function _x(n){return ax[n]}function bx(n){return cx[n]}function Qs(n){return{fieldPath:n.canonicalString()}}function Ys(n){return qt.fromServerFormat(n.fieldPath)}function jC(n){return n instanceof Qe?(function(e){if(e.op==="=="){if(mT(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(gT(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mT(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(gT(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:_x(e.op),value:e.value}}})(n):n instanceof vn?(function(e){let r=e.getFilters().map(i=>jC(i));return r.length===1?r[0]:{compositeFilter:{op:bx(e.op),filters:r}}})(n):W(54877,{filter:n})}function Ex(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function zC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var fc=class n{constructor(t,e,r,i,s=ne.min(),o=ne.min(),c=bt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var wm=class{constructor(t){this.yt=t}};function wx(n){let t=mx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ad(t,t.limit,"L"):t}var Md=class{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(ke(t.integerValue));else if("doubleValue"in t){let r=ke(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),cc(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=gr(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(mr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){let r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?yC(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):mC(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):W(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){let r=t.fields||{};this.Ft(e,55);for(let i of Object.keys(r))this.Ot(i,e),this.Ct(r[i],e)}kt(t,e){let r=t.fields||{};this.Ft(e,53);let i=io,s=r[i].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(ke(s)),this.Ot(i,e),this.Ct(r[i],e)}Qt(t,e){let r=t.values||[];this.Ft(e,50);for(let i of r)this.Ct(i,e)}Lt(t,e){this.Ft(e,37),H.fromName(t).path.forEach(r=>{this.Ft(e,60),this.Ut(r,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}};Md.Kt=new Md;var Im=class{constructor(){this.Cn=new Tm}addToCollectionParentIndex(t,e){return this.Cn.add(e),k.resolve()}getCollectionParents(t,e){return k.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return k.resolve()}deleteFieldIndex(t,e){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,e){return k.resolve()}getDocumentsMatchingTarget(t,e){return k.resolve(null)}getIndexType(t,e){return k.resolve(0)}getFieldIndexes(t,e){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,e){return k.resolve(zi.min())}getMinOffsetFromCollectionGroup(t,e){return k.resolve(zi.min())}updateCollectionGroup(t,e,r){return k.resolve()}updateIndexEntries(t,e){return k.resolve()}},Tm=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new ct(Oe.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ct(Oe.comparator)).toArray()}};var l9=new Uint8Array(0);var RT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HC=41943040,en=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}};en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(HC,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);var pc=class n{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var PT="LruGarbageCollector",Ix=1048576;function NT([n,t],[e,r]){let i=ae(n,e);return i===0?ae(t,r):i}var Cm=class{constructor(t){this.Ir=t,this.buffer=new ct(NT),this.Er=0}dr(){return++this.Er}Ar(t){let e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{let r=this.buffer.last();NT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}},Sm=class{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){B(PT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vo(e)?B(PT,"Ignoring IndexedDB error during garbage collection: ",e):await yo(e)}await this.Vr(3e5)})}},Am=class{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return k.resolve(Sy.ce);let r=new Cm(e);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(RT)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RT):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,s,o,c,u,l,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(t,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(t,r,e))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(l=Date.now(),Ws()<=oe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function Tx(n,t){return new Am(n,t)}var Dm=class{constructor(){this.changes=new vr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let r=this.changes.get(e);return r!==void 0?k.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var Rm=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var Pm=class{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(r!==null&&sc(r.mutation,i,tn.empty(),Je.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ce()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ce()){let i=Vi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=nc();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let r=Vi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ce()))}populateOverlays(t,e,r){let i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,r,i){let s=_r(),o=ic(),c=(function(){return ic()})();return e.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof zn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),sc(h.mutation,l,h.mutation.getFieldMask(),Je.now())):o.set(l.key,tn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),e.forEach((l,h)=>c.set(l,new Rm(h,o.get(l)??null))),c))}recalculateAndSaveOverlays(t,e){let r=ic(),i=new Ue((o,c)=>o-c),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=e.get(u);if(l===null)return;let h=r.get(u)||tn.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=DC();h.forEach(g=>{if(!s.has(g)){let y=kC(e.get(g),r.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,p))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return(function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ky(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):k.resolve(Vi()),c=ac,u=s;return o.next(l=>k.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?k.resolve():this.remoteDocumentCache.getEntry(t,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,ce())).next(h=>({batchId:c,changes:AC(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new H(e)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){let s=e.collectionGroup,o=nc();return this.indexManager.getCollectionParents(t,s).next(c=>k.forEach(c,u=>{let l=(function(p,g){return new yr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,yn.newInvalidDocument(h)))});let c=nc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&sc(h.mutation,l,tn.empty(),Je.now()),sh(e,l)&&(c=c.insert(u,l))}),c})}};var Nm=class{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return k.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}})(e)),k.resolve()}getNamedQuery(t,e){return k.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:wx(i.bundledQuery),readTime:$n(i.readTime)}})(e)),k.resolve()}};var Om=class{constructor(){this.overlays=new Ue(H.comparator),this.qr=new Map}getOverlay(t,e){return k.resolve(this.overlays.get(e))}getOverlays(t,e){let r=Vi();return k.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.St(t,e,s)}),k.resolve()}removeOverlaysForBatchId(t,e,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),k.resolve()}getOverlaysForCollection(t,e,r){let i=Vi(),s=e.length+1,o=new H(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Ue((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Vi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Vi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return k.resolve(c)}St(t,e,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fm(e,r));let s=this.qr.get(e);s===void 0&&(s=ce(),this.qr.set(e,s)),this.qr.set(e,s.add(r.key))}};var Mm=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,k.resolve()}};var gc=class{constructor(){this.Qr=new ct(Ke.$r),this.Ur=new ct(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){let r=new Ke(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach(r=>this.removeReference(r,e))}jr(t){let e=new H(new Oe([])),r=new Ke(e,t),i=new Ke(e,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){let e=new H(new Oe([])),r=new Ke(e,t),i=new Ke(e,t+1),s=ce();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new Ke(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}},Ke=class{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return H.comparator(t.key,e.key)||ae(t.Yr,e.Yr)}static Kr(t,e){return ae(t.Yr,e.Yr)||H.comparator(t.key,e.key)}};var km=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ct(Ke.$r)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){let s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new dm(s,e,r,i);this.mutationQueue.push(o);for(let c of i)this.Zr=this.Zr.add(new Ke(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return k.resolve(o)}lookupMutationBatch(t,e){return k.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){let r=e+1,i=this.ei(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Ay:this.tr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let r=new Ke(e,0),i=new Ke(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{let c=this.Xr(o.Yr);s.push(c)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ct(ae);return e.forEach(i=>{let s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],c=>{r=r.add(c.Yr)})}),k.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){let r=e.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Ke(new H(s),0),c=new ct(ae);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Yr)),!0)},o),k.resolve(this.ti(c))}ti(t){let e=[];return t.forEach(r=>{let i=this.Xr(r);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){_e(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return k.forEach(e.mutations,i=>{let s=new Ke(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,e){let r=new Ke(e,0),i=this.Zr.firstAfterOrEqual(r);return k.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){let e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var xm=class{constructor(t){this.ri=t,this.docs=(function(){return new Ue(H.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let r=this.docs.get(e);return k.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(e))}getEntries(t,e){let r=_r();return e.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=_r(),o=e.path,c=new H(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wk(Ek(h),r)<=0||(i.has(h.key)||sh(e,h))&&(s=s.insert(h.key,h.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,e,r,i){W(9500)}ii(t,e){return k.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Lm(this)}getSize(t){return k.resolve(this.size)}},Lm=class extends Dm{constructor(t){super(),this.Nr=t}applyChanges(t){let e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),k.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}};var Fm=class{constructor(t){this.persistence=t,this.si=new vr(e=>Ny(e),Oy),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new gc,this.targetCount=0,this.ai=pc.ur()}forEachTarget(t,e){return this.si.forEach((r,i)=>e(i)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),k.resolve()}Pr(t){this.si.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.ai=new pc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,k.resolve()}updateTargetData(t,e){return this.Pr(e),k.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,e,r){let i=0,s=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,e){let r=this.si.get(e)||null;return k.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),k.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);let i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),k.resolve()}getMatchingKeysForTargetId(t,e){let r=this._i.Hr(e);return k.resolve(r)}containsKey(t,e){return k.resolve(this._i.containsKey(e))}};var kd=class{constructor(t,e){this.ui={},this.overlays={},this.ci=new Sy(0),this.li=!1,this.li=!0,this.hi=new Mm,this.referenceDelegate=t(this),this.Pi=new Fm(this),this.indexManager=new Im,this.remoteDocumentCache=(function(i){return new xm(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new wm(e),this.Ii=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Om,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new km(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){B("MemoryPersistence","Starting transaction:",t);let i=new Vm(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,e){return k.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,e)))}},Vm=class extends Wg{constructor(t){super(),this.currentSequenceNumber=t}},Um=class n{constructor(t){this.persistence=t,this.Ri=new gc,this.Vi=null}static mi(t){return new n(t)}get fi(){if(this.Vi)return this.Vi;throw W(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),k.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),k.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,r=>{let i=H.fromPath(r);return this.gi(t,i).next(s=>{s||e.removeEntry(i,ne.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return k.or([()=>k.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}},xd=class n{constructor(t,e){this.persistence=t,this.pi=new vr(r=>Sk(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Tx(this,e)}static mi(t,e){return new n(t,e)}Ei(){}di(t){return k.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){let e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}wr(t){let e=0;return this.pr(t,r=>{e++}).next(()=>e)}pr(t,e){return k.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?k.resolve():e(i)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,e).next(c=>{c||(r++,s.removeEntry(o,ne.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),k.resolve()}removeTarget(t,e){let r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),k.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gd(t.data.value)),e}br(t,e,r){return k.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let i=this.pi.get(e);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var Bm=class n{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=ce(),i=ce();for(let s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(t,e.fromCache,r,i)}};var $m=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var jm=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Iw()?8:Tk(ot())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){let s={result:null};return this.ys(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,e,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new $m;return this.Ss(t,e,o).next(c=>{if(s.result=c,this.Vs)return this.bs(t,e,o,c.size)})}).next(()=>s.result)}bs(t,e,r,i){return r.documentReadCount<this.fs?(Ws()<=oe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ks(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(Ws()<=oe.DEBUG&&B("QueryEngine","Query:",Ks(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ws()<=oe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ks(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bn(e))):k.resolve())}ys(t,e){if(bT(e))return k.resolve(null);let r=Bn(e);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=Ad(e,null,"F"),r=Bn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{let o=ce(...s);return this.ps.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,r).next(u=>{let l=this.Ds(e,c);return this.Cs(e,l,o,u.readTime)?this.ys(t,Ad(e,null,"F")):this.vs(t,l,e,u)}))})))}ws(t,e,r,i){return bT(e)||i.isEqual(ne.min())?k.resolve(null):this.ps.getDocuments(t,r).next(s=>{let o=this.Ds(e,s);return this.Cs(e,o,r,i)?k.resolve(null):(Ws()<=oe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(e)),this.vs(t,o,e,bk(i,ac)).next(c=>c))})}Ds(t,e){let r=new ct(CC(t));return e.forEach((i,s)=>{sh(t,s)&&(r=r.add(s))}),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,r){return Ws()<=oe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ks(e)),this.ps.getDocumentsMatchingQuery(t,e,zi.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Fy="LocalStore",Cx=3e8,zm=class{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Ue(ae),this.xs=new vr(s=>Ny(s),Oy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pm(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}};function Sx(n,t,e,r){return new zm(n,t,e,r)}async function GC(n,t){let e=ee(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ce();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return e.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:o,addedBatchIds:c}))})})}function Ax(n,t){let e=ee(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,g=p.keys(),y=k.resolve();return g.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(P=>{let C=l.docVersions.get(D);_e(C!==null,48541),P.version.compareTo(C)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function qC(n){let t=ee(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Dx(n,t){let e=ee(n),r=t.snapshotVersion,i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;let c=[];t.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;c.push(e.Pi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>e.Pi.addMatchingKeys(s,h.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,C,M){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Cx?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,y,h)&&c.push(e.Pi.updateTargetData(s,y))});let u=_r(),l=ce();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push(Rx(s,o,t.documentUpdates).next(h=>{u=h.ks,l=h.qs})),!r.isEqual(ne.min())){let h=e.Pi.getLastRemoteSnapshotVersion(s).next(p=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return k.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(e.Ms=i,s))}function Rx(n,t,e){let r=ce(),i=ce();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=_r();return e.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ne.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):B(Fy,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{ks:o,qs:i}})}function Px(n,t){let e=ee(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Ay),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Nx(n,t){let e=ee(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Pi.getTargetData(r,t).next(s=>s?(i=s,k.resolve(i)):e.Pi.allocateTargetId(r).next(o=>(i=new fc(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r})}async function Hm(n,t,e){let r=ee(n),i=r.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vo(o))throw o;B(Fy,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function OT(n,t,e){let r=ee(n),i=ne.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(u,l,h){let p=ee(u),g=p.xs.get(h);return g!==void 0?k.resolve(p.Ms.get(g)):p.Pi.getTargetData(l,h)})(r,o,Bn(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,e?i:ne.min(),e?s:ce())).next(c=>(Ox(r,zk(t),c),{documents:c,Qs:s})))}function Ox(n,t,e){let r=n.Os.get(t)||ne.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(t,r)}var Ld=class{constructor(){this.activeTargetIds=Qk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Gm=class{constructor(){this.Mo=new Ld,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ld,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var qm=class{Oo(t){}shutdown(){}};var MT="ConnectivityMonitor",Fd=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){B(MT,"Network connectivity changed: AVAILABLE");for(let t of this.qo)t(0)}ko(){B(MT,"Network connectivity changed: UNAVAILABLE");for(let t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pd=null;function Wm(){return pd===null?pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():pd++,"0x"+pd.toString(16)}var Lg="RestConnection",Mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Km=class{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Id?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,s){let o=Wm(),c=this.zo(t,e.toUriEncodedString());B(Lg,`Sending RPC '${t}' ${o}:`,c,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);let{host:l}=new URL(c),h=Mn(l);return this.Jo(t,c,u,r,h).then(p=>(B(Lg,`Received RPC '${t}' ${o}: `,p),p),p=>{throw no(Lg,`RPC '${t}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(t,e,r,i,s,o){return this.Go(t,e,r,i,s)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,e){let r=Mx[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}};var Qm=class{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}};var _t="WebChannelConnection",Ym=class extends Km{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,s){let o=Wm();return new Promise((c,u)=>{let l=new Rg;l.setWithCredentials(!0),l.listenOnce(Pg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tc.NO_ERROR:let p=l.getResponseJson();B(_t,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),c(p);break;case tc.TIMEOUT:B(_t,`RPC '${t}' ${o} timed out`),u(new L(O.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:let g=l.getStatus();if(B(_t,`RPC '${t}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let P=(function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN})(D.status);u(new L(P,D.message))}else u(new L(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(O.UNAVAILABLE,"Connection failed."));break;default:W(9055,{l_:t,streamId:o,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{B(_t,`RPC '${t}' ${o} completed.`)}});let h=JSON.stringify(i);B(_t,`RPC '${t}' ${o} sending request:`,i),l.send(e,"POST",h,r,15)})}T_(t,e,r){let i=Wm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Mg(),c=Og(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,e,r),u.encodeInitMessageHeaders=!0;let h=s.join("");B(_t,`Creating RPC '${t}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u);this.I_(p);let g=!1,y=!1,D=new Qm({Yo:C=>{y?B(_t,`Not sending because RPC '${t}' stream ${i} is closed:`,C):(g||(B(_t,`Opening RPC '${t}' stream ${i} transport.`),p.open(),g=!0),B(_t,`RPC '${t}' stream ${i} sending:`,C),p.send(C))},Zo:()=>p.close()}),P=(C,M,V)=>{C.listen(M,z=>{try{V(z)}catch(K){setTimeout(()=>{throw K},0)}})};return P(p,qs.EventType.OPEN,()=>{y||(B(_t,`RPC '${t}' stream ${i} transport opened.`),D.o_())}),P(p,qs.EventType.CLOSE,()=>{y||(y=!0,B(_t,`RPC '${t}' stream ${i} transport closed`),D.a_(),this.E_(p))}),P(p,qs.EventType.ERROR,C=>{y||(y=!0,no(_t,`RPC '${t}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),D.a_(new L(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,qs.EventType.MESSAGE,C=>{if(!y){let M=C.data[0];_e(!!M,16349);let V=M,z=V?.error||V[0]?.error;if(z){B(_t,`RPC '${t}' stream ${i} received error:`,z);let K=z.status,le=(function(v){let b=We[v];if(b!==void 0)return LC(b)})(K),de=z.message;le===void 0&&(le=O.INTERNAL,de="Unknown error status: "+K+" with message "+z.message),y=!0,D.a_(new L(le,de)),p.close()}else B(_t,`RPC '${t}' stream ${i} received:`,M),D.u_(M)}}),P(c,Ng.STAT_EVENT,C=>{C.stat===dd.PROXY?B(_t,`RPC '${t}' stream ${i} detected buffering proxy`):C.stat===dd.NOPROXY&&B(_t,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}};function Fg(){return typeof document<"u"?document:null}function oh(n){return new ym(n,!0)}var Vd=class{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();let e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var kT="PersistentStream",Ud=class{constructor(t,e,r,i,s,o,c,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vd(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===O.RESOURCE_EXHAUSTED?(fr(e.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;let t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===e&&this.G_(r,i)},r=>{t(()=>{let i=new L(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,e){let r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return B(kT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(B(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jm=class extends Ud{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();let e=dx(this.serializer,t),r=(function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?$n(o.readTime):ne.min()})(t);return this.listener.H_(e,r)}Y_(t){let e={};e.database=Em(this.serializer),e.addTarget=(function(s,o){let c,u=o.target;if(c=om(u)?{documents:px(s,u)}:{query:gx(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=FC(s,o.resumeToken);let l=vm(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){c.readTime=Od(s,o.snapshotVersion.toTimestamp());let l=vm(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,t);let r=yx(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){let e={};e.database=Em(this.serializer),e.removeTarget=t,this.q_(e)}},Xm=class extends Ud{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();let e=fx(t.writeResults,t.commitTime),r=$n(t.commitTime);return this.listener.na(r,e)}ra(){let t={};t.database=Em(this.serializer),this.q_(t)}ea(t){let e={streamToken:this.lastStreamToken,writes:t.map(r=>hx(this.serializer,r))};this.q_(e)}};var Zm=class{},ey=class extends Zm{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,_m(e,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(O.UNKNOWN,s.toString())})}Ho(t,e,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(t,_m(e,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},ty=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(e),this.aa=!1):B("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Qi="RemoteStore",ny=class{constructor(t,e,r,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Yi(this)&&(B(Qi,"Restarting streams for network reachability change."),await(async function(u){let l=ee(u);l.Ea.add(4),await _c(l),l.Ra.set("Unknown"),l.Ea.delete(4),await ah(l)})(this))})}),this.Ra=new ty(r,i)}};async function ah(n){if(Yi(n))for(let t of n.da)await t(!0)}async function _c(n){for(let t of n.da)await t(!1)}function WC(n,t){let e=ee(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),$y(e)?By(e):_o(e).O_()&&Uy(e,t))}function Vy(n,t){let e=ee(n),r=_o(e);e.Ia.delete(t),r.O_()&&KC(e,t),e.Ia.size===0&&(r.O_()?r.L_():Yi(e)&&e.Ra.set("Unknown"))}function Uy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ne.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}_o(n).Y_(t)}function KC(n,t){n.Va.Ue(t),_o(n).Z_(t)}function By(n){n.Va=new mm({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),_o(n).start(),n.Ra.ua()}function $y(n){return Yi(n)&&!_o(n).x_()&&n.Ia.size>0}function Yi(n){return ee(n).Ea.size===0}function QC(n){n.Va=void 0}async function kx(n){n.Ra.set("Online")}async function xx(n){n.Ia.forEach((t,e)=>{Uy(n,t)})}async function Lx(n,t){QC(n),$y(n)?(n.Ra.ha(t),By(n)):n.Ra.set("Unknown")}async function Fx(n,t,e){if(n.Ra.set("Online"),t instanceof Pd&&t.state===2&&t.cause)try{await(async function(i,s){let o=s.cause;for(let c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(n,t)}catch(r){B(Qi,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bd(n,r)}else if(t instanceof Zs?n.Va.Ze(t):t instanceof Rd?n.Va.st(t):n.Va.tt(t),!e.isEqual(ne.min()))try{let r=await qC(n.localStore);e.compareTo(r)>=0&&await(function(s,o){let c=s.Va.Tt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.Ia.get(l);h&&s.Ia.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),KC(s,u);let p=new fc(h.target,u,l,h.sequenceNumber);Uy(s,p)}),s.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){B(Qi,"Failed to raise snapshot:",r),await Bd(n,r)}}async function Bd(n,t,e){if(!vo(t))throw t;n.Ea.add(1),await _c(n),n.Ra.set("Offline"),e||(e=()=>qC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(Qi,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ah(n)})}function YC(n,t){return t().catch(e=>Bd(n,e,t))}async function ch(n){let t=ee(n),e=ei(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ay;for(;Vx(t);)try{let i=await Px(t.localStore,r);if(i===null){t.Ta.length===0&&e.L_();break}r=i.batchId,Ux(t,i)}catch(i){await Bd(t,i)}JC(t)&&XC(t)}function Vx(n){return Yi(n)&&n.Ta.length<10}function Ux(n,t){n.Ta.push(t);let e=ei(n);e.O_()&&e.X_&&e.ea(t.mutations)}function JC(n){return Yi(n)&&!ei(n).x_()&&n.Ta.length>0}function XC(n){ei(n).start()}async function Bx(n){ei(n).ra()}async function $x(n){let t=ei(n);for(let e of n.Ta)t.ea(e.mutations)}async function jx(n,t,e){let r=n.Ta.shift(),i=hm.from(r,t,e);await YC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ch(n)}async function zx(n,t){t&&ei(n).X_&&await(async function(r,i){if((function(o){return nx(o)&&o!==O.ABORTED})(i.code)){let s=r.Ta.shift();ei(r).B_(),await YC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ch(r)}})(n,t),JC(n)&&XC(n)}async function xT(n,t){let e=ee(n);e.asyncQueue.verifyOperationInProgress(),B(Qi,"RemoteStore received new credentials");let r=Yi(e);e.Ea.add(3),await _c(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ah(e)}async function Hx(n,t){let e=ee(n);t?(e.Ea.delete(2),await ah(e)):t||(e.Ea.add(2),await _c(e),e.Ra.set("Unknown"))}function _o(n){return n.ma||(n.ma=(function(e,r,i){let s=ee(e);return s.sa(),new Jm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:kx.bind(null,n),t_:xx.bind(null,n),r_:Lx.bind(null,n),H_:Fx.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),$y(n)?By(n):n.Ra.set("Unknown")):(await n.ma.stop(),QC(n))})),n.ma}function ei(n){return n.fa||(n.fa=(function(e,r,i){let s=ee(e);return s.sa(),new Xm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Bx.bind(null,n),r_:zx.bind(null,n),ta:$x.bind(null,n),na:jx.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await ch(n)):(await n.fa.stop(),n.Ta.length>0&&(B(Qi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var ry=class n{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){let o=Date.now()+r,c=new n(t,e,o,i,s);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jy(n,t){if(fr("AsyncQueue",`${t}: ${n}`),vo(n))return new L(O.UNAVAILABLE,`${t}: ${n}`);throw n}var $d=class n{static emptySet(t){return new n(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||H.comparator(e.key,r.key):(e,r)=>H.comparator(e.key,r.key),this.keyedMap=nc(),this.sortedSet=new Ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let r=new n;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}};var jd=class{constructor(){this.ga=new Ue(H.comparator)}track(t){let e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):W(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){let t=[];return this.ga.inorderTraversal((e,r)=>{t.push(r)}),t}},lo=class n{constructor(t,e,r,i,s,o,c,u,l){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,e,r,i,s){let o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new n(t,e,$d.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}};var iy=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}},sy=class{constructor(){this.queries=LT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){let i=ee(e),s=i.queries;i.queries=LT(),s.forEach((o,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new L(O.ABORTED,"Firestore shutting down"))}};function LT(){return new vr(n=>TC(n),ih)}async function ZC(n,t){let e=ee(n),r=3,i=t.query,s=e.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new iy,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){let c=jy(o,`Initialization of query '${Ks(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&zy(e)}async function eS(n,t){let e=ee(n),r=t.query,i=3,s=e.queries.get(r);if(s){let o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Gx(n,t){let e=ee(n),r=!1;for(let i of t){let s=i.query,o=e.queries.get(s);if(o){for(let c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&zy(e)}function qx(n,t,e){let r=ee(n),i=r.queries.get(t);if(i)for(let s of i.Sa)s.onError(e);r.queries.delete(t)}function zy(n){n.Ca.forEach(t=>{t.next()})}var oy,FT;(FT=oy||(oy={})).Ma="default",FT.Cache="cache";var zd=class{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){let r=[];for(let i of t.docChanges)i.type!==3&&r.push(i);t=new lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;let r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;let e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==oy.Cache}};var Hd=class{constructor(t){this.key=t}},Gd=class{constructor(t){this.key=t}},ay=class{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=CC(t),this.tu=new $d(this.eu)}get nu(){return this.Ya}ru(t,e){let r=e?e.iu:new jd,i=e?e.tu:this.tu,s=e?e.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,p)=>{let g=i.get(h),y=sh(this.query,p)?p:null,D=!!g&&this.mutatedKeys.has(g.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),C=!1;g&&y?g.data.isEqual(y.data)?D!==P&&(r.track({type:3,doc:y}),C=!0):this.su(g,y)||(r.track({type:2,doc:y}),C=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(c=!0)):!g&&y?(r.track({type:0,doc:y}),C=!0):g&&!y&&(r.track({type:1,doc:g}),C=!0,(u||l)&&(c=!0)),C&&(y?(o=o.add(y),s=P?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:c,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){let s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;let o=t.iu.ya();o.sort((h,p)=>(function(y,D){let P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Rt:C})}};return P(y)-P(D)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let c=e&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,o.length!==0||l?{snapshot:new lo(this.query,t.tu,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];let t=this.Xa;this.Xa=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let e=[];return t.forEach(r=>{this.Xa.has(r)||e.push(new Gd(r))}),this.Xa.forEach(r=>{t.has(r)||e.push(new Hd(r))}),e}cu(t){this.Ya=t.Qs,this.Xa=ce();let e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Hy="SyncEngine",cy=class{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}},uy=class{constructor(t){this.key=t,this.hu=!1}},ly=class{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new vr(c=>TC(c),ih),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(H.comparator),this.Au=new Map,this.Ru=new gc,this.Vu={},this.mu=new Map,this.fu=pc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function Wx(n,t,e=!0){let r=oS(n),i,s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await tS(r,t,e,!0),i}async function Kx(n,t){let e=oS(n);await tS(e,t,!0,!1)}async function tS(n,t,e,r){let i=await Nx(n.localStore,Bn(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e),c;return r&&(c=await Qx(n,t,s,o==="current",i.resumeToken)),n.isPrimaryClient&&e&&WC(n.remoteStore,i),c}async function Qx(n,t,e,r,i){n.pu=(p,g,y)=>(async function(P,C,M,V){let z=C.view.ru(M);z.Cs&&(z=await OT(P.localStore,C.query,!1).then(({documents:E})=>C.view.ru(E,z)));let K=V&&V.targetChanges.get(C.targetId),le=V&&V.targetMismatches.get(C.targetId)!=null,de=C.view.applyChanges(z,P.isPrimaryClient,K,le);return UT(P,C.targetId,de.au),de.snapshot})(n,p,g,y);let s=await OT(n.localStore,t,!0),o=new ay(t,s.Qs),c=o.ru(s.documents),u=hc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);UT(n,e,l.au);let h=new cy(t,e,o);return n.Tu.set(t,h),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),l.snapshot}async function Yx(n,t,e){let r=ee(n),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!ih(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&Vy(r.remoteStore,i.targetId),dy(r,i.targetId)}).catch(yo)):(dy(r,i.targetId),await Hm(r.localStore,i.targetId,!0))}async function Jx(n,t){let e=ee(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Vy(e.remoteStore,r.targetId))}async function Xx(n,t,e){let r=sL(n);try{let i=await(function(o,c){let u=ee(o),l=Je.now(),h=c.reduce((y,D)=>y.add(D.key),ce()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=_r(),P=ce();return u.Ns.getEntries(y,h).next(C=>{D=C,D.forEach((M,V)=>{V.isValidDocument()||(P=P.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(C=>{p=C;let M=[];for(let V of c){let z=tx(V,p.get(V.key).overlayedDocument);z!=null&&M.push(new zn(V.key,z,vC(z.value.mapValue),hr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,M,c)}).next(C=>{g=C;let M=C.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,C.batchId,M)})}).then(()=>({batchId:g.batchId,changes:AC(p)}))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,u){let l=o.Vu[o.currentUser.toKey()];l||(l=new Ue(ae)),l=l.insert(c,u),o.Vu[o.currentUser.toKey()]=l})(r,i.batchId,e),await bc(r,i.changes),await ch(r.remoteStore)}catch(i){let s=jy(i,"Failed to persist write");e.reject(s)}}async function nS(n,t){let e=ee(n);try{let r=await Dx(e.localStore,t);t.targetChanges.forEach((i,s)=>{let o=e.Au.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?_e(o.hu,14607):i.removedDocuments.size>0&&(_e(o.hu,42227),o.hu=!1))}),await bc(e,r,t)}catch(r){await yo(r)}}function VT(n,t,e){let r=ee(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){let i=[];r.Tu.forEach((s,o)=>{let c=o.view.va(t);c.snapshot&&i.push(c.snapshot)}),(function(o,c){let u=ee(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.va(c)&&(l=!0)}),l&&zy(u)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zx(n,t,e){let r=ee(n);r.sharedClientState.updateQueryState(t,"rejected",e);let i=r.Au.get(t),s=i&&i.key;if(s){let o=new Ue(H.comparator);o=o.insert(s,yn.newNoDocument(s,ne.min()));let c=ce().add(s),u=new Dd(ne.min(),new Map,new Ue(ae),o,c);await nS(r,u),r.du=r.du.remove(s),r.Au.delete(t),Gy(r)}else await Hm(r.localStore,t,!1).then(()=>dy(r,t,e)).catch(yo)}async function eL(n,t){let e=ee(n),r=t.batch.batchId;try{let i=await Ax(e.localStore,t);iS(e,r,null),rS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await bc(e,i)}catch(i){await yo(i)}}async function tL(n,t,e){let r=ee(n);try{let i=await(function(o,c){let u=ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(_e(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,t);iS(r,t,e),rS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await bc(r,i)}catch(i){await yo(i)}}function rS(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function iS(n,t,e){let r=ee(n),i=r.Vu[r.currentUser.toKey()];if(i){let s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function dy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||sS(n,r)})}function sS(n,t){n.Eu.delete(t.path.canonicalString());let e=n.du.get(t);e!==null&&(Vy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Gy(n))}function UT(n,t,e){for(let r of e)r instanceof Hd?(n.Ru.addReference(r.key,t),nL(n,r)):r instanceof Gd?(B(Hy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||sS(n,r.key)):W(19791,{wu:r})}function nL(n,t){let e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(B(Hy,"New document in limbo: "+e),n.Eu.add(r),Gy(n))}function Gy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let t=n.Eu.values().next().value;n.Eu.delete(t);let e=new H(Oe.fromString(t)),r=n.fu.next();n.Au.set(r,new uy(e)),n.du=n.du.insert(e,r),WC(n.remoteStore,new fc(Bn(My(e.path)),r,"TargetPurposeLimboResolution",Sy.ce))}}async function bc(n,t,e){let r=ee(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{o.push(r.pu(u,t,e).then(l=>{if((l||e)&&r.isPrimaryClient){let h=l?!l.fromCache:e?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Bm.As(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await(async function(u,l){let h=ee(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.Es,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>k.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!vo(p))throw p;B(Fy,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Ms.get(g),D=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(D);h.Ms=h.Ms.insert(g,P)}}})(r.localStore,s))}async function rL(n,t){let e=ee(n);if(!e.currentUser.isEqual(t)){B(Hy,"User change. New user:",t.toKey());let r=await GC(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach(c=>{c.forEach(u=>{u.reject(new L(O.CANCELLED,o))})}),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await bc(e,r.Ls)}}function iL(n,t){let e=ee(n),r=e.Au.get(t);if(r&&r.hu)return ce().add(r.key);{let i=ce(),s=e.Iu.get(t);if(!s)return i;for(let o of s){let c=e.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function oS(n){let t=ee(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,t),t.Pu.H_=Gx.bind(null,t.eventManager),t.Pu.yu=qx.bind(null,t.eventManager),t}function sL(n){let t=ee(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tL.bind(null,t),t}var aS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Sx(this.persistence,new jm,e.initialUser,this.serializer)}Cu(e){return new kd(Um.mi,this.serializer)}Du(e){return new Gm}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),hy=class extends aS{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_e(this.persistence.referenceDelegate instanceof xd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Sm(r,t.asyncQueue,e)}Cu(t){let e=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new kd(r=>xd.mi(r,e),this.serializer)}};var oL=(()=>{class n{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rL.bind(null,this.syncEngine),await Hx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sy})()}createDatastore(e){let r=oh(e.databaseInfo.databaseId),i=(function(o){return new Ym(o)})(e.databaseInfo);return(function(o,c,u,l){return new ey(o,c,u,l)})(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return(function(i,s,o,c,u){return new ny(i,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,r=>VT(this.syncEngine,r,0),(function(){return Fd.v()?new Fd:new qm})())}createSyncEngine(e,r){return(function(s,o,c,u,l,h,p){let g=new ly(s,o,c,u,l,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=ee(r);B(Qi,"RemoteStore shutting down."),i.Ea.add(5),await _c(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var qd=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var ti="FirestoreClient",fy=class{constructor(t,e,r,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=oc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{B(ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let r=jy(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function Vg(n,t){n.asyncQueue.verifyOperationInProgress(),B(ti,"Initializing OfflineComponentProvider");let e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GC(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function BT(n,t){n.asyncQueue.verifyOperationInProgress();let e=await aL(n);B(ti,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>xT(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xT(t.remoteStore,i)),n._onlineComponents=t}async function aL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(ti,"Using user provided OfflineComponentProvider");try{await Vg(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;no("Error using user provided cache. Falling back to memory cache: "+e),await Vg(n,new aS)}}else B(ti,"Using default OfflineComponentProvider"),await Vg(n,new hy(void 0));return n._offlineComponents}async function cS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(ti,"Using user provided OnlineComponentProvider"),await BT(n,n._uninitializedComponentsProvider._online)):(B(ti,"Using default OnlineComponentProvider"),await BT(n,new oL))),n._onlineComponents}function cL(n){return cS(n).then(t=>t.syncEngine)}async function uS(n){let t=await cS(n),e=t.eventManager;return e.onListen=Wx.bind(null,t.syncEngine),e.onUnlisten=Yx.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Kx.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Jx.bind(null,t.syncEngine),e}function uL(n,t,e={}){let r=new mn;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,u,l){let h=new qd({next:g=>{h.Nu(),o.enqueueAndForget(()=>eS(s,p));let y=g.docs.has(c);!y&&g.fromCache?l.reject(new L(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new L(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new zd(My(c.path),h,{includeMetadataChanges:!0,qa:!0});return ZC(s,p)})(await uS(n),n.asyncQueue,t,e,r)),r.promise}function lL(n,t,e={}){let r=new mn;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,u,l){let h=new qd({next:g=>{h.Nu(),o.enqueueAndForget(()=>eS(s,p)),g.fromCache&&u.source==="server"?l.reject(new L(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new zd(c,h,{includeMetadataChanges:!0,qa:!0});return ZC(s,p)})(await uS(n),n.asyncQueue,t,e,r)),r.promise}function lS(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var $T=new Map;var dS="firestore.googleapis.com",jT=!0,Wd=class{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new L(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=jT}else this.host=t.host,this.ssl=t.ssl??jT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ix)throw new L(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},ho=class{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wd(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ug;switch(r.type){case"firstParty":return new zg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let r=$T.get(e);r&&(B("ComponentProvider","Removing Datastore"),$T.delete(e),r.terminate())})(this),Promise.resolve()}};function dL(n,t,e,r={}){n=pr(n,ho);let i=Mn(t),s=n._getSettings(),o=re(A({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;i&&(Ps(`https://${c}`),Ns("Firestore",!0)),s.host!==dS&&s.host!==c&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=re(A({},s),{host:c,ssl:i,emulatorOptions:r});if(!kn(u,o)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=at.MOCK_USER;else{l=yw(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new L(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new at(p)}n._authCredentials=new Bg(new vd(l,h))}}var br=class n{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},gt=class n{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(vc(e,n._jsonSchema))return new n(t,r||null,new H(Oe.fromString(e.referencePath)))}};gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ye("string",gt._jsonSchemaVersion),referencePath:Ye("string")};var Kr=class n extends br{constructor(t,e,r){super(t,e,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new gt(this.firestore,null,new H(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function d9(n,t,...e){if(n=Ne(n),KT("collection","path",t),n instanceof ho){let r=Oe.fromString(t,...e);return cT(r),new Kr(n,null,r)}{if(!(n instanceof gt||n instanceof Kr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(t,...e));return cT(r),new Kr(n.firestore,null,r)}}function hL(n,t,...e){if(n=Ne(n),arguments.length===1&&(t=oc.newId()),KT("doc","path",t),n instanceof ho){let r=Oe.fromString(t,...e);return aT(r),new gt(n,null,new H(r))}{if(!(n instanceof gt||n instanceof Kr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(t,...e));return aT(r),new gt(n.firestore,n instanceof Kr?n.converter:null,new H(r))}}var zT="AsyncQueue",Kd=class{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vd(this,"async_queue_retry"),this._c=()=>{let r=Fg();r&&B(zT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;let e=Fg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;let e=Fg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});let e=new mn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;B(zT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){let e=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",HT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);let i=ry.createAndSchedule(this,t,e,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&W(47125,{Pc:HT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(let e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(let e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){let e=this.tc.indexOf(t);this.tc.splice(e,1)}};function HT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}var ni=class extends ho{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new Kd,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new Kd(t),this._firestoreClient=void 0,await t}}};function hS(n,t){let e=typeof n=="object"?n:ks(),r=typeof n=="string"?n:t||Id,i=Oi(e,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=bl("firestore");s&&dL(i,...s)}return i}function qy(n){if(n._terminated)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fL(n),n._firestoreClient}function fL(n){let t=n._freezeSettings(),e=(function(i,s,o,c){return new Kg(i,s,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,lS(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new fy(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}var Qr=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(bt.fromBase64String(t))}catch(e){throw new L(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(bt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vc(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:Ye("string",Qr._jsonSchemaVersion),bytes:Ye("string")};var fo=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new L(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var po=class{constructor(t){this._methodName=t}};var Yr=class n{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new L(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new L(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(vc(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};Yr._jsonSchemaVersion="firestore/geoPoint/1.0",Yr._jsonSchema={type:Ye("string",Yr._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};var Jr=class n{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vc(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new n(t.vectorValues);throw new L(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:Ye("string",Jr._jsonSchemaVersion),vectorValues:Ye("object")};var pL=/^__.*__$/,py=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new zn(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ki(t,this.data,e,this.fieldTransforms)}},Qd=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new zn(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function fS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ac:n})}}var gy=class n{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new n(A(A({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){let e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){let e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fS(this.Ac)&&pL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}},my=class{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||oh(t)}Cc(t,e,r,i=!1){return new gy({Ac:t,methodName:e,Dc:r,path:qt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uh(n){let t=n._freezeSettings(),e=oh(n._databaseId);return new my(n._databaseId,!!t.ignoreUndefinedProperties,e)}function gL(n,t,e,r,i,s={}){let o=n.Cc(s.merge||s.mergeFields?2:0,t,e,i);Wy("Data must be an object, but it was:",o,r);let c=gS(r,o),u,l;if(s.merge)u=new tn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let g=vy(t,p,e);if(!o.contains(g))throw new L(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yS(h,g)||h.push(g)}u=new tn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new py(new Gt(c),u,l)}var Yd=class n extends po{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof n}};var yy=class n extends po{_toFieldTransform(t){return new cm(t.path,new Gi)}isEqual(t){return t instanceof n}};function mL(n,t,e,r){let i=n.Cc(1,t,e);Wy("Data must be an object, but it was:",i,r);let s=[],o=Gt.empty();ri(r,(u,l)=>{let h=Ky(t,u,e);l=Ne(l);let p=i.yc(h);if(l instanceof Yd)s.push(h);else{let g=Ec(l,p);g!=null&&(s.push(h),o.set(h,g))}});let c=new tn(s);return new Qd(o,c,i.fieldTransforms)}function yL(n,t,e,r,i,s){let o=n.Cc(1,t,e),c=[vy(t,r,e)],u=[i];if(s.length%2!=0)throw new L(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(vy(t,s[g])),u.push(s[g+1]);let l=[],h=Gt.empty();for(let g=c.length-1;g>=0;--g)if(!yS(l,c[g])){let y=c[g],D=u[g];D=Ne(D);let P=o.yc(y);if(D instanceof Yd)l.push(y);else{let C=Ec(D,P);C!=null&&(l.push(y),h.set(y,C))}}let p=new tn(l);return new Qd(h,p,o.fieldTransforms)}function pS(n,t,e,r=!1){return Ec(e,n.Cc(r?4:3,t))}function Ec(n,t){if(mS(n=Ne(n)))return Wy("Unsupported field value:",t,n),gS(n,t);if(n instanceof po)return(function(r,i){if(!fS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let c of r){let u=Ec(c,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(n,t)}return(function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Je.fromDate(r);return{timestampValue:Od(i.serializer,s)}}if(r instanceof Je){let s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Od(i.serializer,s)}}if(r instanceof Yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:FC(i.serializer,r._byteString)};if(r instanceof gt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ly(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jr)return(function(o,c){return{mapValue:{fields:{[Dy]:{stringValue:Ry},[io]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Sc("VectorValues must only contain numeric values.");return xy(c.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${eh(r)}`)})(n,t)}function gS(n,t){let e={};return lC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ri(n,(r,i)=>{let s=Ec(i,t.mc(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function mS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof Yr||n instanceof Qr||n instanceof gt||n instanceof po||n instanceof Jr)}function Wy(n,t,e){if(!mS(e)||!QT(e)){let r=eh(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function vy(n,t,e){if((t=Ne(t))instanceof fo)return t._internalPath;if(typeof t=="string")return Ky(n,t);throw Jd("Field path arguments must be of type string or ",n,!1,void 0,e)}var vL=new RegExp("[~\\*/\\[\\]]");function Ky(n,t,e){if(t.search(vL)>=0)throw Jd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new fo(...t.split("."))._internalPath}catch{throw Jd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Jd(n,t,e,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(O.INVALID_ARGUMENT,c+n+u)}function yS(n,t){return n.some(e=>e.isEqual(t))}var mc=class{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new _y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(lh("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},_y=class extends mc{data(){return super.data()}};function lh(n,t){return typeof t=="string"?Ky(n,t):t instanceof fo?t._internalPath:t._delegate._internalPath}function _L(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yc=class{},go=class extends yc{};function h9(n,t,...e){let r=[];t instanceof yc&&r.push(t),r=r.concat(e),(function(s){let o=s.filter(u=>u instanceof by).length,c=s.filter(u=>u instanceof Xd).length;if(o>1||o>0&&c>0)throw new L(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Xd=class n extends go{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new n(t,e,r)}_apply(t){let e=this._parse(t);return vS(t._query,e),new br(t.firestore,t.converter,am(t._query,e))}_parse(t){let e=uh(t.firestore);return(function(s,o,c,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qT(p,h);let D=[];for(let P of p)D.push(GT(u,s,P));g={arrayValue:{values:D}}}else g=GT(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qT(p,h),g=pS(c,o,p,h==="in"||h==="not-in");return Qe.create(l,h,g)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function f9(n,t,e){let r=t,i=lh("where",n);return Xd._create(i,r,e)}var by=class n extends yc{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:vn.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:((function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)vS(o,u),o=am(o,u)})(t._query,e),new br(t.firestore,t.converter,am(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Ey=class n extends go{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new n(t,e)}_apply(t){let e=(function(i,s,o){if(i.startAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hi(s,o)})(t._query,this._field,this._direction);return new br(t.firestore,t.converter,(function(i,s){let o=i.explicitOrderBy.concat([s]);return new yr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(t._query,e))}};function p9(n,t="asc"){let e=t,r=lh("orderBy",n);return Ey._create(r,e)}var wy=class n extends go{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new n(t,e,r)}_apply(t){return new br(t.firestore,t.converter,Ad(t._query,this._limit,this._limitType))}};function g9(n){return _k("limit",n),wy._create("limit",n,"F")}var Iy=class n extends go{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new n(t,e,r)}_apply(t){let e=bL(t,this.type,this._docOrFields,this._inclusive);return new br(t.firestore,t.converter,(function(i,s){return new yr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(t._query,e))}};function m9(...n){return Iy._create("startAfter",n,!1)}function bL(n,t,e,r){if(e[0]=Ne(e[0]),e[0]instanceof mc)return(function(s,o,c,u,l){if(!u)throw new L(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let h=[];for(let p of Xs(s))if(p.field.isKeyField())h.push(Cd(o,u.key));else{let g=u.data.field(p.field);if(nh(g))throw new L(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=p.field.canonicalString();throw new L(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new Zr(h,l)})(n._query,n.firestore._databaseId,t,e[0]._document,r);{let i=uh(n.firestore);return(function(o,c,u,l,h,p){let g=o.explicitOrderBy;if(h.length>g.length)throw new L(O.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let D=0;D<h.length;D++){let P=h[D];if(g[D].field.isKeyField()){if(typeof P!="string")throw new L(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof P}`);if(!ky(o)&&P.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${P}' contains a slash.`);let C=o.path.child(Oe.fromString(P));if(!H.isDocumentKey(C))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);let M=new H(C);y.push(Cd(c,M))}else{let C=pS(u,l,P);y.push(C)}}return new Zr(y,p)})(n._query,n.firestore._databaseId,i,t,e,r)}}function GT(n,t,e){if(typeof(e=Ne(e))=="string"){if(e==="")throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ky(t)&&e.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let r=t.path.child(Oe.fromString(e));if(!H.isDocumentKey(r))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cd(n,new H(r))}if(e instanceof gt)return Cd(n,e._key);throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(e)}.`)}function qT(n,t){if(!Array.isArray(n)||n.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vS(n,t){let e=(function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var Ty=class{convertValue(t,e="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw W(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let r={};return ri(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){let e=t.fields?.[io].arrayValue?.values?.map(r=>ke(r.doubleValue));return new Jr(e)}convertGeoPoint(t){return new Yr(ke(t.latitude),ke(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":let r=rh(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(uc(t));default:return null}}convertTimestamp(t){let e=gr(t);return new Je(e.seconds,e.nanos)}convertDocumentKey(t,e){let r=Oe.fromString(t);_e(zC(r),9688,{name:t});let i=new Td(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(e)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function EL(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}var Bi=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},$i=class n extends mc{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new eo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let r=this._document.data.field(lh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=n._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};$i._jsonSchemaVersion="firestore/documentSnapshot/1.0",$i._jsonSchema={type:Ye("string",$i._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var eo=class extends $i{data(t={}){return super.data(t)}},to=class n{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new eo(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new eo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new eo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:wL(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function wL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:n})}}function y9(n){n=pr(n,gt);let t=pr(n.firestore,ni);return uL(qy(t),n._key).then(e=>IL(t,n,e))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Ye("string",to._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var Zd=class extends Ty{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qr(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new gt(this.firestore,null,e)}};function v9(n){n=pr(n,br);let t=pr(n.firestore,ni),e=qy(t),r=new Zd(t);return _L(n._query),lL(e,n._query).then(i=>new to(t,r,n,i))}function _9(n,t,e,...r){n=pr(n,gt);let i=pr(n.firestore,ni),s=uh(i),o;return o=typeof(t=Ne(t))=="string"||t instanceof fo?yL(s,"updateDoc",n._key,t,e,r):mL(s,"updateDoc",n._key,t),Qy(i,[o.toMutation(n._key,hr.exists(!0))])}function b9(n){return Qy(pr(n.firestore,ni),[new dc(n._key,hr.none())])}function E9(n,t){let e=pr(n.firestore,ni),r=hL(n),i=EL(n.converter,t);return Qy(e,[gL(uh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function Qy(n,t){return(function(r,i){let s=new mn;return r.asyncQueue.enqueueAndForget(async()=>Xx(await cL(r),i,s)),s.promise})(qy(n),t)}function IL(n,t,e){let r=e.docs.get(t._key),i=new Zd(n);return new $i(n,i,t._key,r,new Bi(e.hasPendingWrites,e.fromCache),t.converter)}function w9(){return new yy("serverTimestamp")}(function(t,e=!0){(function(i){mo=i})(Br),Ln(new Mt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new ni(new $g(r.getProvider("auth-internal")),new Hg(o,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Td(l.options.projectId,h)})(o,i),o);return s=A({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),kt(iT,sT,t),kt(iT,sT,"esm2020")})();var _S={production:!0,version:"1.0.0",encryptionKey:"hostinger-workspace-encryption-key-2026-secure-32chars",cloudFunctionsUrl:"https://us-central1-hostinger-workspace-manager.cloudfunctions.net",firebase:{apiKey:"AIzaSyBAtCWvxDHyYXA_xh4f3x7D7Rl82OQsxqA",authDomain:"hostinger-workspace-manager.firebaseapp.com",projectId:"hostinger-workspace-manager",storageBucket:"hostinger-workspace-manager.firebasestorage.app",messagingSenderId:"503361832560",appId:"1:503361832560:web:49801ef3604d20649316b5",measurementId:"G-962EJYLVCD"},api:{hostinger:{baseUrl:"https://api.hostinger.com/v1",timeout:1e4}}};var wS="functions";var Yy=class{constructor(t,e,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,St(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(t){let e=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:e,messagingToken:r,appCheckToken:i}}};var Jy="us-central1";var Xy=class{constructor(t,e,r,i,s=Jy,o=(...c)=>fetch(...c)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Yy(t,e,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(s);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Jy}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function TL(n,t,e){let r=Mn(t);n.emulatorOrigin=`http${r?"s":""}://${t}:${e}`,r&&(Ps(n.emulatorOrigin+"/backends"),Ns("Functions",!0))}var bS="@firebase/functions",ES="0.13.1";var CL="auth-internal",SL="app-check-internal",AL="messaging-internal";function DL(n){let t=(e,{instanceIdentifier:r})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider(CL),o=e.getProvider(AL),c=e.getProvider(SL);return new Xy(i,s,o,c,r)};Ln(new Mt(wS,t,"PUBLIC").setMultipleInstances(!0)),kt(bS,ES,n),kt(bS,ES,"esm2020")}function IS(n=ks(),t=Jy){let r=Oi(Ne(n),wS).getImmediate({identifier:t}),i=bl("functions");return i&&RL(r,...i),r}function RL(n,t,e){TL(Ne(n),t,e)}DL();var TS=class{static app=null;static authInstance=null;static firestoreInstance=null;static functionsInstance=null;static initialize(){if(this.app){console.warn("Firebase already initialized");return}this.app=kp(_S.firebase)}static getApp(){if(!this.app)throw new Error("Firebase not initialized. Call FirebaseAdapter.initialize() first.");return this.app}static getAuth(){return this.authInstance||(this.authInstance=Ag(this.getApp()),Cg(this.authInstance,cd).catch(t=>{console.error("Error setting auth persistence:",t)})),this.authInstance}static getFirestore(){return this.firestoreInstance||(this.firestoreInstance=hS(this.getApp())),this.firestoreInstance}static getFunctions(){return this.functionsInstance||(this.functionsInstance=IS(this.getApp(),"us-central1")),this.functionsInstance}};var Ji=class n{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(e,r):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(t),l=this.isDate(e);if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var g=Object.keys(t);if(o=g.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,g[s]))return!1;for(s=o;s--!==0;)if(c=g[s],!this.equalsByValue(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let r=e.split("."),i=t;for(let s=0,o=r.length;s<o;++s){if(i==null)return null;i=i[r[s]]}return i}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,r){let i;t&&e!==r&&(r>=t.length&&(r%=t.length,e%=t.length),t.splice(r,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>e){r.splice(o,0,t),s=!0;break}s||r.push(t)}else r.push(t)}static findIndexInList(t,e){let r=-1;if(e){for(let i=0;i<e.length;i++)if(e[i]==t){r=i;break}}return r}static contains(t,e){if(t!=null&&e&&e.length){for(let r of e)if(this.equals(t,r))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,r,i=1){let s=-1,o=this.isEmpty(t),c=this.isEmpty(e);return o&&c?s=0:o?s=i:c?s=-i:typeof t=="string"&&typeof e=="string"?s=t.localeCompare(e,r,{numeric:!0}):s=t<e?-1:t>e?1:0,s}static sort(t,e,r=1,i,s=1){let o=n.compare(t,e,i,r),c=r;return(n.isEmpty(t)||n.isEmpty(e))&&(c=s===1?r:s),c*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return A(A({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(e)}catch{r=t.lastIndexOf([...t].reverse().find(e))}return r}static findLast(t,e){let r;if(this.isNotEmpty(t))try{r=t.findLast(e)}catch{r=[...t].reverse().find(e)}return r}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=t instanceof Date,l=e instanceof Date;if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var g=Object.keys(t);if(o=g.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,g[s]))return!1;for(s=o;s--!==0;)if(c=g[s],!this.deepEquals(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static minifyCSS(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}static isString(t,e=!0){return typeof t=="string"&&(e||t!=="")}},CS=0;function G9(n="pn_id_"){return CS++,`${n}${CS}`}function PL(){let n=[],t=(s,o)=>{let c=n.length>0?n[n.length-1]:{key:s,value:o},u=c.value+(c.key===s?0:o)+2;return n.push({key:s,value:u}),u},e=s=>{n=n.filter(o=>o.value!==s)},r=()=>n.length>0?n[n.length-1].value:0,i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,c)=>{o&&(o.style.zIndex=String(t(s,c)))},clear:s=>{s&&(e(i(s)),s.style.zIndex="")},getCurrent:()=>r(),generateZIndex:t,revertZIndex:e}}var dh=PL(),q9=n=>!!n;var NL=Object.defineProperty,SS=Object.getOwnPropertySymbols,OL=Object.prototype.hasOwnProperty,ML=Object.prototype.propertyIsEnumerable,AS=(n,t,e)=>t in n?NL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,DS=(n,t)=>{for(var e in t||(t={}))OL.call(t,e)&&AS(n,e,t[e]);if(SS)for(var e of SS(t))ML.call(t,e)&&AS(n,e,t[e]);return n},kL=(n,t,e)=>new Promise((r,i)=>{var s=u=>{try{c(e.next(u))}catch(l){i(l)}},o=u=>{try{c(e.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((e=e.apply(n,t)).next())}),hh="animation",wc="transition";function xL(n){return n?n.disabled||!!(n.safe&&ew()):!1}function LL(n,t){return n?DS(DS({},n),Object.entries(t).reduce((e,[r,i])=>{var s;return e[r]=(s=n[r])!=null?s:i,e},{})):t}function FL(n){let{name:t,enterClass:e,leaveClass:r}=n||{};return{enter:{from:e?.from||`${t}-enter-from`,to:e?.to||`${t}-enter-to`,active:e?.active||`${t}-enter-active`},leave:{from:r?.from||`${t}-leave-from`,to:r?.to||`${t}-leave-to`,active:r?.active||`${t}-leave-active`}}}function VL(n){return{enter:{onBefore:n?.onBeforeEnter,onStart:n?.onEnter,onAfter:n?.onAfterEnter,onCancelled:n?.onEnterCancelled},leave:{onBefore:n?.onBeforeLeave,onStart:n?.onLeave,onAfter:n?.onAfterLeave,onCancelled:n?.onLeaveCancelled}}}function UL(n,t){let e=window.getComputedStyle(n),r=y=>{let D=e[`${y}Delay`],P=e[`${y}Duration`];return[D.split(", ").map(hp),P.split(", ").map(hp)]},[i,s]=r(wc),[o,c]=r(hh),u=Math.max(...s.map((y,D)=>y+i[D])),l=Math.max(...c.map((y,D)=>y+o[D])),h,p=0,g=0;return t===wc?u>0&&(h=wc,p=u,g=s.length):t===hh?l>0&&(h=hh,p=l,g=c.length):(p=Math.max(u,l),h=p>0?u>l?wc:hh:void 0,g=h?h===wc?s.length:c.length:0),{type:h,timeout:p,count:g}}function BL(n,t){return typeof n=="number"?n:typeof n=="object"&&n[t]!=null?n[t]:null}function $L(n,t=!0,e=!1){if(!t&&!e)return;let r=ol(n);t&&cp(n,"--pui-motion-height",r.height+"px"),e&&cp(n,"--pui-motion-width",r.width+"px")}var jL={name:"p",safe:!0,disabled:!1,enter:!0,leave:!0,autoHeight:!0,autoWidth:!1};function Zy(n,t){if(!n)throw new Error("Element is required.");let e={},r=!1,i={},s=null,o={},c=h=>{if(Object.assign(e,LL(h,jL)),!e.enter&&!e.leave)throw new Error("Enter or leave must be true.");o=VL(e),r=xL(e),i=FL(e),s=null},u=h=>kL(null,null,function*(){s?.();let{onBefore:p,onStart:g,onAfter:y,onCancelled:D}=o[h]||{},P={element:n};if(r){p?.(P),g?.(P),y?.(P);return}let{from:C,active:M,to:V}=i[h]||{};return $L(n,e.autoHeight,e.autoWidth),p?.(P),jt(n,C),jt(n,M),n.offsetHeight,zt(n,C),jt(n,V),g?.(P),new Promise(z=>{let K=BL(e.duration,h),le=()=>{zt(n,[V,M]),s=null},de=()=>{le(),y?.(P),z()};s=()=>{le(),D?.(P),z()},HL(n,e.type,K,de)})});c(t);let l={enter:()=>e.enter?u("enter"):Promise.resolve(),leave:()=>e.leave?u("leave"):Promise.resolve(),cancel:()=>{s?.(),s=null},update:(h,p)=>{if(!h)throw new Error("Element is required.");n=h,l.cancel(),c(p)}};return e.appear&&l.enter(),l}var zL=0;function HL(n,t,e,r){let i=n._motionEndId=++zL,s=()=>{i===n._motionEndId&&r()};if(e!=null)return setTimeout(s,e);let{type:o,timeout:c,count:u}=UL(n,t);if(!o){r();return}let l=o+"end",h=0,p=()=>{n.removeEventListener(l,g,!0),s()},g=y=>{y.target===n&&++h>=u&&p()};n.addEventListener(l,g,{capture:!0,once:!0}),setTimeout(()=>{h<u&&p()},c+1)}var GL=["*"];function qL(n,t){n&1&&Pt(0)}var fh=new WeakMap;function Ic(n,t){if(n)switch(fh.has(n)||fh.set(n,{display:n.style.display,visibility:n.style.visibility,maxHeight:n.style.maxHeight}),t){case"display":n.style.display="none";break;case"visibility":n.style.visibility="hidden",n.style.maxHeight="0";break}}function ph(n,t){if(!n)return;let e=fh.get(n)??n.style;switch(t){case"display":n.style.display=e?.display||"";break;case"visibility":n.style.visibility=e?.visibility||"",n.style.maxHeight=e?.maxHeight||"";break}fh.delete(n)}var WL=`
    .p-motion {
        display: block;
    }
`,KL={root:"p-motion"},ev=(()=>{class n extends Fe{name="motion";style=WL;classes=KL;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var RS=new j("MOTION_INSTANCE"),tv=(()=>{class n extends Ve{$pcMotion=R(RS,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=R(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=R(ev);visible=x(!1);mountOnEnter=x(!0);unmountOnLeave=x(!0);name=x(void 0);type=x(void 0);safe=x(void 0);disabled=x(!1);appear=x(!1);enter=x(!0);leave=x(!0);duration=x(void 0);hideStrategy=x("display");enterFromClass=x(void 0);enterToClass=x(void 0);enterActiveClass=x(void 0);leaveFromClass=x(void 0);leaveToClass=x(void 0);leaveActiveClass=x(void 0);options=x({});onBeforeEnter=dt();onEnter=dt();onAfterEnter=dt();onEnterCancelled=dt();onBeforeLeave=dt();onLeave=dt();onAfterLeave=dt();onLeaveCancelled=dt();motionOptions=ye(()=>{let e=this.options();return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;rendered=ue(!1);handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),De(()=>{let e=this.hideStrategy();this.isInitialMount?(Ic(this.$el,e),this.rendered.set(this.visible()&&this.mountOnEnter()||!this.mountOnEnter())):this.visible()&&!this.rendered()&&(Ic(this.$el,e),this.rendered.set(!0))}),De(()=>{this.motion||(this.motion=Zy(this.$el,this.motionOptions()))}),Yh(async()=>{if(!this.$el)return;let e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(await ll(),ph(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount||(await ll(),this.motion?.leave()?.then(async()=>{this.$el&&!this.cancelled&&!this.visible()&&(Ic(this.$el,r),this.unmountOnLeave()&&(await ll(),this.cancelled||this.rendered.set(!1)))})),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,ph(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Be({type:n,selectors:[["p-motion"]],hostVars:2,hostBindings:function(r,i){r&2&&je(i.cx("root"))},inputs:{visible:[1,"visible"],mountOnEnter:[1,"mountOnEnter"],unmountOnLeave:[1,"unmountOnLeave"],name:[1,"name"],type:[1,"type"],safe:[1,"safe"],disabled:[1,"disabled"],appear:[1,"appear"],enter:[1,"enter"],leave:[1,"leave"],duration:[1,"duration"],hideStrategy:[1,"hideStrategy"],enterFromClass:[1,"enterFromClass"],enterToClass:[1,"enterToClass"],enterActiveClass:[1,"enterActiveClass"],leaveFromClass:[1,"leaveFromClass"],leaveToClass:[1,"leaveToClass"],leaveActiveClass:[1,"leaveActiveClass"],options:[1,"options"]},outputs:{onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onEnterCancelled:"onEnterCancelled",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave",onLeaveCancelled:"onLeaveCancelled"},features:[ge([ev,{provide:RS,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X],ngContentSelectors:GL,decls:1,vars:1,template:function(r,i){r&1&&(Vt(),Yc(0,qL,1,0)),r&2&&Jc(i.rendered()?0:-1)},dependencies:[Tt,Sl],encapsulation:2})}return n})(),PS=new j("MOTION_DIRECTIVE_INSTANCE"),u5=(()=>{class n extends Ve{$pcMotionDirective=R(PS,{optional:!0,skipSelf:!0})??void 0;visible=x(!1,{alias:"pMotion"});name=x(void 0,{alias:"pMotionName"});type=x(void 0,{alias:"pMotionType"});safe=x(void 0,{alias:"pMotionSafe"});disabled=x(!1,{alias:"pMotionDisabled"});appear=x(!1,{alias:"pMotionAppear"});enter=x(!0,{alias:"pMotionEnter"});leave=x(!0,{alias:"pMotionLeave"});duration=x(void 0,{alias:"pMotionDuration"});hideStrategy=x("display",{alias:"pMotionHideStrategy"});enterFromClass=x(void 0,{alias:"pMotionEnterFromClass"});enterToClass=x(void 0,{alias:"pMotionEnterToClass"});enterActiveClass=x(void 0,{alias:"pMotionEnterActiveClass"});leaveFromClass=x(void 0,{alias:"pMotionLeaveFromClass"});leaveToClass=x(void 0,{alias:"pMotionLeaveToClass"});leaveActiveClass=x(void 0,{alias:"pMotionLeaveActiveClass"});options=x({},{alias:"pMotionOptions"});onBeforeEnter=dt({alias:"pMotionOnBeforeEnter"});onEnter=dt({alias:"pMotionOnEnter"});onAfterEnter=dt({alias:"pMotionOnAfterEnter"});onEnterCancelled=dt({alias:"pMotionOnEnterCancelled"});onBeforeLeave=dt({alias:"pMotionOnBeforeLeave"});onLeave=dt({alias:"pMotionOnLeave"});onAfterLeave=dt({alias:"pMotionOnAfterLeave"});onLeaveCancelled=dt({alias:"pMotionOnLeaveCancelled"});motionOptions=ye(()=>{let e=this.options()??{};return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),De(()=>{this.motion||(this.motion=Zy(this.$el,this.motionOptions()))}),Yh(()=>{if(!this.$el)return;let e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(ph(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount?Ic(this.$el,r):this.motion?.leave()?.then(()=>{this.$el&&!this.cancelled&&!this.visible()&&Ic(this.$el,r)}),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,ph(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=G({type:n,selectors:[["","pMotion",""]],inputs:{visible:[1,"pMotion","visible"],name:[1,"pMotionName","name"],type:[1,"pMotionType","type"],safe:[1,"pMotionSafe","safe"],disabled:[1,"pMotionDisabled","disabled"],appear:[1,"pMotionAppear","appear"],enter:[1,"pMotionEnter","enter"],leave:[1,"pMotionLeave","leave"],duration:[1,"pMotionDuration","duration"],hideStrategy:[1,"pMotionHideStrategy","hideStrategy"],enterFromClass:[1,"pMotionEnterFromClass","enterFromClass"],enterToClass:[1,"pMotionEnterToClass","enterToClass"],enterActiveClass:[1,"pMotionEnterActiveClass","enterActiveClass"],leaveFromClass:[1,"pMotionLeaveFromClass","leaveFromClass"],leaveToClass:[1,"pMotionLeaveToClass","leaveToClass"],leaveActiveClass:[1,"pMotionLeaveActiveClass","leaveActiveClass"],options:[1,"pMotionOptions","options"]},outputs:{onBeforeEnter:"pMotionOnBeforeEnter",onEnter:"pMotionOnEnter",onAfterEnter:"pMotionOnAfterEnter",onEnterCancelled:"pMotionOnEnterCancelled",onBeforeLeave:"pMotionOnBeforeLeave",onLeave:"pMotionOnLeave",onAfterLeave:"pMotionOnAfterLeave",onLeaveCancelled:"pMotionOnLeaveCancelled"},features:[ge([ev,{provide:PS,useExisting:n},{provide:pt,useExisting:n}]),X]})}return n})(),NS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ce({type:n});static \u0275inj=Te({imports:[tv]})}return n})();var OS=(()=>{class n extends jl{required=x(void 0,{transform:se});invalid=x(void 0,{transform:se});disabled=x(void 0,{transform:se});name=x();_disabled=ue(!1);$disabled=ye(()=>this.disabled()||this._disabled());onModelChange=()=>{};onModelTouched=()=>{};writeDisabledState(e){this._disabled.set(e)}writeControlValue(e,r){}writeValue(e){this.writeControlValue(e,this.writeModelValue.bind(this))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.writeDisabledState(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,inputs:{required:[1,"required"],invalid:[1,"invalid"],disabled:[1,"disabled"],name:[1,"name"]},features:[X]})}return n})();var v5=(()=>{class n extends OS{pcFluid=R(Mi,{optional:!0,host:!0,skipSelf:!0});fluid=x(void 0,{transform:se});variant=x();size=x();inputSize=x();pattern=x();min=x();max=x();step=x();minlength=x();maxlength=x();$variant=ye(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());get hasFluid(){return this.fluid()??!!this.pcFluid}static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275dir=G({type:n,inputs:{fluid:[1,"fluid"],variant:[1,"variant"],size:[1,"size"],inputSize:[1,"inputSize"],pattern:[1,"pattern"],min:[1,"min"],max:[1,"max"],step:[1,"step"],minlength:[1,"minlength"],maxlength:[1,"maxlength"]},features:[X]})}return n})();var MS=["content"],YL=["overlay"],kS=["*","*"],JL=()=>({mode:null}),FS=n=>({$implicit:n}),XL=n=>({mode:n});function ZL(n,t){n&1&&Zo(0)}function eF(n,t){if(n&1&&(Pt(0),sn(1,ZL,1,0,"ng-container",3)),n&2){let e=xe();Ge(),Se("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",ru(3,FS,A_(2,JL)))}}function tF(n,t){n&1&&Zo(0)}function nF(n,t){if(n&1){let e=b_();vi(0,"div",5,0),lt("click",function(){Kn(e);let i=xe(2);return Qn(i.onOverlayClick())}),vi(2,"p-motion",6),lt("onBeforeEnter",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayBeforeEnter(i))})("onEnter",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayEnter(i))})("onAfterEnter",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayAfterEnter(i))})("onBeforeLeave",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayBeforeLeave(i))})("onLeave",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayLeave(i))})("onAfterLeave",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayAfterLeave(i))}),vi(3,"div",5,1),lt("click",function(i){Kn(e);let s=xe(2);return Qn(s.onOverlayContentClick(i))}),Pt(5,1),sn(6,tF,1,0,"ng-container",3),Jo()()()}if(n&2){let e=xe(2);eu(e.sx("root")),je(e.cn(e.cx("root"),e.styleClass)),Se("pBind",e.ptm("root")),Ge(2),Se("visible",e.visible)("appear",!0)("options",e.computedMotionOptions()),Ge(),je(e.cn(e.cx("content"),e.contentStyleClass)),Se("pBind",e.ptm("content")),Ge(3),Se("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",ru(15,FS,ru(13,XL,e.overlayMode)))}}function rF(n,t){if(n&1&&sn(0,nF,7,17,"div",4),n&2){let e=xe();Se("ngIf",e.modalVisible)}}var iF={root:()=>({position:"absolute",top:"0"})},sF=`
.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
    will-change: transform;
}

/* Github Issue #18560 */
.p-component-overlay.p-component {
    position: relative;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}

.p-overlay-content ~ .p-overlay-content {
    display: none;
}
`,oF={host:"p-overlay-host",root:({instance:n})=>["p-overlay p-component",{"p-overlay-modal p-overlay-mask p-overlay-mask-enter-active":n.modal,"p-overlay-center":n.modal&&n.overlayResponsiveDirection==="center","p-overlay-top":n.modal&&n.overlayResponsiveDirection==="top","p-overlay-top-start":n.modal&&n.overlayResponsiveDirection==="top-start","p-overlay-top-end":n.modal&&n.overlayResponsiveDirection==="top-end","p-overlay-bottom":n.modal&&n.overlayResponsiveDirection==="bottom","p-overlay-bottom-start":n.modal&&n.overlayResponsiveDirection==="bottom-start","p-overlay-bottom-end":n.modal&&n.overlayResponsiveDirection==="bottom-end","p-overlay-left":n.modal&&n.overlayResponsiveDirection==="left","p-overlay-left-start":n.modal&&n.overlayResponsiveDirection==="left-start","p-overlay-left-end":n.modal&&n.overlayResponsiveDirection==="left-end","p-overlay-right":n.modal&&n.overlayResponsiveDirection==="right","p-overlay-right-start":n.modal&&n.overlayResponsiveDirection==="right-start","p-overlay-right-end":n.modal&&n.overlayResponsiveDirection==="right-end"}],content:"p-overlay-content"},xS=(()=>{class n extends Fe{name="overlay";style=sF;classes=oF;inlineStyles=iF;static \u0275fac=(()=>{let e;return function(i){return(e||(e=J(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),LS=new j("OVERLAY_INSTANCE"),B5=(()=>{class n extends Ve{overlayService;zone;$pcOverlay=R(LS,{optional:!0,skipSelf:!0})??void 0;hostName="";get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Ji.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Ji.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Ji.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Ji.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}appendTo=x(void 0);inline=x(!1);motionOptions=x(void 0);computedMotionOptions=ye(()=>A(A({},this.ptm("motion")),this.motionOptions()||this.overlayOptions?.motionOptions));visibleChange=new fe;onBeforeShow=new fe;onShow=new fe;onBeforeHide=new fe;onHide=new fe;onAnimationStart=new fe;onAnimationDone=new fe;onBeforeEnter=new fe;onEnter=new fe;onAfterEnter=new fe;onBeforeLeave=new fe;onLeave=new fe;onAfterLeave=new fe;overlayViewChild;contentViewChild;contentTemplate;templates;hostAttrSelector=x();$appendTo=ye(()=>this.appendTo()||this.config.overlayAppendTo());_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=R(xS);bindDirectiveInstance=R(pe,{self:!0});documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Nr(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return A(A({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return A(A({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return np(this.target,this.el?.nativeElement)}constructor(e,r){super(),this.overlayService=e,this.zone=r}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}show(e,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ip(this.targetEl),this.modal&&jt(this.document?.body,"p-overflow-hidden")}hide(e,r=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ip(this.targetEl),this.modal&&zt(this.document?.body,"p-overflow-hidden");else return}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}container=ue(void 0);onOverlayBeforeEnter(e){this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.container.set(this.overlayEl||e.element),this.show(this.overlayEl,!0),this.hostAttrSelector()&&this.overlayEl&&this.overlayEl.setAttribute(this.hostAttrSelector(),""),this.appendOverlay(),this.alignOverlay(),this.setZIndex(),this.handleEvents("onBeforeEnter",e)}onOverlayEnter(e){this.handleEvents("onEnter",e)}onOverlayAfterEnter(e){this.bindListeners(),this.handleEvents("onAfterEnter",e)}onOverlayBeforeLeave(e){this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.handleEvents("onBeforeLeave",e)}onOverlayLeave(e){this.handleEvents("onLeave",e)}onOverlayAfterLeave(e){this.hide(this.overlayEl,!0),this.container.set(null),this.unbindListeners(),this.appendOverlay(),dh.clear(this.overlayEl),this.modalVisible=!1,this.cd.markForCheck(),this.handleEvents("onAfterLeave",e)}handleEvents(e,r){this[e].emit(r),this.options&&this.options[e]&&this.options[e](r),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](r)}setZIndex(){this.autoZIndex&&dh.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode])}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?rp(this.document.body,this.overlayEl):rp(this.$appendTo(),this.overlayEl))}alignOverlay(){this.modal||this.overlayEl&&this.targetEl&&(this.overlayEl.style.minWidth=al(this.targetEl)+"px",this.$appendTo()==="self"?QE(this.overlayEl,this.targetEl):KE(this.overlayEl,this.targetEl))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Cl(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let i=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&i}):i)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Pa()}):!Pa())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!Pa()}):!Pa())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}onDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&this.$appendTo()!=="self"&&(this.renderer.appendChild(this.el.nativeElement,this.overlayEl),dh.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(r){return new(r||n)($(lw),$(rn))};static \u0275cmp=Be({type:n,selectors:[["p-overlay"]],contentQueries:function(r,i,s){if(r&1&&hs(s,MS,4)(s,ml,4),r&2){let o;Qt(o=Yt())&&(i.contentTemplate=o.first),Qt(o=Yt())&&(i.templates=o)}},viewQuery:function(r,i){if(r&1&&I_(YL,5)(MS,5),r&2){let s;Qt(s=Yt())&&(i.overlayViewChild=s.first),Qt(s=Yt())&&(i.contentViewChild=s.first)}},inputs:{hostName:"hostName",visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options",appendTo:[1,"appendTo"],inline:[1,"inline"],motionOptions:[1,"motionOptions"],hostAttrSelector:[1,"hostAttrSelector"]},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone",onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave"},features:[ge([xS,{provide:LS,useExisting:n},{provide:pt,useExisting:n}]),wt([pe]),X],ngContentSelectors:kS,decls:2,vars:1,consts:[["overlay",""],["content",""],[3,"class","style","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","style","pBind","click",4,"ngIf"],[3,"click","pBind"],["name","p-anchored-overlay",3,"onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","visible","appear","options"]],template:function(r,i){r&1&&(Vt(kS),Yc(0,eF,2,5)(1,rF,1,1,"div",2)),r&2&&Jc(i.inline()?0:1)},dependencies:[Tt,sa,oa,On,pe,NS,tv],encapsulation:2,changeDetection:0})}return n})();export{OA as a,ub as b,sa as c,cf as d,oa as e,kA as f,xA as g,LA as h,FA as i,Tt as j,vV as k,Nr as l,bf as m,eD as n,Cn as o,Tn as p,xb as q,SD as r,AD as s,RD as t,Rn as u,Hf as v,Pn as w,sl as x,l1 as y,f1 as z,BE as A,p1 as B,HE as C,jt as D,zt as E,WE as F,E1 as G,w1 as H,KE as I,zU as J,al as K,QE as L,rp as M,ul as N,HU as O,C1 as P,Rs as Q,ip as R,GU as S,XE as T,qU as U,sp as V,WU as W,KU as X,ZE as Y,op as Z,QU as _,ap as $,YU as aa,JU as ba,XU as ca,Pa as da,ZU as ea,eB as fa,nw as ga,Nn as ha,P1 as ia,ve as ja,dl as ka,Na as la,iB as ma,sB as na,dp as oa,oB as pa,aB as qa,Oa as ra,N1 as sa,fB as ta,ft as ua,pB as va,gB as wa,mB as xa,lw as ya,yB as za,vB as Aa,ml as Ba,On as Ca,_B as Da,Vp as Ea,Fe as Fa,E$ as Ga,Ot as Ha,iM as Ia,sM as Ja,oM as Ka,Je as La,d9 as Ma,hL as Na,h9 as Oa,f9 as Pa,p9 as Qa,g9 as Ra,m9 as Sa,y9 as Ta,v9 as Ua,_9 as Va,b9 as Wa,E9 as Xa,w9 as Ya,_S as Za,TS as _a,pt as $a,Ve as ab,Bp as bb,F$ as cb,V$ as db,Cl as eb,Zw as fb,pe as gb,Sl as hb,$p as ib,r0 as jb,Mi as kb,Al as lb,a0 as mb,$4 as nb,l0 as ob,Tj as pb,LN as qb,Cj as rb,Ji as sb,G9 as tb,dh as ub,q9 as vb,Hs as wb,VN as xb,P0 as yb,_0 as zb,ar as Ab,zj as Bb,Hj as Cb,cO as Db,dO as Eb,qj as Fb,pO as Gb,mO as Hb,J0 as Ib,Wj as Jb,Kj as Kb,Qj as Lb,Yj as Mb,Jj as Nb,tv as Ob,u5 as Pb,NS as Qb,jl as Rb,OS as Sb,v5 as Tb,_6 as Ub,b6 as Vb,B5 as Wb};

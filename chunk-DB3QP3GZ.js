import{a as ri,b as si}from"./chunk-DIOPOZ55.js";import"./chunk-CNCVOR3E.js";import{a as At}from"./chunk-4IUIVLUN.js";import"./chunk-2RWR6RJP.js";import{a as ni,b as oi,c as ee,d as te}from"./chunk-PS3FPDDF.js";import{b as ai,c as li}from"./chunk-EKL4EG33.js";import{a as _i,b as gi}from"./chunk-FWXALOBW.js";import{a as di,e as mi,f as ui}from"./chunk-O6K3AIZZ.js";import"./chunk-WW6MSIHO.js";import"./chunk-FFA64DBE.js";import"./chunk-5WKTPFE2.js";import{a as ci,b as pi}from"./chunk-ZVNDOEXM.js";import{b as Pe,c as hi,d as fi}from"./chunk-KT6VCDEH.js";import{a as ti,b as ii}from"./chunk-JPKGTB4I.js";import"./chunk-LSJGMPCD.js";import{a as Rt,b as Ht,c as Kt,d as X,e as de,f as Qt,h as Yt,j as Xt,l as ei}from"./chunk-L6VG4DHT.js";import{a as H,b as K}from"./chunk-GUUVKBTU.js";import{a as Ft}from"./chunk-HPQ7OMYE.js";import{Aa as Ie,Bb as ke,Ca as je,Gb as Ee,Mb as Ut,N as Ge,O as ae,Ob as Ye,Pb as Zt,Q as St,Qb as Jt,R as Ot,U as Tt,Ya as Ue,Za as Qe,_a as Lt,a as Ke,ab as Bt,b as $e,c as Se,cb as zt,d as bt,db as j,e as Oe,eb as Nt,f as xt,fa as Mt,ga as le,ha as re,hb as Wt,i as U,ia as Te,ka as Me,kb as $t,la as It,na as wt,nb as pe,oa as kt,ob as J,pb as qt,qa as ot,ta as Et,tb as Gt,u as qe,ua as at,va as Pt,vb as jt,wa as Dt,xa as Vt,ya as B,yb as we,za as Q}from"./chunk-M5CBQPDY.js";import{$b as L,Cb as P,Db as D,Eb as A,Ec as E,Fb as w,Fc as xe,Jb as v,Kb as p,Lb as ht,Mb as it,N as dt,Nb as Re,O as Be,Oa as l,Ob as ft,P as ze,Pb as y,Qb as b,R as ge,T as V,Ub as ne,Vb as ve,Wb as Ce,Xa as ce,Xb as He,Y as h,Yb as g,Z as f,Zb as u,_ as he,_b as k,a as ct,ab as F,b as pt,bb as Ne,bc as $,cc as q,da as W,dc as G,ea as mt,eb as We,ec as oe,fb as fe,fc as nt,gb as m,gc as R,hc as ye,ia as x,ic as vt,la as ut,mb as S,nc as Ct,oa as se,pb as O,pc as yt,qb as T,qc as z,rb as _t,sb as gt,tb as Y,tc as N,ub as Z,vb as c,vc as be,wb as r,wc as I,xb as s,yb as _}from"./chunk-ZVXIGZDY.js";function Vi(t,o){if(t&1&&(r(0,"div",8),_(1,"i",9),r(2,"h3"),u(3),s()()),t&2){let e=p();l(),g(e.icon()),l(2),k(e.title())}}function Fi(t,o){if(t&1&&(r(0,"div",10),_(1,"i",11),u(2," Total: "),r(3,"strong"),u(4),s()()),t&2){let e=p();l(4),k(e.totalCount())}}var Ze=class t{title=I.required();icon=I.required();count7Days=I.required();count15Days=I.required();count30Days=I.required();count60Days=I.required();totalCount=I.required();getChipClass(o,e){if(!o||o===0)return"chip-zero";switch(e){case"7d":return"chip-critical";case"15d":return"chip-warning";case"30d":return"chip-info";case"60d":return"chip-success";default:return"chip-info"}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-expiration-card"]],inputs:{title:[1,"title"],icon:[1,"icon"],count7Days:[1,"count7Days"],count15Days:[1,"count15Days"],count30Days:[1,"count30Days"],count60Days:[1,"count60Days"],totalCount:[1,"totalCount"]},decls:24,vars:16,consts:[["styleClass","expiration-card"],["pTemplate","header"],[1,"expiration-content"],[1,"expiration-row"],[1,"period-label"],[1,"pi","pi-clock"],[3,"label","styleClass"],["pTemplate","footer"],[1,"card-header-custom"],[1,"card-icon"],[1,"total-count"],[1,"pi","pi-list"]],template:function(e,i){e&1&&(r(0,"p-card",0),m(1,Vi,4,3,"ng-template",1),r(2,"div",2)(3,"div",3)(4,"span",4),_(5,"i",5),u(6," 7 d\xEDas "),s(),_(7,"p-chip",6),s(),r(8,"div",3)(9,"span",4),_(10,"i",5),u(11," 15 d\xEDas "),s(),_(12,"p-chip",6),s(),r(13,"div",3)(14,"span",4),_(15,"i",5),u(16," 30 d\xEDas "),s(),_(17,"p-chip",6),s(),r(18,"div",3)(19,"span",4),_(20,"i",5),u(21," 60 d\xEDas "),s(),_(22,"p-chip",6),s()(),m(23,Fi,5,1,"ng-template",7),s()),e&2&&(l(3),Ce("has-items",i.count7Days()>0),l(4),c("label",i.count7Days().toString())("styleClass",i.getChipClass(i.count7Days(),"7d")),l(),Ce("has-items",i.count15Days()>0),l(4),c("label",i.count15Days().toString())("styleClass",i.getChipClass(i.count15Days(),"15d")),l(),Ce("has-items",i.count30Days()>0),l(4),c("label",i.count30Days().toString())("styleClass",i.getChipClass(i.count30Days(),"30d")),l(),Ce("has-items",i.count60Days()>0),l(4),c("label",i.count60Days().toString())("styleClass",i.getChipClass(i.count60Days(),"60d")))},dependencies:[K,H,B,te,ee],styles:[".expiration-card[_ngcontent-%COMP%]{height:100%}.card-header-custom[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.25rem;background:var(--surface-100)}.card-icon[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color)}.card-header-custom[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-color)}.expiration-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:.5rem 0}.expiration-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid var(--surface-200);transition:background-color .2s ease}.expiration-row.has-items[_ngcontent-%COMP%]{background-color:var(--surface-50);padding:.75rem 1rem;margin:0 -1rem;border-radius:6px}.expiration-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.period-label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-color-secondary);display:flex;align-items:center;gap:.5rem}.period-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:var(--primary-color)}.total-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;justify-content:flex-end;font-size:1.1rem;color:var(--text-color-secondary);padding-top:.5rem;border-top:2px solid var(--surface-300)}.total-count[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}[_nghost-%COMP%]     .chip-critical{background-color:var(--red-600)!important;color:#fff!important;font-weight:600;border:2px solid var(--red-700)}[_nghost-%COMP%]     .chip-warning{background-color:var(--orange-600)!important;color:#fff!important;font-weight:600;border:2px solid var(--orange-700)}[_nghost-%COMP%]     .chip-info{background-color:var(--blue-600)!important;color:#fff!important;font-weight:600;border:2px solid var(--blue-700)}[_nghost-%COMP%]     .chip-success{background-color:var(--green-600)!important;color:#fff!important;font-weight:600;border:2px solid var(--green-700)}[_nghost-%COMP%]     .chip-zero{background-color:transparent!important;color:var(--text-color)!important;border:2px dashed var(--surface-400);font-weight:600;opacity:.8}"],changeDetection:0})};var Ai=(t,o)=>o.id;function Li(t,o){t&1&&(r(0,"div",4),_(1,"i",5),r(2,"h3"),u(3,"Workspaces con Problemas"),s()())}function Bi(t,o){t&1&&(r(0,"div",2),_(1,"i",6),r(2,"p"),u(3,"\xA1Todos los workspaces est\xE1n activos!"),s()())}function zi(t,o){if(t&1){let e=w();r(0,"div",7)(1,"div",8)(2,"div",9),u(3),s(),r(4,"div",10),u(5),s()(),r(6,"div",11),_(7,"p-tag",12),r(8,"p-button",13),v("onClick",function(){let n=h(e).$implicit,a=p(2);return f(a.navigateToWorkspace(n.id))}),s()()()}if(t&2){let e=o.$implicit,i=p(2);l(3),k(e.name),l(2),L(" ",e.description||"Sin descripci\xF3n"," "),l(2),c("value",i.getStatusLabel(e.status))("severity",i.getStatusSeverity(e.status)),l(),c("text",!0)("rounded",!0)}}function Ni(t,o){if(t&1&&(r(0,"div",3),Y(1,zi,9,6,"div",7,Ai),s()),t&2){let e=p();l(),Z(e.workspaces())}}var Je=class t{constructor(o){this.router=o}workspaces=I.required();navigateToWorkspace(o){this.router.navigate(["/workspaces",o])}getStatusLabel(o){switch(o){case"ACTIVE":return"Activo";case"INVALID_TOKEN":return"Token Inv\xE1lido";case"RATE_LIMITED":return"L\xEDmite Excedido";case"ERROR":return"Error";case"DISABLED":return"Desactivado";default:return o}}getStatusSeverity(o){switch(o){case"ACTIVE":return"success";case"INVALID_TOKEN":case"ERROR":return"danger";case"RATE_LIMITED":return"warn";case"DISABLED":return"info";default:return"info"}}static \u0275fac=function(e){return new(e||t)(ce(qe))};static \u0275cmp=F({type:t,selectors:[["app-workspaces-alert-panel"]],inputs:{workspaces:[1,"workspaces"]},decls:4,vars:1,consts:[["styleClass","alert-panel"],["pTemplate","header"],[1,"no-issues"],[1,"workspaces-list"],[1,"card-header-custom"],[1,"pi","pi-exclamation-triangle","card-icon"],[1,"pi","pi-check-circle",2,"font-size","3rem","color","var(--green-500)"],[1,"workspace-item"],[1,"workspace-info"],[1,"workspace-name"],[1,"workspace-description"],[1,"workspace-actions"],[3,"value","severity"],["icon","pi pi-arrow-right","pTooltip","Ver detalles",3,"onClick","text","rounded"]],template:function(e,i){e&1&&(r(0,"p-card",0),m(1,Li,4,0,"ng-template",1),O(2,Bi,4,0,"div",2)(3,Ni,3,0,"div",3),s()),e&2&&(l(2),T(i.workspaces().length===0?2:3))},dependencies:[K,H,B,ii,ti,J,pe],styles:[".alert-panel[_ngcontent-%COMP%]{height:100%}.card-header-custom[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.25rem;background:var(--orange-50)}.card-icon[_ngcontent-%COMP%]{font-size:2rem;color:var(--orange-500)}.card-header-custom[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-color)}.no-issues[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-color-secondary)}.no-issues[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem}.workspaces-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.workspace-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border:1px solid var(--surface-200);border-radius:var(--border-radius);background:var(--surface-card);transition:all .2s ease}.workspace-item[_ngcontent-%COMP%]:hover{background:var(--surface-100);border-color:var(--primary-color);box-shadow:0 2px 4px #0000001a}.workspace-info[_ngcontent-%COMP%]{flex:1}.workspace-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem;color:var(--text-color);margin-bottom:.25rem}.workspace-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-color-secondary)}.workspace-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}"],changeDetection:0})};function Wi(t,o){if(t&1&&(r(0,"div",3),_(1,"i",4),r(2,"h3"),u(3),s()()),t&2){let e=p();l(3),k(e.title())}}var De=class t{data=I.required();title=I("Tendencias de Vencimientos");chartData=N(()=>{let o=this.data();return{labels:o.map(e=>e.label),datasets:[{label:"Dominios",data:o.map(e=>e.domains),backgroundColor:"rgba(100, 116, 139, 0.8)",borderColor:"rgb(100, 116, 139)",borderWidth:1},{label:"Suscripciones",data:o.map(e=>e.subscriptions),backgroundColor:"rgba(71, 85, 105, 0.8)",borderColor:"rgb(71, 85, 105)",borderWidth:1}]}});chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15}},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1},title:{display:!0,text:"Cantidad"}},x:{title:{display:!0,text:"Per\xEDodo"}}}};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-expiration-trends-chart"]],inputs:{data:[1,"data"],title:[1,"title"]},decls:4,vars:2,consts:[["pTemplate","header"],[1,"chart-container"],["type","bar","height","300px",3,"data","options"],[1,"chart-header"],[1,"pi","pi-chart-bar"]],template:function(e,i){e&1&&(r(0,"p-card"),m(1,Wi,4,1,"ng-template",0),r(2,"div",1),_(3,"p-chart",2),s()()),e&2&&(l(3),c("data",i.chartData())("options",i.chartOptions))},dependencies:[gi,_i,B,K,H],styles:[".chart-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid var(--surface-border)}.chart-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color)}.chart-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.chart-container[_ngcontent-%COMP%]{padding:1rem;min-height:300px}"],changeDetection:0})};var bi=`
    .p-timeline {
        display: flex;
        flex-grow: 1;
        flex-direction: column;
        direction: ltr;
    }

    .p-timeline-left .p-timeline-event-opposite {
        text-align: right;
    }

    .p-timeline-left .p-timeline-event-content {
        text-align: left;
    }

    .p-timeline-right .p-timeline-event {
        flex-direction: row-reverse;
    }

    .p-timeline-right .p-timeline-event-opposite {
        text-align: left;
    }

    .p-timeline-right .p-timeline-event-content {
        text-align: right;
    }

    .p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) {
        flex-direction: row-reverse;
    }

    .p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite {
        text-align: right;
    }

    .p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content {
        text-align: left;
    }

    .p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-opposite {
        text-align: left;
    }

    .p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-content {
        text-align: right;
    }

    .p-timeline-vertical .p-timeline-event-opposite,
    .p-timeline-vertical .p-timeline-event-content {
        padding: dt('timeline.vertical.event.content.padding');
    }

    .p-timeline-vertical .p-timeline-event-connector {
        width: dt('timeline.event.connector.size');
    }

    .p-timeline-event {
        display: flex;
        position: relative;
        min-height: dt('timeline.event.min.height');
    }

    .p-timeline-event:last-child {
        min-height: 0;
    }

    .p-timeline-event-opposite {
        flex: 1;
    }

    .p-timeline-event-content {
        flex: 1;
    }

    .p-timeline-event-separator {
        flex: 0;
        display: flex;
        align-items: center;
        flex-direction: column;
    }

    .p-timeline-event-marker {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        position: relative;
        align-self: baseline;
        border-width: dt('timeline.event.marker.border.width');
        border-style: solid;
        border-color: dt('timeline.event.marker.border.color');
        border-radius: dt('timeline.event.marker.border.radius');
        width: dt('timeline.event.marker.size');
        height: dt('timeline.event.marker.size');
        background: dt('timeline.event.marker.background');
    }

    .p-timeline-event-marker::before {
        content: ' ';
        border-radius: dt('timeline.event.marker.content.border.radius');
        width: dt('timeline.event.marker.content.size');
        height: dt('timeline.event.marker.content.size');
        background: dt('timeline.event.marker.content.background');
    }

    .p-timeline-event-marker::after {
        content: ' ';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: dt('timeline.event.marker.border.radius');
        box-shadow: dt('timeline.event.marker.content.inset.shadow');
    }

    .p-timeline-event-connector {
        flex-grow: 1;
        background: dt('timeline.event.connector.color');
    }

    .p-timeline-horizontal {
        flex-direction: row;
    }

    .p-timeline-horizontal .p-timeline-event {
        flex-direction: column;
        flex: 1;
    }

    .p-timeline-horizontal .p-timeline-event:last-child {
        flex: 0;
    }

    .p-timeline-horizontal .p-timeline-event-separator {
        flex-direction: row;
    }

    .p-timeline-horizontal .p-timeline-event-connector {
        width: 100%;
        height: dt('timeline.event.connector.size');
    }

    .p-timeline-horizontal .p-timeline-event-opposite,
    .p-timeline-horizontal .p-timeline-event-content {
        padding: dt('timeline.horizontal.event.content.padding');
    }

    .p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(even) {
        flex-direction: column-reverse;
    }

    .p-timeline-bottom .p-timeline-event {
        flex-direction: column-reverse;
    }
`;var Ki=["content"],$i=["opposite"],qi=["marker"],lt=t=>({$implicit:t});function Gi(t,o){t&1&&A(0)}function ji(t,o){t&1&&A(0)}function Ui(t,o){if(t&1&&(P(0),m(1,ji,1,0,"ng-container",3),D()),t&2){let e=p().$implicit,i=p();l(),c("ngTemplateOutlet",i.markerTemplate||i._markerTemplate)("ngTemplateOutletContext",R(2,lt,e))}}function Qi(t,o){if(t&1&&_(0,"div",2),t&2){let e=p(2);g(e.cx("eventMarker")),c("pBind",e.ptm("eventMarker")),S("data-p",e.dataP)}}function Yi(t,o){if(t&1&&_(0,"div",2),t&2){let e=p(2);g(e.cx("eventConnector")),c("pBind",e.ptm("eventConnector")),S("data-p",e.dataP)}}function Zi(t,o){t&1&&A(0)}function Ji(t,o){if(t&1&&(r(0,"div",2)(1,"div",2),m(2,Gi,1,0,"ng-container",3),s(),r(3,"div",2),m(4,Ui,2,4,"ng-container",4)(5,Qi,1,4,"ng-template",null,0,z)(7,Yi,1,4,"div",5),s(),r(8,"div",2),m(9,Zi,1,0,"ng-container",3),s()()),t&2){let e=o.$implicit,i=o.last,n=ne(6),a=p();g(a.cx("event")),c("pBind",a.ptm("event")),S("data-p",a.dataP),l(),g(a.cx("eventOpposite")),c("pBind",a.ptm("eventOpposite")),S("data-p",a.dataP),l(),c("ngTemplateOutlet",a.oppositeTemplate||a._oppositeTemplate)("ngTemplateOutletContext",R(23,lt,e)),l(),g(a.cx("eventSeparator")),c("pBind",a.ptm("eventSeparator")),S("data-p",a.dataP),l(),c("ngIf",a.markerTemplate||a._markerTemplate)("ngIfElse",n),l(3),c("ngIf",!i),l(),g(a.cx("eventContent")),c("pBind",a.ptm("eventContent")),S("data-p",a.dataP),l(),c("ngTemplateOutlet",a.contentTemplate||a._contentTemplate)("ngTemplateOutletContext",R(25,lt,e))}}var Xi={root:({instance:t})=>["p-timeline p-component","p-timeline-"+t.align,"p-timeline-"+t.layout],event:"p-timeline-event",eventOpposite:"p-timeline-event-opposite",eventSeparator:"p-timeline-event-separator",eventMarker:"p-timeline-event-marker",eventConnector:"p-timeline-event-connector",eventContent:"p-timeline-event-content"},xi=(()=>{class t extends je{name="timeline";style=bi;classes=Xi;static \u0275fac=(()=>{let e;return function(n){return(e||(e=se(t)))(n||t)}})();static \u0275prov=Be({token:t,factory:t.\u0275fac})}return t})();var Si=new ge("TIMELINE_INSTANCE"),rt=(()=>{class t extends Qe{bindDirectiveInstance=V(j,{self:!0});$pcTimeline=V(Si,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value;styleClass;align="left";layout="vertical";contentTemplate;oppositeTemplate;markerTemplate;templates;_contentTemplate;_oppositeTemplate;_markerTemplate;_componentStyle=V(xi);getBlockableElement(){return this.el.nativeElement.children[0]}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"opposite":this._oppositeTemplate=e.template;break;case"marker":this._markerTemplate=e.template;break}})}get dataP(){return this.cn({[this.layout]:this.layout,[this.align]:this.align})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=se(t)))(n||t)}})();static \u0275cmp=F({type:t,selectors:[["p-timeline"]],contentQueries:function(i,n,a){if(i&1&&Re(a,Ki,4)(a,$i,4)(a,qi,4)(a,B,4),i&2){let d;y(d=b())&&(n.contentTemplate=d.first),y(d=b())&&(n.oppositeTemplate=d.first),y(d=b())&&(n.markerTemplate=d.first),y(d=b())&&(n.templates=d)}},hostVars:3,hostBindings:function(i,n){i&2&&(S("data-p",n.dataP),g(n.cn(n.cx("root"),n.styleClass)))},inputs:{value:"value",styleClass:"styleClass",align:"align",layout:"layout"},features:[oe([xi,{provide:Si,useExisting:t},{provide:Ue,useExisting:t}]),We([j]),fe],decls:1,vars:1,consts:[["marker",""],[3,"pBind","class",4,"ngFor","ngForOf"],[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"pBind","class",4,"ngIf"]],template:function(i,n){i&1&&m(0,Ji,10,27,"div",1),i&2&&c("ngForOf",n.value)},dependencies:[U,$e,Se,Oe,Q,j],encapsulation:2,changeDetection:0})}return t})(),Oi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=ze({imports:[rt,Q,Q]})}return t})();function tn(t,o){if(t&1&&(r(0,"div",5),_(1,"i",6),r(2,"h3"),u(3),s(),_(4,"p-chip",7),s()),t&2){let e=p();l(3),k(e.title()),l(),c("label",e.sortedEvents().length+" eventos")}}function nn(t,o){t&1&&(r(0,"div",3),_(1,"i",8),r(2,"p"),u(3,"No hay vencimientos pr\xF3ximos"),s()())}function on(t,o){if(t&1&&(r(0,"div",9),_(1,"i"),s()),t&2){let e=o.$implicit,i=p(2);ve("background-color",i.getColor(e.status)),c("pTooltip",e.daysUntilExpiration+" d\xEDas"),l(),g(i.getIcon(e.type))}}function an(t,o){if(t&1&&(r(0,"div",10)(1,"div",11),u(2),s(),r(3,"div",12),_(4,"p-chip",13)(5,"p-chip",14),s(),r(6,"div",15),_(7,"i",16),u(8),Ct(9,"date"),r(10,"span",17),u(11),s()()()),t&2){let e=o.$implicit,i=p(2);l(2),L(" ",e.title," "),l(2),c("label",e.type==="domain"?"Dominio":"Suscripci\xF3n")("icon",i.getIcon(e.type)),l(),c("label",e.workspaceName),l(3),L(" Vence: ",yt(9,7,e.expirationDate,"dd/MM/yyyy")," "),l(2),c("ngClass","status-"+e.status),l(),L(" ",e.daysUntilExpiration," d\xEDas ")}}function ln(t,o){if(t&1&&(r(0,"p-timeline",4),m(1,on,2,5,"ng-template",null,0,z)(3,an,12,10,"ng-template",null,1,z),s()),t&2){let e=p();c("value",e.sortedEvents())}}var Ve=class t{events=I.required();title=I("Pr\xF3ximos Vencimientos");maxEvents=I(10);sortedEvents=N(()=>this.events().sort((e,i)=>e.daysUntilExpiration-i.daysUntilExpiration).slice(0,this.maxEvents()));getSeverity(o){switch(o){case"critical":return"danger";case"warning":return"warn";default:return"info"}}getIcon(o){return o==="domain"?"pi pi-globe":"pi pi-shopping-cart"}getColor(o){switch(o){case"critical":return"#374151";case"warning":return"#4b5563";default:return"#6b7280"}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-upcoming-events-timeline"]],inputs:{events:[1,"events"],title:[1,"title"],maxEvents:[1,"maxEvents"]},decls:4,vars:1,consts:[["marker",""],["content",""],["pTemplate","header"],[1,"empty-state"],["align","alternate","styleClass","custom-timeline",3,"value"],[1,"timeline-header"],[1,"pi","pi-calendar"],["styleClass","ml-2",3,"label"],[1,"pi","pi-check-circle"],["tooltipPosition","top",1,"timeline-marker",3,"pTooltip"],[1,"timeline-content"],[1,"timeline-title"],[1,"timeline-meta"],["styleClass","timeline-chip",3,"label","icon"],["icon","pi pi-briefcase","styleClass","timeline-chip",3,"label"],[1,"timeline-date"],[1,"pi","pi-clock"],[1,"days-badge",3,"ngClass"]],template:function(e,i){e&1&&(r(0,"p-card"),m(1,tn,5,2,"ng-template",2),O(2,nn,4,0,"div",3)(3,ln,5,1,"p-timeline",4),s()),e&2&&(l(2),T(i.sortedEvents().length===0?2:3))},dependencies:[Oi,rt,B,K,H,te,ee,de,X,Ke,xt],styles:[".timeline-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid var(--surface-border)}.timeline-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color)}.timeline-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;flex:1}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--gray-400);margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:1rem}  .custom-timeline{padding:1rem}  .custom-timeline .p-timeline-event-content{flex:1}.timeline-marker[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.25rem;box-shadow:0 2px 8px #00000026}.timeline-content[_ngcontent-%COMP%]{padding:1rem;background:var(--surface-card);border-radius:var(--border-radius);box-shadow:0 1px 3px #0000001a}.timeline-content[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;margin-bottom:.75rem;color:var(--text-color)}.timeline-content[_ngcontent-%COMP%]   .timeline-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:.75rem}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--text-color-secondary)}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]   .days-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600;margin-left:.5rem}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]   .days-badge.status-critical[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#374151}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]   .days-badge.status-warning[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]   .days-badge.status-info[_ngcontent-%COMP%]{background-color:#f9fafb;color:#6b7280}.timeline-content[_ngcontent-%COMP%]   .timeline-chip[_ngcontent-%COMP%]{font-size:.75rem}"],changeDetection:0})};var rn=(t,o)=>o.workspace.id;function sn(t,o){t&1&&(r(0,"div",4),_(1,"i",5),r(2,"span"),u(3,"Workspaces M\xE1s Cr\xEDticos"),s()())}function cn(t,o){t&1&&(r(0,"div",2),_(1,"i",6),r(2,"p"),u(3,"No hay workspaces cr\xEDticos"),s()())}function pn(t,o){if(t&1&&(r(0,"div",14),_(1,"i",16),r(2,"span"),u(3),s()()),t&2){let e=o.$implicit;l(3),k(e)}}function dn(t,o){if(t&1&&_(0,"p-chip",17),t&2){let e=o.$implicit;c("label",e)}}function mn(t,o){if(t&1&&(r(0,"div",15),Y(1,dn,1,1,"p-chip",17,gt),s()),t&2){let e=p().$implicit;l(),Z(e.workspace.tags)}}function un(t,o){if(t&1){let e=w();r(0,"div",8),v("click",function(){let n=h(e).$implicit,a=p(2);return f(a.onWorkspaceClick(n.workspace))}),r(1,"div",9)(2,"div",10)(3,"h4"),u(4),s(),r(5,"span",11),u(6),s()(),r(7,"div",12),u(8),s()(),r(9,"div",13),Y(10,pn,4,1,"div",14,_t),s(),O(12,mn,3,0,"div",15),s()}if(t&2){let e=o.$implicit,i=p(2);g(i.getSeverityClass(e.criticalityScore)),l(4),k(e.workspace.name),l(),g(i.getStatusClass(e.workspace.status)),l(),L(" ",e.workspace.status," "),l(),c("pTooltip","Puntuaci\xF3n de criticidad"),l(),L(" ",e.criticalityScore," "),l(2),Z(e.reasons),l(2),T(e.workspace.tags&&e.workspace.tags.length>0?12:-1)}}function _n(t,o){if(t&1&&Y(0,un,13,9,"div",7,rn),t&2){let e=p();Z(e.criticalWorkspaces())}}function gn(t,o){t&1&&(r(0,"div",18)(1,"small"),u(2),s()()),t&2&&(l(2),L("Actualizado hace ","moments ago"))}var Fe=class t{workspaces=I.required();maxItems=I(5);workspaceClicked=be();criticalWorkspaces=N(()=>{let o=this.workspaces(),e=this.maxItems();return o.map(i=>this.calculateCriticality(i)).sort((i,n)=>n.criticalityScore-i.criticalityScore).slice(0,e)});calculateCriticality(o){let e=0,i=[];o.status!=="ACTIVE"&&(e+=50,i.push(`Estado: ${o.status}`)),o.priority&&(e+=o.priority*10,o.priority>=4&&i.push(`Prioridad alta (${o.priority}/5)`));let n=new Date;if(o.lastSyncAt){let a=o.lastSyncAt instanceof Date?o.lastSyncAt:o.lastSyncAt.toDate(),d=(n.getTime()-a.getTime())/(1440*60*1e3);d>7&&(e+=30,i.push(`Sin sincronizar hace ${Math.floor(d)} d\xEDas`))}return o.lastError&&(e+=40,i.push("Error detectado en \xFAltima sincronizaci\xF3n")),{workspace:o,criticalityScore:e,reasons:i.length>0?i:["Sin problemas detectados"]}}getSeverityClass(o){return o>=100?"critical":o>=50?"high":o>=20?"medium":"low"}getStatusClass(o){return o==="ACTIVE"?"status-active":"status-error"}onWorkspaceClick(o){this.workspaceClicked.emit(o)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-critical-workspaces-widget"]],inputs:{workspaces:[1,"workspaces"],maxItems:[1,"maxItems"]},outputs:{workspaceClicked:"workspaceClicked"},decls:6,vars:1,consts:[["pTemplate","header"],[1,"critical-list"],[1,"no-data"],["pTemplate","footer"],[1,"widget-header"],[1,"pi","pi-exclamation-triangle"],[1,"pi","pi-check-circle"],[1,"critical-item",3,"class"],[1,"critical-item",3,"click"],[1,"item-header"],[1,"workspace-info"],[1,"status-badge"],[1,"score-badge",3,"pTooltip"],[1,"item-reasons"],[1,"reason"],[1,"item-tags"],[1,"pi","pi-angle-right"],["styleClass","tag-chip",3,"label"],[1,"widget-footer"]],template:function(e,i){e&1&&(r(0,"p-card"),m(1,sn,4,0,"ng-template",0),r(2,"div",1),O(3,cn,4,0,"div",2)(4,_n,2,0),s(),m(5,gn,3,1,"ng-template",3),s()),e&2&&(l(3),T(i.criticalWorkspaces().length===0?3:4))},dependencies:[U,K,H,B,te,ee,J,de,X],styles:["[_nghost-%COMP%]{display:block}.widget-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;font-weight:600;color:var(--primary-color)}.widget-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.critical-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-height:500px;overflow-y:auto}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;color:var(--text-color-secondary)}.no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--green-500);margin-bottom:1rem}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.critical-item[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;border-left:4px solid transparent;background:var(--surface-50);cursor:pointer;transition:all .2s ease}.critical-item[_ngcontent-%COMP%]:hover{background:var(--surface-100);transform:translate(2px)}.critical-item.critical[_ngcontent-%COMP%]{border-left-color:var(--gray-700);background:var(--gray-100)}.critical-item.critical[_ngcontent-%COMP%]:hover{background:var(--gray-200)}.critical-item.critical[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]{background:var(--gray-700);color:#fff}.critical-item.high[_ngcontent-%COMP%]{border-left-color:var(--gray-600);background:var(--gray-100)}.critical-item.high[_ngcontent-%COMP%]:hover{background:var(--gray-200)}.critical-item.high[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]{background:var(--gray-600);color:#fff}.critical-item.medium[_ngcontent-%COMP%]{border-left-color:var(--gray-500);background:var(--gray-50)}.critical-item.medium[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.critical-item.medium[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]{background:var(--gray-500);color:#fff}.critical-item.low[_ngcontent-%COMP%]{border-left-color:var(--gray-400);background:var(--gray-50)}.critical-item.low[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.critical-item.low[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]{background:var(--gray-400);color:#fff}.item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.workspace-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.workspace-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;text-transform:uppercase}.status-badge.status-active[_ngcontent-%COMP%]{background:var(--gray-200);color:var(--gray-700)}.status-badge.status-error[_ngcontent-%COMP%]{background:var(--gray-300);color:var(--gray-800)}.score-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:50%;font-size:1.1rem;font-weight:700}.item-reasons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:.75rem}.reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--text-color-secondary)}.reason[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:var(--primary-color)}.item-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.item-tags[_ngcontent-%COMP%]     .tag-chip{font-size:.75rem;padding:.25rem .5rem;height:auto}.widget-footer[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:center;color:var(--text-color-secondary);border-top:1px solid var(--surface-border)}"],changeDetection:0})};var Mi=`
    .p-multiselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('multiselect.background');
        border: 1px solid dt('multiselect.border.color');
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration');
        border-radius: dt('multiselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('multiselect.shadow');
    }

    .p-multiselect:not(.p-disabled):hover {
        border-color: dt('multiselect.hover.border.color');
    }

    .p-multiselect:not(.p-disabled).p-focus {
        border-color: dt('multiselect.focus.border.color');
        box-shadow: dt('multiselect.focus.ring.shadow');
        outline: dt('multiselect.focus.ring.width') dt('multiselect.focus.ring.style') dt('multiselect.focus.ring.color');
        outline-offset: dt('multiselect.focus.ring.offset');
    }

    .p-multiselect.p-variant-filled {
        background: dt('multiselect.filled.background');
    }

    .p-multiselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('multiselect.filled.hover.background');
    }

    .p-multiselect.p-variant-filled.p-focus {
        background: dt('multiselect.filled.focus.background');
    }

    .p-multiselect.p-invalid {
        border-color: dt('multiselect.invalid.border.color');
    }

    .p-multiselect.p-disabled {
        opacity: 1;
        background: dt('multiselect.disabled.background');
    }

    .p-multiselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('multiselect.dropdown.color');
        width: dt('multiselect.dropdown.width');
        border-start-end-radius: dt('multiselect.border.radius');
        border-end-end-radius: dt('multiselect.border.radius');
    }

    .p-multiselect-clear-icon {
        align-self: center;
        color: dt('multiselect.clear.icon.color');
        inset-inline-end: dt('multiselect.dropdown.width');
    }

    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-multiselect-label {
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('multiselect.padding.y') dt('multiselect.padding.x');
        color: dt('multiselect.color');
    }

    .p-multiselect-display-chip .p-multiselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('multiselect.padding.y') / 2);
    }

    .p-multiselect-label.p-placeholder {
        color: dt('multiselect.placeholder.color');
    }

    .p-multiselect.p-invalid .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }

    .p-multiselect.p-disabled .p-multiselect-label {
        color: dt('multiselect.disabled.color');
    }

    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-multiselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('multiselect.overlay.background');
        color: dt('multiselect.overlay.color');
        border: 1px solid dt('multiselect.overlay.border.color');
        border-radius: dt('multiselect.overlay.border.radius');
        box-shadow: dt('multiselect.overlay.shadow');
        min-width: 100%;
    }

    .p-multiselect-header {
        display: flex;
        align-items: center;
        padding: dt('multiselect.list.header.padding');
    }

    .p-multiselect-header .p-checkbox {
        margin-inline-end: dt('multiselect.option.gap');
    }

    .p-multiselect-filter-container {
        flex: 1 1 auto;
    }

    .p-multiselect-filter {
        width: 100%;
    }

    .p-multiselect-list-container {
        overflow: auto;
    }

    .p-multiselect-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('multiselect.list.padding');
        display: flex;
        flex-direction: column;
        gap: dt('multiselect.list.gap');
    }

    .p-multiselect-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        gap: dt('multiselect.option.gap');
        padding: dt('multiselect.option.padding');
        border: 0 none;
        color: dt('multiselect.option.color');
        background: transparent;
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration');
        border-radius: dt('multiselect.option.border.radius');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled):hover {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option.p-multiselect-option-selected {
        background: dt('multiselect.option.selected.background');
        color: dt('multiselect.option.selected.color');
    }

    .p-multiselect-option.p-multiselect-option-selected.p-focus {
        background: dt('multiselect.option.selected.focus.background');
        color: dt('multiselect.option.selected.focus.color');
    }

    .p-multiselect-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('multiselect.option.group.padding');
        background: dt('multiselect.option.group.background');
        color: dt('multiselect.option.group.color');
        font-weight: dt('multiselect.option.group.font.weight');
    }

    .p-multiselect-empty-message {
        padding: dt('multiselect.empty.message.padding');
    }

    .p-multiselect-label .p-chip {
        padding-block-start: calc(dt('multiselect.padding.y') / 2);
        padding-block-end: calc(dt('multiselect.padding.y') / 2);
        border-radius: dt('multiselect.chip.border.radius');
    }

    .p-multiselect-label:has(.p-chip) {
        padding: calc(dt('multiselect.padding.y') / 2) calc(dt('multiselect.padding.x') / 2);
    }

    .p-multiselect-fluid {
        display: flex;
        width: 100%;
    }

    .p-multiselect-sm .p-multiselect-label {
        font-size: dt('multiselect.sm.font.size');
        padding-block: dt('multiselect.sm.padding.y');
        padding-inline: dt('multiselect.sm.padding.x');
    }

    .p-multiselect-sm .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.sm.font.size');
        width: dt('multiselect.sm.font.size');
        height: dt('multiselect.sm.font.size');
    }

    .p-multiselect-lg .p-multiselect-label {
        font-size: dt('multiselect.lg.font.size');
        padding-block: dt('multiselect.lg.padding.y');
        padding-inline: dt('multiselect.lg.padding.x');
    }

    .p-multiselect-lg .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.lg.font.size');
        width: dt('multiselect.lg.font.size');
        height: dt('multiselect.lg.font.size');
    }

    .p-floatlabel-in .p-multiselect-filter {
        padding-block-start: dt('multiselect.padding.y');
        padding-block-end: dt('multiselect.padding.y');
    }
`;var fn=["pMultiSelectItem",""],wi=t=>({$implicit:t}),vn=(t,o)=>({checked:t,class:o});function Cn(t,o){}function yn(t,o){t&1&&m(0,Cn,0,0,"ng-template")}function bn(t,o){if(t&1&&m(0,yn,1,0,null,3),t&2){let e=o.class,i=p(2);c("ngTemplateOutlet",i.itemCheckboxIconTemplate)("ngTemplateOutletContext",ye(2,vn,i.selected,e))}}function xn(t,o){t&1&&(P(0),m(1,bn,1,5,"ng-template",null,0,z),D())}function Sn(t,o){if(t&1&&(r(0,"span"),u(1),s()),t&2){let e=p();l(),k(e.label??"empty")}}function On(t,o){t&1&&A(0)}var Tn=["item"],Mn=["group"],In=["loader"],wn=["header"],kn=["filter"],En=["footer"],Pn=["emptyfilter"],Dn=["empty"],Vn=["selecteditems"],Fn=["loadingicon"],An=["filtericon"],Ln=["removetokenicon"],Bn=["chipicon"],zn=["clearicon"],Nn=["dropdownicon"],Wn=["itemcheckboxicon"],Rn=["headercheckboxicon"],Hn=["overlay"],Kn=["filterInput"],$n=["focusInput"],qn=["items"],Gn=["scroller"],jn=["lastHiddenFocusableEl"],Un=["firstHiddenFocusableEl"],Qn=["headerCheckbox"],Yn=[[["p-header"]],[["p-footer"]]],Zn=["p-header","p-footer"],Jn=()=>({class:"p-multiselect-chip-icon"}),Xn=(t,o)=>({$implicit:t,removeChip:o}),eo=t=>({dataP:t}),ki=t=>({options:t}),to=(t,o,e)=>({checked:t,partialSelected:o,class:e}),et=t=>({height:t}),Ei=(t,o)=>({$implicit:t,options:o}),io=()=>({});function no(t,o){if(t&1&&(P(0),u(1),D()),t&2){let e=p(2);l(),k(e.label()||"empty")}}function oo(t,o){if(t&1&&u(0),t&2){let e=p(3);L(" ",e.getSelectedItemsLabel()," ")}}function ao(t,o){t&1&&A(0)}function lo(t,o){if(t&1){let e=w();r(0,"span",27),v("click",function(n){h(e);let a=p(4).$implicit,d=p(4);return f(d.removeOption(a,n))}),m(1,ao,1,0,"ng-container",28),s()}if(t&2){let e=p(8);g(e.cx("chipIcon")),c("pBind",e.ptm("chipIcon")),S("aria-hidden",!0),l(),c("ngTemplateOutlet",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)("ngTemplateOutletContext",nt(6,Jn))}}function ro(t,o){if(t&1&&(P(0),m(1,lo,2,7,"span",26),D()),t&2){let e=p(7);l(),c("ngIf",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)}}function so(t,o){if(t&1&&m(0,ro,2,1,"ng-container",20),t&2){let e=p(6);c("ngIf",!e.$disabled()&&!e.readonly)}}function co(t,o){t&1&&(P(0),m(1,so,1,1,"ng-template",null,5,z),D())}function po(t,o){if(t&1){let e=w();r(0,"div",19,4)(2,"p-chip",25),v("onRemove",function(n){let a=h(e).$implicit,d=p(4);return f(d.removeOption(a,n))}),m(3,co,3,0,"ng-container",20),s()()}if(t&2){let e=o.$implicit,i=p(4);g(i.cx("chipItem")),c("pBind",i.ptm("chipItem")),l(2),g(i.cx("pcChip")),c("pt",i.ptm("pcChip"))("unstyled",i.unstyled())("label",i.getLabelByValue(e))("removable",!i.$disabled()&&!i.readonly)("removeIcon",i.chipIcon),l(),c("ngIf",i.chipIconTemplate||i._chipIconTemplate||i.removeTokenIconTemplate||i._removeTokenIconTemplate)}}function mo(t,o){if(t&1&&m(0,po,4,11,"div",24),t&2){let e=p(3);c("ngForOf",e.chipSelectedItems())}}function uo(t,o){if(t&1&&(P(0),u(1),D()),t&2){let e=p(3);l(),k(e.placeholder()||"empty")}}function _o(t,o){if(t&1&&(P(0),O(1,oo,1,1)(2,mo,1,1,"div",23),m(3,uo,2,1,"ng-container",20),D()),t&2){let e=p(2);l(),T(e.chipSelectedItems()&&e.chipSelectedItems().length===e.maxSelectedLabels?1:2),l(2),c("ngIf",!e.modelValue()||e.modelValue().length===0)}}function go(t,o){if(t&1&&(P(0),m(1,no,2,1,"ng-container",20)(2,_o,4,2,"ng-container",20),D()),t&2){let e=p();l(),c("ngIf",e.display==="comma"),l(),c("ngIf",e.display==="chip")}}function ho(t,o){t&1&&A(0)}function fo(t,o){if(t&1&&(P(0),u(1),D()),t&2){let e=p(2);l(),k(e.placeholder()||"empty")}}function vo(t,o){if(t&1&&(P(0),m(1,ho,1,0,"ng-container",28)(2,fo,2,1,"ng-container",20),D()),t&2){let e=p();l(),c("ngTemplateOutlet",e.selectedItemsTemplate||e._selectedItemsTemplate)("ngTemplateOutletContext",ye(3,Xn,e.selectedOptions,e.removeOption.bind(e))),l(),c("ngIf",!e.modelValue()||e.modelValue().length===0)}}function Co(t,o){if(t&1){let e=w();he(),r(0,"svg",31),v("click",function(n){h(e);let a=p(2);return f(a.clear(n))}),s()}if(t&2){let e=p(2);g(e.cx("clearIcon")),c("pBind",e.ptm("clearIcon")),S("aria-hidden",!0)}}function yo(t,o){}function bo(t,o){t&1&&m(0,yo,0,0,"ng-template")}function xo(t,o){if(t&1){let e=w();r(0,"span",27),v("click",function(n){h(e);let a=p(2);return f(a.clear(n))}),m(1,bo,1,0,null,32),s()}if(t&2){let e=p(2);g(e.cx("clearIcon")),c("pBind",e.ptm("clearIcon")),S("aria-hidden",!0),l(),c("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function So(t,o){if(t&1&&(P(0),m(1,Co,1,4,"svg",29)(2,xo,2,5,"span",30),D()),t&2){let e=p();l(),c("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),l(),c("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function Oo(t,o){t&1&&A(0)}function To(t,o){if(t&1&&(P(0),m(1,Oo,1,0,"ng-container",32),D()),t&2){let e=p(2);l(),c("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function Mo(t,o){if(t&1&&_(0,"span",19),t&2){let e=p(3);g(e.cn(e.cx("loadingIcon"),"pi-spin "+e.loadingIcon)),c("pBind",e.ptm("loadingIcon")),S("aria-hidden",!0)}}function Io(t,o){if(t&1&&_(0,"span",19),t&2){let e=p(3);g(e.cn(e.cx("loadingIcon"),"pi pi-spinner pi-spin")),c("pBind",e.ptm("loadingIcon")),S("aria-hidden",!0)}}function wo(t,o){if(t&1&&(P(0),m(1,Mo,1,4,"span",33)(2,Io,1,4,"span",33),D()),t&2){let e=p(2);l(),c("ngIf",e.loadingIcon),l(),c("ngIf",!e.loadingIcon)}}function ko(t,o){if(t&1&&(P(0),m(1,To,2,1,"ng-container",20)(2,wo,3,2,"ng-container",20),D()),t&2){let e=p();l(),c("ngIf",e.loadingIconTemplate||e._loadingIconTemplate),l(),c("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate)}}function Eo(t,o){if(t&1&&_(0,"span",36),t&2){let e=p(3);g(e.cx("dropdownIcon")),c("pBind",e.ptm("dropdownIcon"))("ngClass",e.dropdownIcon),S("aria-hidden",!0)("data-p",e.dropdownIconDataP)}}function Po(t,o){if(t&1&&(he(),_(0,"svg",37)),t&2){let e=p(3);g(e.cx("dropdownIcon")),c("pBind",e.ptm("dropdownIcon")),S("aria-hidden",!0)("data-p",e.dropdownIconDataP)}}function Do(t,o){if(t&1&&(P(0),m(1,Eo,1,6,"span",34)(2,Po,1,5,"svg",35),D()),t&2){let e=p(2);l(),c("ngIf",e.dropdownIcon),l(),c("ngIf",!e.dropdownIcon)}}function Vo(t,o){}function Fo(t,o){t&1&&m(0,Vo,0,0,"ng-template")}function Ao(t,o){if(t&1&&(r(0,"span",19),m(1,Fo,1,0,null,28),s()),t&2){let e=p(2);g(e.cx("dropdownIcon")),c("pBind",e.ptm("dropdownIcon")),S("aria-hidden",!0),l(),c("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)("ngTemplateOutletContext",R(6,eo,e.dropdownIconDataP))}}function Lo(t,o){if(t&1&&m(0,Do,3,2,"ng-container",20)(1,Ao,2,8,"span",33),t&2){let e=p();c("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),l(),c("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function Bo(t,o){t&1&&A(0)}function zo(t,o){t&1&&A(0)}function No(t,o){if(t&1&&(P(0),m(1,zo,1,0,"ng-container",28),D()),t&2){let e=p(3);l(),c("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",R(2,ki,e.filterOptions))}}function Wo(t,o){if(t&1&&(he(),_(0,"svg",45)),t&2){let e=p().class,i=p(5);g(e),c("pBind",i.getHeaderCheckboxPTOptions("pcHeaderCheckbox.icon"))}}function Ro(t,o){}function Ho(t,o){t&1&&m(0,Ro,0,0,"ng-template")}function Ko(t,o){if(t&1&&m(0,Wo,1,3,"svg",44)(1,Ho,1,0,null,28),t&2){let e=o.class,i=p(5);c("ngIf",!i.headerCheckboxIconTemplate&&!i._headerCheckboxIconTemplate&&i.allSelected()),l(),c("ngTemplateOutlet",i.headerCheckboxIconTemplate||i._headerCheckboxIconTemplate)("ngTemplateOutletContext",vt(3,to,i.allSelected(),i.partialSelected(),e))}}function $o(t,o){if(t&1){let e=w();r(0,"p-checkbox",43,10),v("onChange",function(n){h(e);let a=p(4);return f(a.onToggleAll(n))}),m(2,Ko,2,7,"ng-template",null,11,z),s()}if(t&2){let e=p(4);c("pt",e.getHeaderCheckboxPTOptions("pcHeaderCheckbox"))("ngModel",e.allSelected())("ariaLabel",e.toggleAllAriaLabel)("binary",!0)("variant",e.$variant())("disabled",e.$disabled())("unstyled",e.unstyled())}}function qo(t,o){if(t&1&&(he(),_(0,"svg",50)),t&2){let e=p(5);c("pBind",e.ptm("filterIcon"))}}function Go(t,o){}function jo(t,o){t&1&&m(0,Go,0,0,"ng-template")}function Uo(t,o){if(t&1&&(r(0,"span",51),m(1,jo,1,0,null,32),s()),t&2){let e=p(5);c("pBind",e.ptm("filterIcon")),l(),c("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function Qo(t,o){if(t&1){let e=w();r(0,"p-iconfield",46)(1,"input",47,12),v("input",function(n){h(e);let a=p(4);return f(a.onFilterInputChange(n))})("keydown",function(n){h(e);let a=p(4);return f(a.onFilterKeyDown(n))})("click",function(n){h(e);let a=p(4);return f(a.onInputClick(n))})("blur",function(n){h(e);let a=p(4);return f(a.onFilterBlur(n))}),s(),r(3,"p-inputicon",46),m(4,qo,1,1,"svg",48)(5,Uo,2,2,"span",49),s()()}if(t&2){let e=p(4);g(e.cx("pcFilterContainer")),c("pt",e.ptm("pcFilterContainer"))("unstyled",e.unstyled()),l(),g(e.cx("pcFilter")),c("pt",e.ptm("pcFilter"))("variant",e.$variant())("value",e._filterValue()||"")("unstyled",e.unstyled()),S("autocomplete",e.autocomplete)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("disabled",e.$disabled()?"":void 0)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),l(2),c("pt",e.ptm("pcFilterIconContainer"))("unstyled",e.unstyled()),l(),c("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),l(),c("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function Yo(t,o){if(t&1&&m(0,$o,4,7,"p-checkbox",41)(1,Qo,6,20,"p-iconfield",42),t&2){let e=p(3);c("ngIf",e.showToggleAll&&!e.selectionLimit),l(),c("ngIf",e.filter)}}function Zo(t,o){if(t&1&&(r(0,"div",19),it(1),m(2,No,2,4,"ng-container",21)(3,Yo,2,2,"ng-template",null,9,z),s()),t&2){let e=ne(4),i=p(2);g(i.cx("header")),c("pBind",i.ptm("header")),l(2),c("ngIf",i.filterTemplate||i._filterTemplate)("ngIfElse",e)}}function Jo(t,o){t&1&&A(0)}function Xo(t,o){if(t&1&&m(0,Jo,1,0,"ng-container",28),t&2){let e=o.$implicit,i=o.options;p(2);let n=ne(9);c("ngTemplateOutlet",n)("ngTemplateOutletContext",ye(2,Ei,e,i))}}function ea(t,o){t&1&&A(0)}function ta(t,o){if(t&1&&m(0,ea,1,0,"ng-container",28),t&2){let e=o.options,i=p(4);c("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",R(2,ki,e))}}function ia(t,o){t&1&&(P(0),m(1,ta,1,4,"ng-template",null,14,z),D())}function na(t,o){if(t&1){let e=w();r(0,"p-scroller",52,13),v("onLazyLoad",function(n){h(e);let a=p(2);return f(a.onLazyLoad.emit(n))}),m(2,Xo,1,5,"ng-template",null,3,z)(4,ia,3,0,"ng-container",20),s()}if(t&2){let e=p(2);He(R(9,et,e.scrollHeight)),c("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),l(4),c("ngIf",e.loaderTemplate||e._loaderTemplate)}}function oa(t,o){t&1&&A(0)}function aa(t,o){if(t&1&&(P(0),m(1,oa,1,0,"ng-container",28),D()),t&2){p();let e=ne(9),i=p();l(),c("ngTemplateOutlet",e)("ngTemplateOutletContext",ye(3,Ei,i.visibleOptions(),nt(2,io)))}}function la(t,o){if(t&1&&(r(0,"span"),u(1),s()),t&2){let e=p(2).$implicit,i=p(3);l(),k(i.getOptionGroupLabel(e.optionGroup))}}function ra(t,o){if(t&1&&A(0,58),t&2){let e=p(2).$implicit,i=p(3);c("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",R(2,wi,e.optionGroup))}}function sa(t,o){if(t&1&&(P(0),r(1,"li",56),m(2,la,2,1,"span",20)(3,ra,1,4,"ng-container",57),s(),D()),t&2){let e=p(),i=e.$implicit,n=e.index,a=p().options,d=p(2);l(),g(d.cx("optionGroup")),c("pBind",d.ptm("optionGroup"))("ngStyle",R(7,et,a.itemSize+"px")),S("id",d.id+"_"+d.getOptionIndex(n,a)),l(),c("ngIf",!d.groupTemplate&&i.optionGroup),l(),c("ngIf",i.optionGroup&&d.groupTemplate)}}function ca(t,o){if(t&1){let e=w();P(0),r(1,"li",59),v("onClick",function(n){h(e);let a=p().index,d=p().options,C=p(2);return f(C.onOptionSelect(n,!1,C.getOptionIndex(a,d)))})("onMouseEnter",function(n){h(e);let a=p().index,d=p().options,C=p(2);return f(C.onOptionMouseEnter(n,C.getOptionIndex(a,d)))}),s(),D()}if(t&2){let e=p(),i=e.$implicit,n=e.index,a=p().options,d=p(2);l(),c("pBind",d.getPTOptions(i,d.getItemOptions,n,"option"))("id",d.id+"_"+d.getOptionIndex(n,a))("option",i)("selected",d.isSelected(i))("label",d.getOptionLabel(i))("disabled",d.isOptionDisabled(i))("template",d.itemTemplate||d._itemTemplate)("itemCheckboxIconTemplate",d.itemCheckboxIconTemplate||d._itemCheckboxIconTemplate)("itemSize",a.itemSize)("focused",d.focusedOptionIndex()===d.getOptionIndex(n,a))("ariaPosInset",d.getAriaPosInset(d.getOptionIndex(n,a)))("ariaSetSize",d.ariaSetSize)("variant",d.$variant())("highlightOnSelect",d.highlightOnSelect)("pt",d.pt)("unstyled",d.unstyled())}}function pa(t,o){if(t&1&&m(0,sa,4,9,"ng-container",20)(1,ca,2,16,"ng-container",20),t&2){let e=o.$implicit,i=p(3);c("ngIf",i.isOptionGroup(e)),l(),c("ngIf",!i.isOptionGroup(e))}}function da(t,o){if(t&1&&u(0),t&2){let e=p(4);L(" ",e.emptyFilterMessageLabel," ")}}function ma(t,o){t&1&&A(0)}function ua(t,o){if(t&1&&m(0,ma,1,0,"ng-container",32),t&2){let e=p(4);c("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e.emptyTemplate||e._emptyFilterTemplate)}}function _a(t,o){if(t&1&&(r(0,"li",56),O(1,da,1,1)(2,ua,1,1,"ng-container"),s()),t&2){let e=p().options,i=p(2);g(i.cx("emptyMessage")),c("pBind",i.ptm("emptyMessage"))("ngStyle",R(5,et,e.itemSize+"px")),l(),T(!i.emptyFilterTemplate&&!i._emptyFilterTemplate&&!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function ga(t,o){if(t&1&&u(0),t&2){let e=p(4);L(" ",e.emptyMessageLabel," ")}}function ha(t,o){t&1&&A(0)}function fa(t,o){if(t&1&&m(0,ha,1,0,"ng-container",32),t&2){let e=p(4);c("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function va(t,o){if(t&1&&(r(0,"li",56),O(1,ga,1,1)(2,fa,1,1,"ng-container"),s()),t&2){let e=p().options,i=p(2);g(i.cx("emptyMessage")),c("pBind",i.ptm("emptyMessage"))("ngStyle",R(5,et,e.itemSize+"px")),l(),T(!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function Ca(t,o){if(t&1&&(r(0,"ul",53,15),m(2,pa,2,2,"ng-template",54)(3,_a,3,7,"li",55)(4,va,3,7,"li",55),s()),t&2){let e=o.$implicit,i=o.options,n=p(2);He(i.contentStyle),g(n.cn(n.cx("list"),i.contentStyleClass)),c("pBind",n.ptm("list")),S("aria-label",n.listLabel),l(2),c("ngForOf",e),l(),c("ngIf",n.hasFilter()&&n.isEmpty()),l(),c("ngIf",!n.hasFilter()&&n.isEmpty())}}function ya(t,o){t&1&&A(0)}function ba(t,o){if(t&1&&(r(0,"div"),it(1,1),m(2,ya,1,0,"ng-container",32),s()),t&2){let e=p(2);l(2),c("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function xa(t,o){if(t&1){let e=w();r(0,"div",38)(1,"span",39,6),v("focus",function(n){h(e);let a=p();return f(a.onFirstHiddenFocus(n))}),s(),m(3,Bo,1,0,"ng-container",32)(4,Zo,5,5,"div",33),r(5,"div",19),m(6,na,5,11,"p-scroller",40)(7,aa,2,6,"ng-container",20)(8,Ca,5,9,"ng-template",null,7,z),s(),m(10,ba,3,1,"div",20),r(11,"span",39,8),v("focus",function(n){h(e);let a=p();return f(a.onLastHiddenFocus(n))}),s()()}if(t&2){let e=p();g(e.cn(e.cx("overlay"),e.panelStyleClass)),c("pBind",e.ptm("overlay"))("ngStyle",e.panelStyle),S("data-p",e.overlayDataP)("id",e.id+"_list"),l(),c("pBind",e.ptm("firstHiddenFocusableEl")),S("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),l(2),c("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),l(),c("ngIf",e.showHeader),l(),g(e.cx("listContainer")),ve("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),c("pBind",e.ptm("listContainer")),l(),c("ngIf",e.virtualScroll),l(),c("ngIf",!e.virtualScroll),l(3),c("ngIf",e.footerFacet||e.footerTemplate||e._footerTemplate),l(),c("pBind",e.ptm("lastHiddenFocusableEl")),S("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Sa=`
    ${Mi}

    /* For PrimeNG */
   .p-multiselect.ng-invalid.ng-dirty {
        border-color: dt('multiselect.invalid.border.color');
    }
    p-multiSelect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multi-select.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multiselect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }
`,Oa={root:({instance:t})=>({position:t.$appendTo()==="self"?"relative":void 0})},Ta={root:({instance:t})=>["p-multiselect p-component p-inputwrapper",{"p-multiselect p-component p-inputwrapper":!0,"p-multiselect-display-chip":t.display==="chip","p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-variant-filled":t.$variant()==="filled","p-focus":t.focused,"p-inputwrapper-filled":t.$filled(),"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-multiselect-open":t.overlayVisible,"p-multiselect-fluid":t.hasFluid,"p-multiselect-sm p-inputfield-sm":t.size()==="small","p-multiselect-lg p-inputfield-lg":t.size()==="large"}],labelContainer:"p-multiselect-label-container",label:({instance:t})=>({"p-multiselect-label":!0,"p-placeholder":t.label()===t.placeholder(),"p-multiselect-label-empty":!t.placeholder()&&!t.defaultLabel&&(!t.modelValue()||t.modelValue().length===0)}),chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:({instance:t})=>({"p-multiselect-option":!0,"p-multiselect-option-selected":t.selected&&t.highlightOnSelect,"p-disabled":t.disabled,"p-focus":t.focused}),emptyMessage:"p-multiselect-empty-message",clearIcon:"p-multiselect-clear-icon"},Xe=(()=>{class t extends je{name="multiselect";style=Sa;classes=Ta;inlineStyles=Oa;static \u0275fac=(()=>{let e;return function(n){return(e||(e=se(t)))(n||t)}})();static \u0275prov=Be({token:t,factory:t.\u0275fac})}return t})();var Ii=new ge("MULTISELECT_INSTANCE"),Ma=new ge("MULTISELECT_ITEM_INSTANCE"),Ia={provide:Gt,useExisting:dt(()=>tt),multi:!0},wa=(()=>{class t extends Qe{$pcMultiSelectItem=V(Ma,{optional:!0,skipSelf:!0})??void 0;hostName="MultiSelect";getPTOptions(e){return this.ptm(e,{context:{selected:this.selected,focused:this.focused,disabled:this.disabled}})}option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;variant;template;checkIconTemplate;itemCheckboxIconTemplate;highlightOnSelect;onClick=new W;onMouseEnter=new W;_componentStyle=V(Xe);onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation(),e.preventDefault()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=se(t)))(n||t)}})();static \u0275cmp=F({type:t,selectors:[["li","pMultiSelectItem",""]],hostAttrs:["role","option"],hostVars:13,hostBindings:function(i,n){i&1&&v("click",function(d){return n.onOptionClick(d)})("mouseenter",function(d){return n.onOptionMouseEnter(d)}),i&2&&(S("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled)("aria-checked",n.selected),g(n.cx("option")),ve("height",n.itemSize,"px"))},inputs:{option:"option",selected:[2,"selected","selected",E],label:"label",disabled:[2,"disabled","disabled",E],itemSize:[2,"itemSize","itemSize",xe],focused:[2,"focused","focused",E],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",variant:"variant",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",E]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[oe([Xe]),fe],attrs:fn,decls:4,vars:13,consts:[["icon",""],[3,"ngModel","binary","tabindex","variant","ariaLabel","pt","unstyled"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(r(0,"p-checkbox",1),m(1,xn,3,0,"ng-container",2),s(),m(2,Sn,2,1,"span",2)(3,On,1,0,"ng-container",3)),i&2&&(c("ngModel",n.selected)("binary",!0)("tabindex",-1)("variant",n.variant)("ariaLabel",n.label)("pt",n.getPTOptions("pcOptionCheckbox"))("unstyled",n.unstyled()),l(),c("ngIf",n.itemCheckboxIconTemplate),l(),c("ngIf",!n.template),l(),c("ngTemplateOutlet",n.template)("ngTemplateOutletContext",R(11,wi,n.option)))},dependencies:[U,Se,Oe,Pe,Ee,we,ke,Q],encapsulation:2})}return t})(),tt=(()=>{class t extends Ut{zone;filterService;overlayService;id;ariaLabel;styleClass;panelStyle;panelStyleClass;inputId;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible=!1;tabindex=0;dataKey;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e||0}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;chipIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!1;display="comma";autocomplete="off";showClear=!1;autofocus;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){Mt(this._options(),e)||this._options.set(e||[])}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!0;filterFields;selectOnFocus=!1;autoOptionFocus=!1;highlightOnSelect=!0;size=I();variant=I();fluid=I(void 0,{transform:E});appendTo=I(void 0);motionOptions=I(void 0);onChange=new W;onFilter=new W;onFocus=new W;onBlur=new W;onClick=new W;onClear=new W;onPanelShow=new W;onPanelHide=new W;onLazyLoad=new W;onRemove=new W;onSelectAllChange=new W;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;_componentStyle=V(Xe);bindDirectiveInstance=V(j,{self:!0});searchValue;searchTimeout;_selectAll=null;_placeholder=x(void 0);_disableTooltip=!1;value;_filteredOptions;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;chipIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;templates;_itemTemplate;_groupTemplate;_loaderTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_selectedItemsTemplate;_loadingIconTemplate;_filterIconTemplate;_removeTokenIconTemplate;_chipIconTemplate;_clearIconTemplate;_dropdownIconTemplate;_itemCheckboxIconTemplate;_headerCheckboxIconTemplate;$variant=N(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());$appendTo=N(()=>this.appendTo()||this.config.overlayAppendTo());$pcMultiSelect=V(Ii,{optional:!0,skipSelf:!0})??void 0;pcFluid=V(Wt,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selectedItems":case"selecteditems":this._selectedItemsTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"headercheckboxicon":this._headerCheckboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"removetokenicon":this._removeTokenIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"chipicon":this._chipIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}headerCheckboxFocus;filterOptions;preventModelTouched;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=x(null);_filterValue=x(null);_options=x([]);startRangeIndex=x(-1);focusedOptionIndex=x(-1);selectedOptions;clickInProgress=!1;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Ie.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Ie.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&le(this.modelValue())&&this.showClear&&!this.$disabled()&&!this.readonly&&this.$filled()}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get listLabel(){return this.config.getTranslation(Ie.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=N(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=It(e)&&qt.isObject(e[0]);if(this._filterValue()){let n;if(i?n=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):n=e.filter(a=>a.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let a=this.options||[],d=[];return a.forEach(C=>{let Le=this.getOptionGroupChildren(C).filter(Di=>n.includes(Di));Le.length>0&&d.push(pt(ct({},C),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...Le]}))}),this.flatOptions(d)}return n}return e});label=N(()=>{let e,i=this.modelValue();if(i&&i?.length&&this.displaySelectedLabel){if(le(this.maxSelectedLabels)&&i?.length>(this.maxSelectedLabels||0))return this.getSelectedItemsLabel();e="";for(let n=0;n<i.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(i[n])}else e=this.placeholder()||"";return e});chipSelectedItems=N(()=>le(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue()?.length>(this.maxSelectedLabels||0)?this.modelValue()?.slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,i,n){super(),this.zone=e,this.filterService=i,this.overlayService=n,ut(()=>{let a=this.modelValue(),d=this.getAllVisibleAndNonVisibleOptions();d&&le(d)&&(this.optionValue&&this.optionLabel&&a?this.selectedOptions=d.filter(C=>a.includes(C[this.optionLabel])||a.includes(C[this.optionValue])):this.selectedOptions=a,this.cd.markForCheck())})}onInit(){this.id=this.id||kt("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}onAfterViewInit(){this.overlayVisible&&this.show()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"])),this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let d=this.getOptionGroupChildren(n);return d&&d.forEach(C=>i.push(C)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,i){this.value=e,this.onModelChange(e),this.writeValue(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,i=!1,n=-1){let{originalEvent:a,option:d}=e;if(this.$disabled()||this.isOptionDisabled(d))return;let C=this.isSelected(d),M=[];C?M=this.modelValue().filter(Le=>!Te(Le,this.getOptionValue(d),this.equalityKey()||"")):M=[...this.modelValue()||[],this.getOptionValue(d)],this.updateModel(M,a),n!==-1&&this.focusedOptionIndex.set(n),i&&ae(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:e,value:M,itemValue:d})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,i=-1,n=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(i)),i!==-1&&n!==-1){let a=Math.min(i,n),d=Math.max(i,n),C=this.visibleOptions().slice(a,d+1).filter(M=>this.isValidOption(M)).map(M=>this.getOptionValue(M));this.updateModel(C,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,i=!1){let n=-1;return this.hasSelectedOption()&&(i?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?Me(this.visibleOptions().slice(0,e),n=>this.isValidSelectedOption(n)):-1;return i>-1?i:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return i>-1?i+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return le(this.modelValue())}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return e&&(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?re(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let i=this.getOptionValue(e);return(this.modelValue()||[]).some(n=>Te(n,i,this.equalityKey()||""))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue?.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let n=(this.group?this.flatOptions(this._options()):this._options()||[]).find(a=>!this.isOptionGroup(a)&&Te(this.getOptionValue(a),e,this.equalityKey()||""));return n?this.getOptionLabel(n):null}getSelectedItemsLabel(){let e=/{(.*?)}/,i=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(Ie.SELECTION_MESSAGE);return e.test(i)?i.replace(i.match(e)[0],this.modelValue().length+""):i}getOptionLabel(e){return this.optionLabel?re(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?re(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?re(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return e?this.optionGroupChildren?re(e,this.optionGroupChildren):e.items:[]}onKeyDown(e){if(this.$disabled()){e.preventDefault();return}let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&i){let n=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(n,e),e.preventDefault();break}!i&&wt(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,i=!1){if(e.altKey&&!i)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,n,this.startRangeIndex()),this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,i=!1){let{currentTarget:n}=e;if(i){let a=n.value.length;n.setSelectionRange(0,e.shiftKey?a:0),this.focusedOptionIndex.set(-1)}else{let a=e.metaKey||e.ctrlKey,d=this.findFirstOptionIndex();e.shiftKey&&a&&this.onOptionSelectRange(e,d,this.startRangeIndex()),this.changeFocusedOptionIndex(e,d),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,i=!1){let{currentTarget:n}=e;if(i){let a=n.value.length;n.setSelectionRange(e.shiftKey?0:a,a),this.focusedOptionIndex.set(-1)}else{let a=e.metaKey||e.ctrlKey,d=this.findLastFocusedOptionIndex();e.shiftKey&&a&&this.onOptionSelectRange(e,this.startRangeIndex(),d),this.changeFocusedOptionIndex(e,d),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&(this.hide(!0),e.stopPropagation(),e.preventDefault())}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())ae(e.shiftKey?this.lastHiddenFocusableElementOnOverlay?.nativeElement:this.firstHiddenFocusableElementOnOverlay?.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];!this.isSelected(n)&&this.onOptionSelect({originalEvent:e,option:n})}this.overlayVisible&&this.hide(this.filter)}}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.$disabled()||this.loading||this.readonly||e.target?.isSameNode?.(this.focusInputViewChild?.nativeElement))){if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?Ot(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ae(i)}onInputFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller?.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild?.alignOverlay()})}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?Tt(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ae(i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onToggleAll(e){if(!(this.$disabled()||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.getAllVisibleAndNonVisibleOptions().filter(M=>this.isSelected(M)&&(this.optionDisabled?re(M,this.optionDisabled):M&&M.disabled!==void 0?M.disabled:!1)),n=this.allSelected()?this.visibleOptions().filter(M=>!this.isValidOption(M)&&this.isSelected(M)):this.visibleOptions().filter(M=>this.isSelected(M)||this.isValidOption(M)),d=[...this.filter&&!this.allSelected()?this.getAllVisibleAndNonVisibleOptions().filter(M=>this.isSelected(M)&&this.isValidOption(M)):[],...i,...n].map(M=>this.getOptionValue(M)),C=[...new Set(d)];this.updateModel(C,e),(!C.length||C.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!C.length})}this.partialSelected()&&(this.selectedOptions=[],this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),Lt.focus(this.headerCheckboxViewChild?.inputViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=Ge(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}allSelected(){return this.selectAll!==null?this.selectAll:le(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<(this.options?.length||0)}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&ae(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&Bt(),e&&ae(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayBeforeEnter(e){if(this.itemsWrapper=Ge(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?'[data-pc-name="virtualscroller"]':'[data-pc-section="listcontainer"]'),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=Ge(this.itemsWrapper,'[data-pc-section="option"][data-p-selected="true"]');i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit(e)}onOverlayAfterLeave(e){this.itemsWrapper=null,this.onModelTouched(),this.onPanelHide.emit(e)}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}onOverlayHide(e){this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter()}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=[],this.updateModel(null,e),this.selectedOptions=[],this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,i){let n=this.modelValue().filter(a=>!Te(a,e,this.equalityKey()||""));this.updateModel(n,i),this.onChange.emit({originalEvent:i,value:n,itemValue:e}),this.onRemove.emit({newValue:n,removed:e}),i&&i.stopPropagation()}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?Me(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Me(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return Me(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(d=>this.isOptionMatched(d)),n!==-1&&(a=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}hasFocusableElements(){return St(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}get containerDataP(){return this.cn({invalid:this.invalid(),disabled:this.$disabled(),focus:this.focused,fluid:this.hasFluid,filled:this.$variant()==="filled",[this.size()]:this.size()})}get labelDataP(){return this.cn({placeholder:this.label===this.placeholder,clearable:this.showClear,disabled:this.disabled,[this.size()]:this.size(),"has-chip":this.display==="chip"&&this.value&&this.value.length&&(this.maxSelectedLabels?this.value.length<=this.maxSelectedLabels:!0),empty:!this.placeholder&&!this.$filled})}get dropdownIconDataP(){return this.cn({[this.size()]:this.size()})}get overlayDataP(){return this.cn({["overlay-"+this.appendTo]:"overlay-"+this.appendTo})}writeControlValue(e,i){this.value=e,i(e),this.cd.markForCheck()}getHeaderCheckboxPTOptions(e){return this.ptm(e,{context:{selected:this.allSelected()}})}getPTOptions(e,i,n,a){return this.ptm(a,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex()===this.getOptionIndex(n,i),disabled:this.isOptionDisabled(e)}})}static \u0275fac=function(i){return new(i||t)(ce(mt),ce(Et),ce(Pt))};static \u0275cmp=F({type:t,selectors:[["p-multiSelect"],["p-multiselect"],["p-multi-select"]],contentQueries:function(i,n,a){if(i&1&&Re(a,Vt,5)(a,Dt,5)(a,Tn,4)(a,Mn,4)(a,In,4)(a,wn,4)(a,kn,4)(a,En,4)(a,Pn,4)(a,Dn,4)(a,Vn,4)(a,Fn,4)(a,An,4)(a,Ln,4)(a,Bn,4)(a,zn,4)(a,Nn,4)(a,Wn,4)(a,Rn,4)(a,B,4),i&2){let d;y(d=b())&&(n.footerFacet=d.first),y(d=b())&&(n.headerFacet=d.first),y(d=b())&&(n.itemTemplate=d.first),y(d=b())&&(n.groupTemplate=d.first),y(d=b())&&(n.loaderTemplate=d.first),y(d=b())&&(n.headerTemplate=d.first),y(d=b())&&(n.filterTemplate=d.first),y(d=b())&&(n.footerTemplate=d.first),y(d=b())&&(n.emptyFilterTemplate=d.first),y(d=b())&&(n.emptyTemplate=d.first),y(d=b())&&(n.selectedItemsTemplate=d.first),y(d=b())&&(n.loadingIconTemplate=d.first),y(d=b())&&(n.filterIconTemplate=d.first),y(d=b())&&(n.removeTokenIconTemplate=d.first),y(d=b())&&(n.chipIconTemplate=d.first),y(d=b())&&(n.clearIconTemplate=d.first),y(d=b())&&(n.dropdownIconTemplate=d.first),y(d=b())&&(n.itemCheckboxIconTemplate=d.first),y(d=b())&&(n.headerCheckboxIconTemplate=d.first),y(d=b())&&(n.templates=d)}},viewQuery:function(i,n){if(i&1&&ft(Hn,5)(Kn,5)($n,5)(qn,5)(Gn,5)(jn,5)(Un,5)(Qn,5),i&2){let a;y(a=b())&&(n.overlayViewChild=a.first),y(a=b())&&(n.filterInputChild=a.first),y(a=b())&&(n.focusInputViewChild=a.first),y(a=b())&&(n.itemsViewChild=a.first),y(a=b())&&(n.scroller=a.first),y(a=b())&&(n.lastHiddenFocusableElementOnOverlay=a.first),y(a=b())&&(n.firstHiddenFocusableElementOnOverlay=a.first),y(a=b())&&(n.headerCheckboxViewChild=a.first)}},hostVars:6,hostBindings:function(i,n){i&1&&v("click",function(d){return n.onContainerClick(d)}),i&2&&(S("id",n.id)("data-p",n.containerDataP),He(n.sx("root")),g(n.cn(n.cx("root"),n.styleClass)))},inputs:{id:"id",ariaLabel:"ariaLabel",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",readonly:[2,"readonly","readonly",E],group:[2,"group","group",E],filter:[2,"filter","filter",E],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",E],tabindex:[2,"tabindex","tabindex",xe],dataKey:"dataKey",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",xe],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",E],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",E],dropdownIcon:"dropdownIcon",chipIcon:"chipIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",E],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",E],virtualScroll:[2,"virtualScroll","virtualScroll",E],loading:[2,"loading","loading",E],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",E],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",E],autofocus:[2,"autofocus","autofocus",E],placeholder:"placeholder",options:"options",filterValue:"filterValue",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",E],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",E],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",E],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",E],size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"],motionOptions:[1,"motionOptions"]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[oe([Ia,Xe,{provide:Ii,useExisting:t},{provide:Ue,useExisting:t}]),We([j]),fe],ngContentSelectors:Zn,decls:16,vars:51,consts:[["focusInput",""],["elseBlock",""],["overlay",""],["content",""],["token",""],["removeicon",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["icon",""],["filterInput",""],["scroller",""],["loader",""],["items",""],[1,"p-hidden-accessible",3,"pBind"],["role","combobox",3,"focus","blur","keydown","pTooltip","pTooltipUnstyled","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus","pBind"],[3,"mouseleave","pBind","pTooltip","pTooltipUnstyled","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"pBind"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onBeforeEnter","onAfterLeave","onHide","hostAttrSelector","visible","options","target","appendTo","unstyled","pt","motionOptions"],[3,"pBind","class"],[3,"pBind","class",4,"ngFor","ngForOf"],[3,"onRemove","pt","unstyled","label","removable","removeIcon"],[3,"class","pBind","click",4,"ngIf"],[3,"click","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times",3,"pBind","class","click",4,"ngIf"],[3,"pBind","class","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[4,"ngTemplateOutlet"],[3,"pBind","class",4,"ngIf"],[3,"pBind","class","ngClass",4,"ngIf"],["data-p-icon","chevron-down",3,"pBind","class",4,"ngIf"],[3,"pBind","ngClass"],["data-p-icon","chevron-down",3,"pBind"],[3,"pBind","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","pBind"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[3,"pt","ngModel","ariaLabel","binary","variant","disabled","unstyled","onChange",4,"ngIf"],[3,"pt","class","unstyled",4,"ngIf"],[3,"onChange","pt","ngModel","ariaLabel","binary","variant","disabled","unstyled"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],["data-p-icon","check",3,"pBind"],[3,"pt","unstyled"],["pInputText","","type","text","role","searchbox",3,"input","keydown","click","blur","pt","variant","value","unstyled"],["data-p-icon","search",3,"pBind",4,"ngIf"],["class","p-multiselect-filter-icon",3,"pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],[1,"p-multiselect-filter-icon",3,"pBind"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["role","listbox","aria-multiselectable","true",3,"pBind"],["ngFor","",3,"ngForOf"],["role","option",3,"pBind","class","ngStyle",4,"ngIf"],["role","option",3,"pBind","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["pMultiSelectItem","","pRipple","",3,"onClick","onMouseEnter","pBind","id","option","selected","label","disabled","template","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize","variant","highlightOnSelect","pt","unstyled"]],template:function(i,n){if(i&1){let a=w();ht(Yn),r(0,"div",16)(1,"input",17,0),v("focus",function(C){return h(a),f(n.onInputFocus(C))})("blur",function(C){return h(a),f(n.onInputBlur(C))})("keydown",function(C){return h(a),f(n.onKeyDown(C))}),s()(),r(3,"div",18),v("mouseleave",function(){return h(a),f(n.labelContainerMouseLeave())}),r(4,"div",19),m(5,go,3,2,"ng-container",20)(6,vo,3,6,"ng-container",20),s()(),m(7,So,3,2,"ng-container",20),r(8,"div",19),m(9,ko,3,2,"ng-container",21)(10,Lo,2,2,"ng-template",null,1,z),s(),r(12,"p-overlay",22,2),G("visibleChange",function(C){return h(a),q(n.overlayVisible,C)||(n.overlayVisible=C),f(C)}),v("onBeforeEnter",function(C){return h(a),f(n.onOverlayBeforeEnter(C))})("onAfterLeave",function(C){return h(a),f(n.onOverlayAfterLeave(C))})("onHide",function(C){return h(a),f(n.onOverlayHide(C))}),m(14,xa,13,24,"ng-template",null,3,z),s()}if(i&2){let a=ne(11);c("pBind",n.ptm("hiddenInputContainer")),S("data-p-hidden-accessible",!0),l(),c("pTooltip",n.tooltip)("pTooltipUnstyled",n.unstyled())("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("pAutoFocus",n.autofocus)("pBind",n.ptm("hiddenInput")),S("aria-disabled",n.$disabled())("id",n.inputId)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",n.overlayVisible??!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.$disabled()?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("value",n.modelValue())("name",n.name())("required",n.required()?"":void 0)("disabled",n.$disabled()?"":void 0),l(2),g(n.cx("labelContainer")),c("pBind",n.ptm("labelContainer"))("pTooltip",n.tooltip)("pTooltipUnstyled",n.unstyled())("tooltipDisabled",n._disableTooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),l(),g(n.cx("label")),c("pBind",n.ptm("label")),S("data-p",n.labelDataP),l(),c("ngIf",!n.selectedItemsTemplate&&!n._selectedItemsTemplate),l(),c("ngIf",n.selectedItemsTemplate||n._selectedItemsTemplate),l(),c("ngIf",n.isVisibleClearIcon),l(),g(n.cx("dropdown")),c("pBind",n.ptm("dropdown")),l(),c("ngIf",n.loading)("ngIfElse",a),l(3),c("hostAttrSelector",n.$attrSelector),$("visible",n.overlayVisible),c("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())("unstyled",n.unstyled())("pt",n.ptm("pcOverlay"))("motionOptions",n.motionOptions())}},dependencies:[U,Ke,$e,Se,Oe,bt,wa,Jt,Q,X,Xt,zt,Rt,Kt,$t,Ht,Qt,Yt,Ye,ee,Pe,Ee,we,ke,Nt,j],encapsulation:2,changeDetection:0})}return t})(),Pi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=ze({imports:[tt,Q,Q]})}return t})();var Ea=(t,o)=>o.id;function Pa(t,o){if(t&1){let e=w();r(0,"div",28)(1,"p-button",29),v("onClick",function(){let n=h(e).$implicit,a=p(2);return f(a.loadSavedFilter(n))}),s(),r(2,"p-button",30),v("onClick",function(){let n=h(e).$implicit,a=p(2);return f(a.deleteSavedFilter(n.id))}),s()()}if(t&2){let e=o.$implicit;l(),c("label",e.name)("pTooltip",e.description||"Cargar filtro")}}function Da(t,o){if(t&1&&(r(0,"div",2)(1,"h4"),u(2,"Filtros Guardados"),s(),r(3,"div",27),Y(4,Pa,3,2,"div",28,Ea),s()()),t&2){let e=p();l(4),Z(e.savedFilters())}}function Va(t,o){if(t&1){let e=w();r(0,"p-button",31),v("onClick",function(){h(e);let n=p();return f(n.showSaveDialog.set(!0))}),s()}}function Fa(t,o){if(t&1){let e=w();r(0,"div",26)(1,"h4"),u(2,"Guardar Filtro Actual"),s(),r(3,"input",32),G("ngModelChange",function(n){h(e);let a=p();return q(a.saveFilterName,n)||(a.saveFilterName=n),f(n)}),v("keyup.enter",function(){h(e);let n=p();return f(n.saveCurrentFilter())}),s(),r(4,"div",33)(5,"p-button",34),v("onClick",function(){h(e);let n=p();return f(n.saveCurrentFilter())}),s(),r(6,"p-button",35),v("onClick",function(){h(e);let n=p();return f(n.showSaveDialog.set(!1))}),s()()()}if(t&2){let e=p();l(3),$("ngModel",e.saveFilterName),l(2),c("disabled",!e.saveFilterName())}}var Ae=class t{filterService=V(ui);searchApplied=be();searchCleared=be();name=x("");selectedStatuses=x([]);tagsInput=x("");tags=x([]);selectedPriorities=x([]);favoritesOnly=x(!1);hasErrors=x(void 0);lastSyncAfter=x(void 0);lastSyncBefore=x(void 0);saveFilterName=x("");showSaveDialog=x(!1);savedFilters=this.filterService.savedFilters;statusOptions=[{label:"Activo",value:"ACTIVE"},{label:"Error",value:"ERROR"},{label:"Deshabilitado",value:"DISABLED"},{label:"Token Inv\xE1lido",value:"INVALID_TOKEN"},{label:"Rate Limited",value:"RATE_LIMITED"}];priorityOptions=[{label:"\u2B50 1 - Muy Baja",value:1},{label:"\u2B50\u2B50 2 - Baja",value:2},{label:"\u2B50\u2B50\u2B50 3 - Media",value:3},{label:"\u2B50\u2B50\u2B50\u2B50 4 - Alta",value:4},{label:"\u2B50\u2B50\u2B50\u2B50\u2B50 5 - Cr\xEDtica",value:5}];errorOptions=[{label:"Todos",value:void 0},{label:"Solo con errores",value:!0},{label:"Sin errores",value:!1}];async ngOnInit(){await this.filterService.loadSavedFilters()}applySearch(){let o={name:this.name()||void 0,status:this.selectedStatuses().length>0?this.selectedStatuses():void 0,tags:this.tags().length>0?this.tags():void 0,priority:this.selectedPriorities().length>0?this.selectedPriorities():void 0,favoritesOnly:this.favoritesOnly(),hasErrors:this.hasErrors(),lastSyncAfter:this.lastSyncAfter(),lastSyncBefore:this.lastSyncBefore()};this.filterService.setCurrentFilter(o),this.searchApplied.emit(o)}clearFilters(){this.name.set(""),this.selectedStatuses.set([]),this.tags.set([]),this.selectedPriorities.set([]),this.favoritesOnly.set(!1),this.hasErrors.set(void 0),this.lastSyncAfter.set(void 0),this.lastSyncBefore.set(void 0),this.filterService.clearFilter(),this.searchCleared.emit()}loadSavedFilter(o){let e=o.criteria;this.name.set(e.name||""),this.selectedStatuses.set(e.status||[]),this.tags.set(e.tags||[]),this.selectedPriorities.set(e.priority||[]),this.favoritesOnly.set(e.favoritesOnly||!1),this.hasErrors.set(e.hasErrors),this.lastSyncAfter.set(e.lastSyncAfter),this.lastSyncBefore.set(e.lastSyncBefore),this.applySearch()}async saveCurrentFilter(){let o=this.saveFilterName();if(o)try{let e={name:this.name()||void 0,status:this.selectedStatuses().length>0?this.selectedStatuses():void 0,tags:this.tags().length>0?this.tags():void 0,priority:this.selectedPriorities().length>0?this.selectedPriorities():void 0,favoritesOnly:this.favoritesOnly(),hasErrors:this.hasErrors(),lastSyncAfter:this.lastSyncAfter(),lastSyncBefore:this.lastSyncBefore()};await this.filterService.saveFilter(o,e),this.saveFilterName.set(""),this.showSaveDialog.set(!1)}catch(e){console.error("Error saving filter:",e)}}async deleteSavedFilter(o){try{await this.filterService.deleteFilter(o)}catch(e){console.error("Error deleting filter:",e)}}hasActiveFilters(){return!!this.name()||this.selectedStatuses().length>0||this.tags().length>0||this.selectedPriorities().length>0||this.favoritesOnly()||this.hasErrors()!==void 0||!!this.lastSyncAfter()||!!this.lastSyncBefore()}parseTags(){let o=this.tagsInput();if(!o){this.tags.set([]);return}let e=o.split(",").map(i=>i.trim()).filter(i=>i.length>0);this.tags.set(e)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-advanced-search"]],outputs:{searchApplied:"searchApplied",searchCleared:"searchCleared"},decls:57,vars:19,consts:[["styleClass","search-card"],[1,"search-content"],[1,"search-section"],[1,"field-grid"],[1,"field"],["for","name"],["id","name","type","text","pInputText","","placeholder","Buscar por nombre...",3,"ngModelChange","keyup.enter","ngModel"],["for","status"],["id","status","placeholder","Seleccionar estados...","optionLabel","label","optionValue","value",3,"ngModelChange","options","ngModel","showClear"],["for","priority"],["id","priority","placeholder","Seleccionar prioridades...","optionLabel","label","optionValue","value",3,"ngModelChange","options","ngModel","showClear"],["for","errors"],["id","errors","optionLabel","label","optionValue","value","placeholder","Filtrar por errores...",3,"ngModelChange","options","ngModel"],["for","tags"],["id","tags","type","text","pInputText","","placeholder","ej: producci\xF3n, cr\xEDtico, urgente",3,"ngModelChange","blur","ngModel"],[1,"field","checkbox-field"],["id","favorites","label","Solo favoritos",3,"ngModelChange","ngModel","binary"],["for","syncAfter"],["id","syncAfter","placeholder","Fecha inicio...","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showIcon"],["for","syncBefore"],["id","syncBefore","placeholder","Fecha fin...","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showIcon"],[1,"search-actions"],[1,"action-group"],["label","Buscar","icon","pi pi-search","styleClass","p-button-primary",3,"onClick"],["label","Limpiar","icon","pi pi-times","styleClass","p-button-outlined",3,"onClick"],["label","Guardar Filtro","icon","pi pi-save","styleClass","p-button-outlined"],[1,"save-dialog"],[1,"saved-filters"],[1,"saved-filter-item"],["styleClass","p-button-outlined p-button-sm","icon","pi pi-filter",3,"onClick","label","pTooltip"],["icon","pi pi-trash","styleClass","p-button-text p-button-sm p-button-danger","pTooltip","Eliminar filtro",3,"onClick"],["label","Guardar Filtro","icon","pi pi-save","styleClass","p-button-outlined",3,"onClick"],["type","text","pInputText","","placeholder","Nombre del filtro...",3,"ngModelChange","keyup.enter","ngModel"],[1,"dialog-actions"],["label","Guardar","icon","pi pi-check","styleClass","p-button-sm",3,"onClick","disabled"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-text p-button-sm",3,"onClick"]],template:function(e,i){e&1&&(r(0,"p-card",0)(1,"div",1)(2,"div",2)(3,"h4"),u(4,"B\xFAsqueda B\xE1sica"),s(),r(5,"div",3)(6,"div",4)(7,"label",5),u(8,"Nombre del Workspace"),s(),r(9,"input",6),G("ngModelChange",function(a){return q(i.name,a)||(i.name=a),a}),v("keyup.enter",function(){return i.applySearch()}),s()()()(),r(10,"div",2)(11,"h4"),u(12,"Estado y Prioridad"),s(),r(13,"div",3)(14,"div",4)(15,"label",7),u(16,"Estado"),s(),r(17,"p-multiSelect",8),G("ngModelChange",function(a){return q(i.selectedStatuses,a)||(i.selectedStatuses=a),a}),s()(),r(18,"div",4)(19,"label",9),u(20,"Prioridad"),s(),r(21,"p-multiSelect",10),G("ngModelChange",function(a){return q(i.selectedPriorities,a)||(i.selectedPriorities=a),a}),s()(),r(22,"div",4)(23,"label",11),u(24,"Errores"),s(),r(25,"p-select",12),G("ngModelChange",function(a){return q(i.hasErrors,a)||(i.hasErrors=a),a}),s()()()(),r(26,"div",2)(27,"h4"),u(28,"Tags y Filtros Especiales"),s(),r(29,"div",3)(30,"div",4)(31,"label",13),u(32,"Tags (separados por comas)"),s(),r(33,"input",14),G("ngModelChange",function(a){return q(i.tagsInput,a)||(i.tagsInput=a),a}),v("blur",function(){return i.parseTags()}),s(),r(34,"small"),u(35,"Ingresa tags separados por comas"),s()(),r(36,"div",15)(37,"p-checkbox",16),G("ngModelChange",function(a){return q(i.favoritesOnly,a)||(i.favoritesOnly=a),a}),s()()()(),r(38,"div",2)(39,"h4"),u(40,"\xDAltima Sincronizaci\xF3n"),s(),r(41,"div",3)(42,"div",4)(43,"label",17),u(44,"Desde"),s(),r(45,"p-datepicker",18),G("ngModelChange",function(a){return q(i.lastSyncAfter,a)||(i.lastSyncAfter=a),a}),s()(),r(46,"div",4)(47,"label",19),u(48,"Hasta"),s(),r(49,"p-datepicker",20),G("ngModelChange",function(a){return q(i.lastSyncBefore,a)||(i.lastSyncBefore=a),a}),s()()()(),O(50,Da,6,0,"div",2),r(51,"div",21)(52,"div",22)(53,"p-button",23),v("onClick",function(){return i.applySearch()}),s(),r(54,"p-button",24),v("onClick",function(){return i.clearFilters()}),s()(),O(55,Va,1,0,"p-button",25),s(),O(56,Fa,7,2,"div",26),s()()),e&2&&(l(9),$("ngModel",i.name),l(8),c("options",i.statusOptions),$("ngModel",i.selectedStatuses),c("showClear",!0),l(4),c("options",i.priorityOptions),$("ngModel",i.selectedPriorities),c("showClear",!0),l(4),c("options",i.errorOptions),$("ngModel",i.hasErrors),l(8),$("ngModel",i.tagsInput),l(4),$("ngModel",i.favoritesOnly),c("binary",!0),l(8),$("ngModel",i.lastSyncAfter),c("showIcon",!0),l(4),$("ngModel",i.lastSyncBefore),c("showIcon",!0),l(),T(i.savedFilters().length>0?50:-1),l(5),T(i.hasActiveFilters()?55:-1),l(),T(i.showSaveDialog()?56:-1))},dependencies:[U,Ee,jt,we,ke,K,H,Zt,Ye,Pi,tt,J,pe,fi,hi,Pe,ei,de,X],styles:["[_nghost-%COMP%]{display:block}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:600;color:var(--primary-color)}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.active-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:var(--primary-100);color:var(--primary-700);border-radius:12px;font-size:.75rem;font-weight:500}.search-content[_ngcontent-%COMP%]{padding:0 1rem 1rem}.search-section[_ngcontent-%COMP%]{margin-bottom:2rem}.search-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:var(--text-color)}.field-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:var(--text-color-secondary)}.field[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary);margin-top:-.25rem}.checkbox-field[_ngcontent-%COMP%]{justify-content:center}.saved-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.saved-filter-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.search-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:1.5rem;border-top:1px solid var(--surface-border)}.action-group[_ngcontent-%COMP%]{display:flex;gap:.75rem}.save-dialog[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:var(--surface-50);border-radius:8px;border:1px solid var(--surface-border)}.save-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem}.save-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.save-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}@media(max-width:768px){.field-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.search-actions[_ngcontent-%COMP%]   .action-group[_ngcontent-%COMP%]{width:100%}.search-actions[_ngcontent-%COMP%]   .action-group[_ngcontent-%COMP%]     button{flex:1}.search-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0})};function Aa(t,o){if(t&1&&(r(0,"span",16),_(1,"i",18),u(2),s()),t&2){let e=p(2);l(2),L(" ",e.stats().domainsExpiring7Days+e.stats().subscriptionsExpiring7Days," vencimientos pr\xF3ximos ")}}function La(t,o){t&1&&(r(0,"span",17),_(1,"i",19),u(2," Todo bajo control "),s())}function Ba(t,o){if(t&1&&(r(0,"div",6)(1,"span",15),u(2),s(),O(3,Aa,3,1,"span",16)(4,La,3,0,"span",17),s()),t&2){let e=p();l(2),L("\xA1Hola, ",e.userDisplayName(),"!"),l(),T(e.hasIssues()?3:4)}}function za(t,o){t&1&&_(0,"p-skeleton",22)}function Na(t,o){t&1&&_(0,"p-skeleton",22)}function Wa(t,o){t&1&&(r(0,"div",14)(1,"p-card"),m(2,za,1,0,"ng-template",20),_(3,"p-skeleton",21),s(),r(4,"p-card"),m(5,Na,1,0,"ng-template",20),_(6,"p-skeleton",21),s()())}function Ra(t,o){if(t&1){let e=w();r(0,"p-card")(1,"div",23),_(2,"i",24),r(3,"h2"),u(4,"Error al cargar el dashboard"),s(),r(5,"p"),u(6),s(),r(7,"p-button",25),v("onClick",function(){h(e);let n=p();return f(n.loadDashboard())}),s()()()}if(t&2){let e=p();l(6),k(e.error())}}function Ha(t,o){t&1&&(r(0,"div",46),_(1,"i",47),r(2,"h3"),u(3,"Resumen"),s()())}function Ka(t,o){if(t&1&&(r(0,"div",29),_(1,"app-expiration-card",38)(2,"app-expiration-card",39),r(3,"p-card",40),m(4,Ha,4,0,"ng-template",20),r(5,"div",41)(6,"div",42)(7,"span",43),u(8,"Workspaces:"),s(),r(9,"span",44),u(10),s()(),r(11,"div",42)(12,"span",43),u(13,"Activos:"),s(),r(14,"span",45),u(15),s()(),r(16,"div",42)(17,"span",43),u(18,"Total Dominios:"),s(),r(19,"span",44),u(20),s()(),r(21,"div",42)(22,"span",43),u(23,"Total Suscripciones:"),s(),r(24,"span",44),u(25),s()()()()()),t&2){let e=p(2);l(),c("count7Days",e.stats().domainsExpiring7Days)("count15Days",e.stats().domainsExpiring15Days)("count30Days",e.stats().domainsExpiring30Days)("count60Days",e.stats().domainsExpiring60Days)("totalCount",e.stats().totalDomains),l(),c("count7Days",e.stats().subscriptionsExpiring7Days)("count15Days",e.stats().subscriptionsExpiring15Days)("count30Days",e.stats().subscriptionsExpiring30Days)("count60Days",e.stats().subscriptionsExpiring60Days)("totalCount",e.stats().totalSubscriptions),l(8),k(e.stats().totalWorkspaces),l(5),k(e.stats().totalWorkspaces-e.stats().workspacesInError.length),l(5),k(e.stats().totalDomains),l(5),k(e.stats().totalSubscriptions)}}function $a(t,o){if(t&1&&(r(0,"div",32),_(1,"app-workspaces-alert-panel",49),s()),t&2){let e=p(3);l(),c("workspaces",e.stats().workspacesInError)}}function qa(t,o){if(t&1){let e=w();r(0,"div",30)(1,"div",27),v("click",function(){h(e);let n=p(2);return f(n.toggleAlerts())}),r(2,"h3"),_(3,"i",48),u(4),s(),_(5,"i"),s(),O(6,$a,2,1,"div",32),s()}if(t&2){let e=p(2);l(4),L(" Workspaces con Errores (",e.stats().workspacesInError.length,") "),l(),g(e.isAlertsCollapsed()?"pi pi-chevron-down":"pi pi-chevron-up"),l(),T(e.isAlertsCollapsed()?-1:6)}}function Ga(t,o){if(t&1){let e=w();r(0,"div",32)(1,"app-critical-workspaces-widget",50),v("workspaceClicked",function(n){h(e);let a=p(2);return f(a.navigateToWorkspace(n))}),s()()}if(t&2){let e=p(2);l(),c("workspaces",e.allWorkspaces())("maxItems",5)}}function ja(t,o){if(t&1){let e=w();r(0,"div",32)(1,"app-advanced-search",51),v("searchApplied",function(n){h(e);let a=p(2);return f(a.onSearchApplied(n))})("searchCleared",function(){h(e);let n=p(2);return f(n.onSearchCleared())}),s()()}}function Ua(t,o){if(t&1&&(r(0,"div",32),_(1,"app-expiration-trends-chart",52),s()),t&2){let e=p(2);l(),c("data",e.expirationTrends())}}function Qa(t,o){t&1&&(r(0,"p-card"),_(1,"p-skeleton",53),s())}function Ya(t,o){if(t&1&&(r(0,"div",32),_(1,"app-upcoming-events-timeline",54),s()),t&2){let e=p(2);l(),c("events",e.upcomingEvents())("maxEvents",10)}}function Za(t,o){if(t&1){let e=w();r(0,"div",26)(1,"div",27),v("click",function(){h(e);let n=p();return f(n.toggleStats())}),r(2,"h3"),_(3,"i",28),u(4," Estad\xEDsticas R\xE1pidas "),s(),_(5,"i"),s(),O(6,Ka,26,14,"div",29),s(),O(7,qa,7,4,"div",30),r(8,"div",31)(9,"div",27),v("click",function(){h(e);let n=p();return f(n.toggleCritical())}),r(10,"h3"),_(11,"i",18),u(12," Workspaces M\xE1s Cr\xEDticos "),s(),_(13,"i"),s(),O(14,Ga,2,2,"div",32),s(),r(15,"div",33)(16,"div",27),v("click",function(){h(e);let n=p();return f(n.toggleSearch())}),r(17,"h3"),_(18,"i",34),u(19," B\xFAsqueda Avanzada "),s(),_(20,"i"),s(),O(21,ja,2,0,"div",32),s(),r(22,"div",35)(23,"div",27),v("click",function(){h(e);let n=p();return f(n.toggleCharts())}),r(24,"h3"),_(25,"i",5),u(26," Tendencias de Vencimientos "),s(),_(27,"i"),s(),O(28,Ua,2,1,"div",32),s(),r(29,"div",36)(30,"div",27),v("click",function(){h(e);let n=p();return f(n.toggleTimeline())}),r(31,"h3"),_(32,"i",37),u(33," Pr\xF3ximos Vencimientos "),s(),_(34,"i"),s(),O(35,Qa,2,0,"p-card")(36,Ya,2,2,"div",32),s()}if(t&2){let e=p();l(5),g(e.isStatsCollapsed()?"pi pi-chevron-down":"pi pi-chevron-up"),l(),T(e.isStatsCollapsed()?-1:6),l(),T(e.stats().workspacesInError.length>0?7:-1),l(6),g(e.isCriticalCollapsed()?"pi pi-chevron-down":"pi pi-chevron-up"),l(),T(e.isCriticalCollapsed()?-1:14),l(6),g(e.isSearchCollapsed()?"pi pi-chevron-down":"pi pi-chevron-up"),l(),T(e.isSearchCollapsed()?-1:21),l(6),g(e.isChartsCollapsed()?"pi pi-chevron-down":"pi pi-chevron-up"),l(),T(e.isChartsCollapsed()?-1:28),l(6),g(e.isTimelineCollapsed()?"pi pi-chevron-down":"pi pi-chevron-up"),l(),T(e.isLoadingEvents()?35:e.isTimelineCollapsed()?-1:36)}}var st=class t{dashboardService=V(di);workspaceService=V(At);authService=V(Ft);exportService=V(mi);router=V(qe);confirmationService=V(ot);messageService=V(at);stats=this.dashboardService.stats;isLoading=this.dashboardService.isLoading;error=this.dashboardService.error;isSyncingAll=x(!1);currentUser=this.authService.currentUser;upcomingEvents=x([]);expirationTrends=x([]);isLoadingEvents=x(!1);allWorkspaces=this.workspaceService.workspaces;isStatsCollapsed=x(!1);isAlertsCollapsed=x(!1);isCriticalCollapsed=x(!1);isSearchCollapsed=x(!0);isChartsCollapsed=x(!1);isTimelineCollapsed=x(!1);userDisplayName=N(()=>this.authService.getUserDisplayName());hasIssues=N(()=>{let o=this.stats();return o?o.domainsExpiring7Days>0||o.subscriptionsExpiring7Days>0||o.workspacesInError.length>0:!1});ngOnInit(){this.loadDashboard(),this.loadEnhancedData()}async loadDashboard(){try{await this.dashboardService.loadDashboardStats(),await this.workspaceService.getAllWorkspaces(),this.expirationTrends.set(this.dashboardService.getExpirationTrends())}catch{this.messageService.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las estad\xEDsticas del dashboard"})}}async loadEnhancedData(){try{this.isLoadingEvents.set(!0);let o=await this.dashboardService.getUpcomingEvents(10);this.upcomingEvents.set(o)}catch(o){console.error("Error loading upcoming events:",o)}finally{this.isLoadingEvents.set(!1)}}navigateToWorkspaces(){this.router.navigate(["/workspaces"])}async syncAllWorkspaces(){this.confirmationService.confirm({message:"\xBFDeseas sincronizar TODOS los workspaces activos? Esto puede tomar varios minutos.",header:"Confirmar Sincronizaci\xF3n Global",icon:"pi pi-exclamation-triangle",acceptLabel:"S\xED, sincronizar",rejectLabel:"Cancelar",accept:async()=>{try{this.isSyncingAll.set(!0),this.messageService.add({severity:"info",summary:"Sincronizaci\xF3n Iniciada",detail:"Sincronizando todos los workspaces activos...",life:3e3});let o=await this.workspaceService.syncAllWorkspaces();this.messageService.add({severity:"success",summary:"Sincronizaci\xF3n Completada",detail:`Total: ${o.totalWorkspaces} - \xC9xitos: ${o.successCount} - Fallos: ${o.failureCount}`,life:8e3}),await this.loadDashboard(),await this.loadEnhancedData()}catch(o){this.messageService.add({severity:"error",summary:"Error en Sincronizaci\xF3n",detail:o instanceof Error?o.message:"Error desconocido",life:5e3})}finally{this.isSyncingAll.set(!1)}}})}exportToCSV(){let o=this.upcomingEvents();if(o.length===0){this.messageService.add({severity:"warn",summary:"Sin datos",detail:"No hay eventos para exportar",life:3e3});return}let e=o.map(n=>({T\u00EDtulo:n.title,Tipo:n.type==="domain"?"Dominio":"Suscripci\xF3n",Workspace:n.workspaceName,"Fecha de Vencimiento":n.expirationDate.toLocaleDateString("es-ES"),"D\xEDas Restantes":n.daysUntilExpiration,Estado:n.status==="critical"?"Cr\xEDtico":n.status==="warning"?"Advertencia":"Info"})),i=`dashboard-vencimientos-${new Date().toISOString().split("T")[0]}.csv`;this.exportService.exportToCSV(e,i),this.messageService.add({severity:"success",summary:"Exportado",detail:`Datos exportados a ${i}`,life:3e3})}async onLogout(){try{await this.authService.signOut(),await this.router.navigate(["/login"])}catch(o){console.error("Error during logout:",o)}}navigateToWorkspace(o){this.router.navigate(["/workspaces",o.id])}onSearchApplied(o){this.messageService.add({severity:"info",summary:"Filtro Aplicado",detail:"B\xFAsqueda aplicada correctamente",life:3e3}),this.navigateToWorkspaces()}onSearchCleared(){this.messageService.add({severity:"info",summary:"Filtros Limpiados",detail:"Todos los filtros han sido removidos",life:3e3})}toggleStats(){this.isStatsCollapsed.update(o=>!o)}toggleAlerts(){this.isAlertsCollapsed.update(o=>!o)}toggleCritical(){this.isCriticalCollapsed.update(o=>!o)}toggleSearch(){this.isSearchCollapsed.update(o=>!o)}toggleCharts(){this.isChartsCollapsed.update(o=>!o)}toggleTimeline(){this.isTimelineCollapsed.update(o=>!o)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-dashboard"]],features:[oe([ot,at])],decls:20,vars:10,consts:[[1,"dashboard-container"],["styleClass","dashboard-toolbar"],[1,"p-toolbar-group-start"],[1,"toolbar-left-content"],[1,"dashboard-title"],[1,"pi","pi-chart-line"],[1,"welcome-inline"],[1,"p-toolbar-group-end"],["label","Actualizar","icon","pi pi-refresh","severity","secondary","size","small","pTooltip","Actualizar estad\xEDsticas","tooltipPosition","bottom",3,"onClick","outlined","loading"],["label","Sincronizar Todos","icon","pi pi-sync","severity","secondary","size","small","pTooltip","Sincronizar todos los workspaces activos","tooltipPosition","bottom",3,"onClick","outlined","loading"],["label","Exportar CSV","icon","pi pi-download","severity","secondary","size","small","pTooltip","Exportar vencimientos a CSV","tooltipPosition","bottom",3,"onClick","outlined"],["label","Ver Workspaces","icon","pi pi-briefcase","severity","success","size","small",3,"onClick"],["label","Salir","icon","pi pi-sign-out","severity","secondary","size","small",3,"onClick","outlined"],[1,"dashboard-content"],[1,"stats-grid"],[1,"welcome-user"],[1,"status-text","warning-text"],[1,"status-text","success-text"],[1,"pi","pi-exclamation-circle"],[1,"pi","pi-check-circle"],["pTemplate","header"],["height","10rem"],["width","60%","height","2rem"],[1,"error-state"],[1,"pi","pi-exclamation-triangle",2,"font-size","3rem","color","var(--red-500)"],["label","Reintentar","icon","pi pi-refresh",3,"onClick"],[1,"compact-stats-grid","collapsible-section"],[1,"section-header",3,"click"],[1,"pi","pi-chart-bar"],[1,"section-content","stats-grid-content"],[1,"alert-section","collapsible-section"],[1,"critical-section","collapsible-section"],[1,"section-content"],[1,"search-section","collapsible-section"],[1,"pi","pi-filter"],[1,"chart-section-full","collapsible-section"],[1,"timeline-section","collapsible-section"],[1,"pi","pi-calendar"],["title","Dominios","icon","pi pi-globe",3,"count7Days","count15Days","count30Days","count60Days","totalCount"],["title","Suscripciones","icon","pi pi-ticket",3,"count7Days","count15Days","count30Days","count60Days","totalCount"],["styleClass","summary-card"],[1,"summary-compact"],[1,"stat-row"],[1,"stat-label"],[1,"stat-value"],[1,"stat-value","success"],[1,"card-header-compact"],[1,"pi","pi-briefcase"],[1,"pi","pi-exclamation-triangle"],[3,"workspaces"],[3,"workspaceClicked","workspaces","maxItems"],[3,"searchApplied","searchCleared"],["title","Tendencias de Vencimientos",3,"data"],["height","300px"],["title","Pr\xF3ximos Vencimientos",3,"events","maxEvents"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"p-toast")(2,"p-confirmDialog"),r(3,"p-toolbar",1)(4,"div",2)(5,"div",3)(6,"h1",4),_(7,"i",5),u(8," Dashboard "),s(),O(9,Ba,5,2,"div",6),s()(),r(10,"div",7)(11,"p-button",8),v("onClick",function(){return i.loadDashboard()}),s(),r(12,"p-button",9),v("onClick",function(){return i.syncAllWorkspaces()}),s(),r(13,"p-button",10),v("onClick",function(){return i.exportToCSV()}),s(),r(14,"p-button",11),v("onClick",function(){return i.navigateToWorkspaces()}),s(),r(15,"p-button",12),v("onClick",function(){return i.onLogout()}),s()()(),r(16,"div",13),O(17,Wa,7,0,"div",14),O(18,Ra,8,1,"p-card"),O(19,Za,37,16),s()()),e&2&&(l(9),T(i.stats()&&!i.isLoading()?9:-1),l(2),c("outlined",!0)("loading",i.isLoading()),l(),c("outlined",!0)("loading",i.isSyncingAll()),l(),c("outlined",!0),l(2),c("outlined",!0),l(2),T(i.isLoading()?17:-1),l(),T(i.error()&&!i.isLoading()?18:-1),l(),T(i.stats()&&!i.isLoading()?19:-1))},dependencies:[K,H,B,J,pe,oi,ni,li,ai,si,ri,pi,ci,te,Ze,Je,De,Ve,Fe,Ae],styles:[".dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f9fafb}.dashboard-toolbar[_ngcontent-%COMP%]{box-shadow:0 1px 3px #00000014;margin-bottom:2rem;background:#fff;border-bottom:1px solid #e5e7eb;padding:1.25rem 2rem}.dashboard-toolbar[_ngcontent-%COMP%]   .p-toolbar-group-end[_ngcontent-%COMP%]{display:flex;gap:.5rem}.dashboard-toolbar[_ngcontent-%COMP%]   .toolbar-left-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dashboard-toolbar[_ngcontent-%COMP%]   .welcome-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.dashboard-toolbar[_ngcontent-%COMP%]   .welcome-user[_ngcontent-%COMP%]{font-size:.95rem;color:#4b5563;font-weight:500}.dashboard-toolbar[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.875rem;padding:.25rem .75rem;border-radius:6px}.dashboard-toolbar[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.dashboard-toolbar[_ngcontent-%COMP%]   .status-text.warning-text[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.dashboard-toolbar[_ngcontent-%COMP%]   .status-text.success-text[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.dashboard-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:700;font-size:1.5rem;color:#1f2937;margin:0}.dashboard-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#64748b}@media(max-width:768px){.dashboard-title[_ngcontent-%COMP%]{font-size:1.25rem}}.dashboard-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}@media(max-width:768px){.dashboard-content[_ngcontent-%COMP%]{padding:0 1rem 1rem}}.compact-stats-grid[_ngcontent-%COMP%]{margin-bottom:2rem}.compact-stats-grid.collapsible-section[_ngcontent-%COMP%]   .stats-grid-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem}@media(max-width:1200px){.compact-stats-grid.collapsible-section[_ngcontent-%COMP%]   .stats-grid-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.compact-stats-grid.collapsible-section[_ngcontent-%COMP%]   .stats-grid-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.summary-card[_ngcontent-%COMP%]   .card-header-compact[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid var(--surface-border)}.summary-card[_ngcontent-%COMP%]   .card-header-compact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color)}.summary-card[_ngcontent-%COMP%]   .card-header-compact[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600}.summary-card[_ngcontent-%COMP%]   .summary-compact[_ngcontent-%COMP%]{padding:1rem}.summary-card[_ngcontent-%COMP%]   .summary-compact[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid var(--surface-border)}.summary-card[_ngcontent-%COMP%]   .summary-compact[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.summary-card[_ngcontent-%COMP%]   .summary-compact[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-color-secondary);font-weight:500}.summary-card[_ngcontent-%COMP%]   .summary-compact[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--text-color)}.summary-card[_ngcontent-%COMP%]   .summary-compact[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value.success[_ngcontent-%COMP%]{color:var(--gray-700)}.alert-section[_ngcontent-%COMP%], .chart-section-full[_ngcontent-%COMP%]{margin-bottom:2rem}.chart-section-full[_ngcontent-%COMP%]     .p-card{box-shadow:0 1px 3px #0000001a}.error-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:1rem}.error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:1rem 0 .5rem;font-size:1.5rem;color:var(--text-color)}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem;color:var(--text-color-secondary)}.enhanced-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem;margin-top:2rem}@media(max-width:1200px){.enhanced-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}.enhanced-section[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%], .enhanced-section[_ngcontent-%COMP%]   .comparison-section[_ngcontent-%COMP%]{min-height:350px}.alert-section[_ngcontent-%COMP%], .critical-section[_ngcontent-%COMP%], .search-section[_ngcontent-%COMP%], .chart-section-full[_ngcontent-%COMP%]{margin-bottom:2rem}.timeline-section[_ngcontent-%COMP%]{margin-top:2rem}.collapsible-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.collapsible-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5rem;background:linear-gradient(135deg,#475569,#334155);cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .3s ease}.collapsible-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3f4f63,#2d3748)}.collapsible-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:#fff;display:flex;align-items:center;gap:.75rem}.collapsible-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.collapsible-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;transition:transform .3s ease}.collapsible-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.alert-section[_ngcontent-%COMP%]:not(.collapsible-section), .critical-section[_ngcontent-%COMP%]:not(.collapsible-section), .search-section[_ngcontent-%COMP%]:not(.collapsible-section), .chart-section-full[_ngcontent-%COMP%]:not(.collapsible-section), .timeline-section[_ngcontent-%COMP%]:not(.collapsible-section){margin-bottom:2rem}"],changeDetection:0})};export{st as default};

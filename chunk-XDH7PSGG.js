var r=class s{id;name;description;encryptedToken;status;createdAt;updatedAt;lastTestedAt;lastTestError;lastSyncAt;lastSyncStatus;lastError;lastErrorAt;constructor(t){this.id=t.id,this.name=t.name,this.description=t.description,this.encryptedToken=t.encryptedToken,this.status=t.status,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.lastTestedAt=t.lastTestedAt,this.lastTestError=t.lastTestError,this.lastSyncAt=t.lastSyncAt,this.lastSyncStatus=t.lastSyncStatus,this.lastError=t.lastError,this.lastErrorAt=t.lastErrorAt}isHealthy(){return this.status==="ACTIVE"}hasTokenIssue(){return this.status==="INVALID_TOKEN"}isRateLimited(){return this.status==="RATE_LIMITED"}isDisabled(){return this.status==="DISABLED"}canSync(){return!this.isDisabled()&&!this.hasTokenIssue()}getStatusMessage(){switch(this.status){case"ACTIVE":return"Active";case"INVALID_TOKEN":return"Invalid Token";case"RATE_LIMITED":return"Rate Limited";case"ERROR":return"Error";case"DISABLED":return"Disabled";default:return"Unknown"}}toFirestore(){return{name:this.name,description:this.description,encryptedToken:this.encryptedToken,status:this.status,createdAt:this.createdAt,updatedAt:this.updatedAt,lastTestedAt:this.lastTestedAt,lastTestError:this.lastTestError,lastSyncAt:this.lastSyncAt,lastSyncStatus:this.lastSyncStatus,lastError:this.lastError,lastErrorAt:this.lastErrorAt}}static fromFirestore(t,e){return new s({id:t,name:e.name,description:e.description,encryptedToken:e.encryptedToken,status:e.status,createdAt:e.createdAt,updatedAt:e.updatedAt,lastTestedAt:e.lastTestedAt,lastTestError:e.lastTestError,lastSyncAt:e.lastSyncAt,lastSyncStatus:e.lastSyncStatus,lastError:e.lastError,lastErrorAt:e.lastErrorAt})}};var i=class s{id;workspaceId;startAt;endAt;status;domainsProcessed;subscriptionsProcessed;errors;constructor(t){this.id=t.id,this.workspaceId=t.workspaceId,this.startAt=t.startAt,this.endAt=t.endAt,this.status=t.status,this.domainsProcessed=t.domainsProcessed,this.subscriptionsProcessed=t.subscriptionsProcessed,this.errors=t.errors}isRunning(){return this.status==="running"}isSuccess(){return this.status==="success"}isFailed(){return this.status==="failed"}isPartialSuccess(){return this.status==="partial_success"}hasErrors(){return this.errors.length>0}getTotalProcessed(){return this.domainsProcessed+this.subscriptionsProcessed}getDurationMs(){return this.endAt?this.endAt.toMillis()-this.startAt.toMillis():null}getDurationSeconds(){let t=this.getDurationMs();return t?Math.round(t/1e3):null}toFirestore(){return{workspaceId:this.workspaceId,startAt:this.startAt,endAt:this.endAt,status:this.status,domainsProcessed:this.domainsProcessed,subscriptionsProcessed:this.subscriptionsProcessed,errors:this.errors}}static fromFirestore(t,e){return new s({id:t,workspaceId:e.workspaceId,startAt:e.startAt,endAt:e.endAt,status:e.status,domainsProcessed:e.domainsProcessed||0,subscriptionsProcessed:e.subscriptionsProcessed||0,errors:e.errors||[]})}};var n=class{id;workspaceId;entityType;entityId;entityName;daysBefore;expiresAt;createdAt;processed;constructor(t){this.id=t.id,this.workspaceId=t.workspaceId,this.entityType=t.entityType,this.entityId=t.entityId,this.entityName=t.entityName,this.daysBefore=t.daysBefore,this.expiresAt=t.expiresAt,this.createdAt=t.createdAt,this.processed=t.processed}isCritical(){return this.daysBefore<=7}isWarning(){return this.daysBefore>7&&this.daysBefore<=30}isInfo(){return this.daysBefore>30}getSeverity(){return this.daysBefore<=3?"danger":this.daysBefore<=7?"warn":this.daysBefore<=30?"info":"success"}getDaysBeforeLabel(){return this.daysBefore===1?"1 d\xEDa":`${this.daysBefore} d\xEDas`}getEntityTypeLabel(){return this.entityType==="domain"?"Dominio":"Suscripci\xF3n"}};var o=class{id;action;workspaceId;actorUid;actorEmail;createdAt;status;meta;errorMessage;constructor(t){this.id=t.id,this.action=t.action,this.workspaceId=t.workspaceId,this.actorUid=t.actorUid,this.actorEmail=t.actorEmail,this.createdAt=t.createdAt,this.status=t.status,this.meta=t.meta,this.errorMessage=t.errorMessage}isSuccess(){return this.status==="success"}isFailure(){return this.status==="failed"}isPartial(){return this.status==="partial"}getSeverity(){switch(this.status){case"success":return"success";case"failed":return"danger";case"partial":return"warn";default:return"info"}}getActionLabel(){return{"workspace.create":"Crear Workspace","workspace.update":"Actualizar Workspace","workspace.disable":"Deshabilitar Workspace","workspace.delete":"Eliminar Workspace","token.save":"Guardar Token","token.test":"Probar Conexi\xF3n","sync.manual":"Sincronizaci\xF3n Manual","sync.scheduled":"Sincronizaci\xF3n Programada","alert.generate":"Generar Alertas","dns.view":"Ver DNS","dns.validate":"Validar DNS","dns.snapshot":"Snapshot DNS","dns.rollback":"Rollback DNS"}[this.action]||this.action}getStatusLabel(){return{success:"\xC9xito",failure:"Fallo",partial:"Parcial"}[this.status]||this.status}getActionIcon(){return this.action.startsWith("workspace.")?"pi pi-briefcase":this.action.startsWith("token.")?"pi pi-key":this.action.startsWith("sync.")?"pi pi-sync":this.action.startsWith("alert.")?"pi pi-bell":this.action.startsWith("dns.")?"pi pi-globe":"pi pi-file"}isWorkspaceAction(){return this.action.startsWith("workspace.")}isSyncAction(){return this.action.startsWith("sync.")}};export{r as a,i as b,n as c,o as d};

import{O as t,ia as s,tc as r}from"./chunk-ZVXIGZDY.js";var c=class o{selectedWorkspaceSignal=s(this.getInitialWorkspace());selectedWorkspace=this.selectedWorkspaceSignal.asReadonly();hasWorkspaceSelected=r(()=>this.selectedWorkspaceSignal()!==null);workspaceId=r(()=>this.selectedWorkspaceSignal()?.id??null);workspaceName=r(()=>this.selectedWorkspaceSignal()?.name??"");workspaceStatus=r(()=>this.selectedWorkspaceSignal()?.status??null);isWorkspaceActive=r(()=>{let e=this.workspaceStatus();return e==="ACTIVE"||e==="INVALID_TOKEN"});selectWorkspace(e){this.selectedWorkspaceSignal.set(e),this.saveToStorage(e)}clearWorkspace(){this.selectedWorkspaceSignal.set(null),this.clearStorage()}getCurrentWorkspace(){return this.selectedWorkspaceSignal()}hasWorkspace(){return this.hasWorkspaceSelected()}saveToStorage(e){try{localStorage.setItem("selected_workspace",JSON.stringify({id:e.id,name:e.name,status:e.status}))}catch(a){console.error("Error saving workspace to storage:",a)}}getInitialWorkspace(){try{if(typeof localStorage>"u")return null;let e=localStorage.getItem("selected_workspace");return e?JSON.parse(e):null}catch(e){return console.error("Error loading workspace from storage:",e),this.clearStorage(),null}}clearStorage(){try{localStorage.removeItem("selected_workspace")}catch(e){console.error("Error clearing workspace storage:",e)}}static \u0275fac=function(a){return new(a||o)};static \u0275prov=t({token:o,factory:o.\u0275fac,providedIn:"root"})};export{c as a};

import{$ as mr,$a as fc,A as $t,Aa as Qi,Ab as Do,Ac as pv,B as cc,Ba as Hy,Bb as pc,Bc as gv,C as ei,Ca as qy,Cb as gc,Cc as mv,D as Wi,Da as Gy,Db as sv,Dc as ye,E as uc,Ea as Wy,Ec as Yd,F as pr,Fa as Ky,Fb as ov,Fc as Jd,G as Od,Ga as Qy,Gb as xt,Gc as yv,H as Fy,Ha as Yy,Hb as ze,I as Mt,Ia as ri,Ib as mc,J as lc,Jb as Gt,K as gt,Kb as Wt,L as J,La as Jy,Lb as Kt,M as ti,Mb as yc,O as F,Oa as dt,Ob as ai,P as Oe,Pa as ii,Pb as ci,Q as Vy,Qa as Xy,Qb as av,R as z,Ra as hc,S as G,Sa as Vd,Sb as cv,T as N,Ta as Zy,U as gr,Ua as Ao,Ub as uv,V as Uy,Va as ev,Vb as vc,W as hn,Wa as Ht,Wb as lv,X as mt,Xa as ue,Xb as ot,Ya as tv,Yb as _c,Za as Yi,Zb as bc,_ as Ki,_a as nv,a as P,aa as de,ab as je,b as ae,ba as To,bb as ke,ca as By,cb as he,d as Gi,da as jt,db as Ud,dc as Ke,ea as xn,eb as qt,fa as kd,fb as Re,g as Oy,ga as So,gb as si,gc as Kd,h as ky,hb as Bd,i as wo,ia as Ie,ib as $d,j as nt,jb as Co,k as kt,ka as $y,kb as jd,l as Ln,la as Te,lb as zd,m as pt,ma as zt,mb as Lt,n as Y,na as Fn,o as My,oa as ce,p as Pd,pa as Md,pb as rv,q as Ly,qa as It,qb as iv,qc as dv,ra as jy,rc as hv,sa as Ld,sc as Tt,t as De,ta as zy,tc as fv,u as Nd,ua as fn,ub as Me,uc as rt,v as dn,vb as Hd,vc as B,w as Io,wa as xd,wb as qd,x as xy,xa as Fd,xb as oi,xc as Qd,y as ac,ya as dc,yb as Gd,za as ni,zb as Wd,zc as yr}from"./chunk-BYQLS5JT.js";var vv=null;function Vn(){return vv}function Xd(n){vv??=n}var Ro=class{},vr=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>N(_v),providedIn:"platform"})}return n})(),Zd=new z(""),_v=(()=>{class n extends vr{_location;_history;_doc=N(de);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(e){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ec(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function bv(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Qt(n){return n&&n[0]!=="?"?`?${n}`:n}var Yt=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>N(Ic),providedIn:"root"})}return n})(),wc=new z(""),Ic=(()=>{class n extends Yt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ec(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Qt(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+Qt(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+Qt(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(G(vr),G(wc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_r=(()=>{class n{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=W0(bv(Ev(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Qt(r))}normalize(e){return n.stripTrailingSlash(G0(this._basePath,Ev(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qt(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Qt;static joinWithSlash=Ec;static stripTrailingSlash=bv;static \u0275fac=function(r){return new(r||n)(G(Yt))};static \u0275prov=F({token:n,factory:()=>q0(),providedIn:"root"})}return n})();function q0(){return new _r(G(Yt))}function G0(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Ev(n){return n.replace(/\/index.html$/,"")}function W0(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var ih=(()=>{class n extends Yt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Ec(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+Qt(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+Qt(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(G(vr),G(wc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var at=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(at||{}),fe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(fe||{}),yt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(yt||{}),Bn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Av(n){return xt(n)[ze.LocaleId]}function Cv(n,t,e){let r=xt(n),i=[r[ze.DayPeriodsFormat],r[ze.DayPeriodsStandalone]],s=Ft(i,t);return Ft(s,e)}function Dv(n,t,e){let r=xt(n),i=[r[ze.DaysFormat],r[ze.DaysStandalone]],s=Ft(i,t);return Ft(s,e)}function Rv(n,t,e){let r=xt(n),i=[r[ze.MonthsFormat],r[ze.MonthsStandalone]],s=Ft(i,t);return Ft(s,e)}function Pv(n,t){let r=xt(n)[ze.Eras];return Ft(r,t)}function Po(n,t){let e=xt(n);return Ft(e[ze.DateFormat],t)}function No(n,t){let e=xt(n);return Ft(e[ze.TimeFormat],t)}function Oo(n,t){let r=xt(n)[ze.DateTimeFormat];return Ft(r,t)}function ko(n,t){let e=xt(n),r=e[ze.NumberSymbols][t];if(typeof r>"u"){if(t===Bn.CurrencyDecimal)return e[ze.NumberSymbols][Bn.Decimal];if(t===Bn.CurrencyGroup)return e[ze.NumberSymbols][Bn.Group]}return r}function Nv(n){if(!n[ze.ExtraData])throw new J(2303,!1)}function Ov(n){let t=xt(n);return Nv(t),(t[ze.ExtraData][2]||[]).map(r=>typeof r=="string"?eh(r):[eh(r[0]),eh(r[1])])}function kv(n,t,e){let r=xt(n);Nv(r);let i=[r[ze.ExtraData][0],r[ze.ExtraData][1]],s=Ft(i,t)||[];return Ft(s,e)||[]}function Ft(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new J(2304,!1)}function eh(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var K0=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tc={},Q0=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Mv(n,t,e,r){let i=iS(n);t=Un(e,t)||t;let o=[],c;for(;t;)if(c=Q0.exec(t),c){o=o.concat(c.slice(1));let h=o.pop();if(!h)break;t=h}else{o.push(t);break}let u=i.getTimezoneOffset();r&&(u=xv(r,u),i=rS(i,r));let l="";return o.forEach(h=>{let p=tS(h);l+=p?p(i,e,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Rc(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Un(n,t){let e=Av(n);if(Tc[e]??={},Tc[e][t])return Tc[e][t];let r="";switch(t){case"shortDate":r=Po(n,yt.Short);break;case"mediumDate":r=Po(n,yt.Medium);break;case"longDate":r=Po(n,yt.Long);break;case"fullDate":r=Po(n,yt.Full);break;case"shortTime":r=No(n,yt.Short);break;case"mediumTime":r=No(n,yt.Medium);break;case"longTime":r=No(n,yt.Long);break;case"fullTime":r=No(n,yt.Full);break;case"short":let i=Un(n,"shortTime"),s=Un(n,"shortDate");r=Sc(Oo(n,yt.Short),[i,s]);break;case"medium":let o=Un(n,"mediumTime"),c=Un(n,"mediumDate");r=Sc(Oo(n,yt.Medium),[o,c]);break;case"long":let u=Un(n,"longTime"),l=Un(n,"longDate");r=Sc(Oo(n,yt.Long),[u,l]);break;case"full":let h=Un(n,"fullTime"),p=Un(n,"fullDate");r=Sc(Oo(n,yt.Full),[h,p]);break}return r&&(Tc[e][t]=r),r}function Sc(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function Jt(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function Y0(n,t){return Jt(n,3).substring(0,t)}function Le(n,t,e=0,r=!1,i=!1){return function(s,o){let c=J0(n,s);if((e>0||c>-e)&&(c+=e),n===3)c===0&&e===-12&&(c=12);else if(n===6)return Y0(c,t);let u=ko(o,Bn.MinusSign);return Jt(c,t,u,r,i)}}function J0(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new J(2301,!1)}}function ve(n,t,e=at.Format,r=!1){return function(i,s){return X0(i,s,n,t,e,r)}}function X0(n,t,e,r,i,s){switch(e){case 2:return Rv(t,i,r)[n.getMonth()];case 1:return Dv(t,i,r)[n.getDay()];case 0:let o=n.getHours(),c=n.getMinutes();if(s){let l=Ov(t),h=kv(t,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,C]=m,R=o>=v.hours&&c>=v.minutes,A=o<C.hours||o===C.hours&&c<C.minutes;if(v.hours<C.hours){if(R&&A)return!0}else if(R||A)return!0}else if(m.hours===o&&m.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return Cv(t,i,r)[o<12?0:1];case 3:return Pv(t,r)[n.getFullYear()<=0?0:1];default:let u=e;throw new J(2302,!1)}}function Ac(n){return function(t,e,r){let i=-1*r,s=ko(e,Bn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Jt(o,2,s)+Jt(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Jt(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Jt(o,2,s)+":"+Jt(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Jt(o,2,s)+":"+Jt(Math.abs(i%60),2,s);default:throw new J(2310,!1)}}}var Z0=0,Dc=4;function eS(n){let t=Rc(n,Z0,1).getDay();return Rc(n,0,1+(t<=Dc?Dc:Dc+7)-t)}function Lv(n){let t=n.getDay(),e=t===0?-3:Dc-t;return Rc(n.getFullYear(),n.getMonth(),n.getDate()+e)}function th(n,t=!1){return function(e,r){let i;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{let s=Lv(e),o=eS(s.getFullYear()),c=s.getTime()-o.getTime();i=1+Math.round(c/6048e5)}return Jt(i,n,ko(r,Bn.MinusSign))}}function Cc(n,t=!1){return function(e,r){let s=Lv(e).getFullYear();return Jt(s,n,ko(r,Bn.MinusSign),t)}}var nh={};function tS(n){if(nh[n])return nh[n];let t;switch(n){case"G":case"GG":case"GGG":t=ve(3,fe.Abbreviated);break;case"GGGG":t=ve(3,fe.Wide);break;case"GGGGG":t=ve(3,fe.Narrow);break;case"y":t=Le(0,1,0,!1,!0);break;case"yy":t=Le(0,2,0,!0,!0);break;case"yyy":t=Le(0,3,0,!1,!0);break;case"yyyy":t=Le(0,4,0,!1,!0);break;case"Y":t=Cc(1);break;case"YY":t=Cc(2,!0);break;case"YYY":t=Cc(3);break;case"YYYY":t=Cc(4);break;case"M":case"L":t=Le(1,1,1);break;case"MM":case"LL":t=Le(1,2,1);break;case"MMM":t=ve(2,fe.Abbreviated);break;case"MMMM":t=ve(2,fe.Wide);break;case"MMMMM":t=ve(2,fe.Narrow);break;case"LLL":t=ve(2,fe.Abbreviated,at.Standalone);break;case"LLLL":t=ve(2,fe.Wide,at.Standalone);break;case"LLLLL":t=ve(2,fe.Narrow,at.Standalone);break;case"w":t=th(1);break;case"ww":t=th(2);break;case"W":t=th(1,!0);break;case"d":t=Le(2,1);break;case"dd":t=Le(2,2);break;case"c":case"cc":t=Le(7,1);break;case"ccc":t=ve(1,fe.Abbreviated,at.Standalone);break;case"cccc":t=ve(1,fe.Wide,at.Standalone);break;case"ccccc":t=ve(1,fe.Narrow,at.Standalone);break;case"cccccc":t=ve(1,fe.Short,at.Standalone);break;case"E":case"EE":case"EEE":t=ve(1,fe.Abbreviated);break;case"EEEE":t=ve(1,fe.Wide);break;case"EEEEE":t=ve(1,fe.Narrow);break;case"EEEEEE":t=ve(1,fe.Short);break;case"a":case"aa":case"aaa":t=ve(0,fe.Abbreviated);break;case"aaaa":t=ve(0,fe.Wide);break;case"aaaaa":t=ve(0,fe.Narrow);break;case"b":case"bb":case"bbb":t=ve(0,fe.Abbreviated,at.Standalone,!0);break;case"bbbb":t=ve(0,fe.Wide,at.Standalone,!0);break;case"bbbbb":t=ve(0,fe.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":t=ve(0,fe.Abbreviated,at.Format,!0);break;case"BBBB":t=ve(0,fe.Wide,at.Format,!0);break;case"BBBBB":t=ve(0,fe.Narrow,at.Format,!0);break;case"h":t=Le(3,1,-12);break;case"hh":t=Le(3,2,-12);break;case"H":t=Le(3,1);break;case"HH":t=Le(3,2);break;case"m":t=Le(4,1);break;case"mm":t=Le(4,2);break;case"s":t=Le(5,1);break;case"ss":t=Le(5,2);break;case"S":t=Le(6,1);break;case"SS":t=Le(6,2);break;case"SSS":t=Le(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Ac(0);break;case"ZZZZZ":t=Ac(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ac(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ac(2);break;default:return null}return nh[n]=t,t}function xv(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function nS(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function rS(n,t,e){let i=n.getTimezoneOffset(),s=xv(t,i);return nS(n,-1*(s-i))}function iS(n){if(wv(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(c=>+c);return Rc(i,s-1,o)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(K0))return sS(r)}let t=new Date(n);if(!wv(t))throw new J(2311,!1);return t}function sS(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-e,c=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(t,o,c,u,l),t}function wv(n){return n instanceof Date&&!isNaN(n.valueOf())}var rh=/\s+/,Iv=[],oS=(()=>{class n{_ngEl;_renderer;initialClasses=Iv;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(rh):Iv}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(rh):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(rh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ue(It),ue(Ht))};static \u0275dir=he({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Pc=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fv=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Pc(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Tv(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Tv(s,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(ue(Yi),ue(Ao),ue(pv))};static \u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Tv(n,t){n.context.$implicit=t.item}var sh=(()=>{class n{_viewContainer;_context=new Nc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Sv(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Sv(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(ue(Yi),ue(Ao))};static \u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Nc=class{$implicit=null;ngIf=null};function Sv(n,t){if(n&&!n.createEmbeddedView)throw new J(2020,!1)}var oh=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,s]=e.split("."),o=i.indexOf("-")===-1?void 0:ii.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(ue(It),ue(gv),ue(Ht))};static \u0275dir=he({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),ah=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(ue(Yi))};static \u0275dir=he({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Fn]})}return n})();function aS(n,t){return new J(2100,!1)}var cS="mediumDate",Vv=new z(""),Uv=new z(""),uS=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,s){if(e==null||e===""||e!==e)return null;try{let o=r??this.defaultOptions?.dateFormat??cS,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Mv(e,o,s||this.locale,c)}catch(o){throw aS(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ue(hv,16),ue(Vv,24),ue(Uv,24))};static \u0275pipe=Ud({name:"date",type:n,pure:!0})}return n})();var lS=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Ud({name:"json",type:n,pure:!1})}return n})();var St=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({})}return n})();function Mo(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,s]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var ui=class{};var uh="browser",fS="server";function Ji(n){return n===uh}function lh(n){return n===fS}var Bv=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new ch(N(de),window)})}return n})(),ch=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(ae(P({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=pS(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(ti(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(ae(P({},e),{left:i-o[0],top:s-o[1]}))}};function pS(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}var Lo=class{_doc;constructor(t){this._doc=t}manager},Oc=(()=>{class n extends Lo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(G(de))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Lc=new z(""),ph=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this});let i=e.filter(o=>!(o instanceof Oc));this._plugins=i.slice().reverse();let s=e.find(o=>o instanceof Oc);s&&this._plugins.push(s)}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(G(Lc),G(xn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),dh="ng-app-id";function jv(n){for(let t of n)t.remove()}function zv(n,t){let e=t.createElement("style");return e.textContent=n,e}function gS(n,t,e,r){let i=n.head?.querySelectorAll(`style[${dh}="${t}"],link[${dh}="${t}"]`);if(i)for(let s of i)s.removeAttribute(dh),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function fh(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var gh=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,gS(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,zv);r?.forEach(i=>this.addUsage(i,this.external,fh))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(jv(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])jv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,zv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,fh(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(de),G(Ld),G(xd,8),G(fn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),hh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mh=/%COMP%/g;var qv="%COMP%",mS=`_nghost-${qv}`,yS=`_ngcontent-${qv}`,vS=!0,_S=new z("",{factory:()=>vS});function bS(n){return yS.replace(mh,n)}function ES(n){return mS.replace(mh,n)}function Gv(n,t){return t.map(e=>e.replace(mh,n))}var yh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,r,i,s,o,c,u=null,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=c,this.nonce=u,this.tracingService=l,this.defaultRenderer=new xo(e,o,c,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof Mc?i.applyToHost(e):i instanceof Fo&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case dc.Emulated:s=new Mc(u,l,r,this.appId,h,o,c,p);break;case dc.ShadowDom:return new kc(u,e,r,o,c,this.nonce,p,l);case dc.ExperimentalIsolatedShadowDom:return new kc(u,e,r,o,c,this.nonce,p);default:s=new Fo(u,l,r,h,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(G(ph),G(gh),G(Ld),G(_S),G(de),G(xn),G(xd),G(hc,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),xo=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(hh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Hv(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Hv(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new J(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=hh[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=hh[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(ii.DashCase|ii.Important)?t.style.setProperty(e,r,i&ii.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ii.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Vn().getGlobalEventTarget(this.doc,t),!t))throw new J(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Hv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var kc=class extends xo{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,r,i,s,o,c,u){super(t,i,s,c),this.hostEl=e,this.sharedStylesHost=u,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Gv(r.id,l);for(let p of l){let m=document.createElement("style");o&&m.setAttribute("nonce",o),m.textContent=p,this.shadowRoot.appendChild(m)}let h=r.getExternalStyles?.();if(h)for(let p of h){let m=fh(p,i);o&&m.setAttribute("nonce",o),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Fo=class extends xo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,c,u){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?Gv(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Xy.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Mc=class extends Fo{contentAttr;hostAttr;constructor(t,e,r,i,s,o,c,u){let l=i+"-"+r.id;super(t,e,r,s,o,c,u,l),this.contentAttr=bS(l),this.hostAttr=ES(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var xc=class n extends Ro{supportsDOMEvents=!0;static makeCurrent(){Xd(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=IS();return e==null?null:TS(e)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Mo(document.cookie,t)}},Vo=null;function IS(){return Vo=Vo||document.head.querySelector("base"),Vo?Vo.getAttribute("href"):null}function TS(n){return new URL(n,document.baseURI).pathname}var SS=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Wv=["alt","control","meta","shift"],AS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Kv=(()=>{class n extends Lo{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(e,o.domEventName,c,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Wv.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let i=AS[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Wv.forEach(o=>{if(o!==i){let c=CS[o];c(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(G(de))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function DS(n,t,e){let r=P({rootComponent:n,platformRef:e?.platformRef},RS(t));return mv(r)}function RS(n){return{appProviders:[...MS,...n?.providers??[]],platformProviders:kS}}function PS(){xc.makeCurrent()}function NS(){return new kd}function OS(){return jy(document),document}var kS=[{provide:fn,useValue:uh},{provide:zy,useValue:PS,multi:!0},{provide:de,useFactory:OS}];var MS=[{provide:Uy,useValue:"root"},{provide:kd,useFactory:NS},{provide:Lc,useClass:Oc,multi:!0},{provide:Lc,useClass:Kv,multi:!0},yh,gh,ph,{provide:ev,useExisting:yh},{provide:ui,useClass:SS},[]];var gn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Uc=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Bc=class{encodeKey(t){return Qv(t)}encodeValue(t){return Qv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function LS(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}var xS=/%(\d[a-f0-9])/gi,FS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qv(n){return encodeURIComponent(n).replace(xS,(t,e)=>FS[e]??t)}function Fc(n){return`${n}`}var $n=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Bc,t.fromString){if(t.fromObject)throw new J(2805,!1);this.map=LS(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(Fc):[Fc(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Fc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Fc(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function VS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yv(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Jv(n){return typeof Blob<"u"&&n instanceof Blob}function Xv(n){return typeof FormData<"u"&&n instanceof FormData}function US(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Uo="Content-Type",$c="Accept",Zv="text/plain",e_="application/json",t_=`${e_}, ${Zv}, */*`,Xi=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(VS(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new J(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new gn,this.context??=new Uc,!this.params)this.params=new $n,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),u=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yv(this.body)||Jv(this.body)||Xv(this.body)||US(this.body)?this.body:this.body instanceof $n?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Xv(this.body)?null:Jv(this.body)?this.body.type||null:Yv(this.body)?null:typeof this.body=="string"?Zv:this.body instanceof $n?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?e_:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,o=t.priority||this.priority,c=t.cache||this.cache,u=t.mode||this.mode,l=t.redirect||this.redirect,h=t.credentials||this.credentials,p=t.referrer||this.referrer,m=t.integrity||this.integrity,v=t.referrerPolicy||this.referrerPolicy,C=t.transferCache??this.transferCache,R=t.timeout??this.timeout,A=t.body!==void 0?t.body:this.body,M=t.withCredentials??this.withCredentials,V=t.reportProgress??this.reportProgress,$=t.headers||this.headers,W=t.params||this.params,se=t.context??this.context;return t.setHeaders!==void 0&&($=Object.keys(t.setHeaders).reduce((re,E)=>re.set(E,t.setHeaders[E]),$)),t.setParams&&(W=Object.keys(t.setParams).reduce((re,E)=>re.set(E,t.setParams[E]),W)),new n(e,r,A,{params:W,headers:$,context:se,reportProgress:V,responseType:i,withCredentials:M,transferCache:C,keepalive:s,cache:c,priority:o,timeout:R,mode:u,redirect:l,credentials:h,referrer:p,integrity:m,referrerPolicy:v})}},jn=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(jn||{}),Zi=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,r="OK"){this.headers=t.headers||new gn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Bo=class n extends Zi{constructor(t={}){super(t)}type=jn.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},es=class n extends Zi{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=jn.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},pn=class extends Zi{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},n_=200,BS=204;var $S=/^\)\]\}',?\n/,r_=new z(""),Vc=(()=>{class n{fetchImpl=N(_h,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=N(xn);destroyRef=N(To);handle(e){return new wo(r=>{let i=new AbortController;this.doRequest(e,i.signal,r).then(bh,o=>r.error(new pn({error:o})));let s;return e.timeout&&(s=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{s!==void 0&&clearTimeout(s),i.abort()}})}async doRequest(e,r,i){let s=this.createRequestInit(e),o;try{let R=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,P({signal:r},s)));jS(R),i.next({type:jn.Sent}),o=await R}catch(R){i.error(new pn({error:R,status:R.status??0,statusText:R.statusText,url:e.urlWithParams,headers:R.headers}));return}let c=new gn(o.headers),u=o.statusText,l=o.url||e.urlWithParams,h=o.status,p=null;if(e.reportProgress&&i.next(new Bo({headers:c,status:h,statusText:u,url:l})),o.body){let R=o.headers.get("content-length"),A=[],M=o.body.getReader(),V=0,$,W,se=typeof Zone<"u"&&Zone.current,re=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyRef.destroyed){await M.cancel(),re=!0;break}let{done:y,value:b}=await M.read();if(y)break;if(A.push(b),V+=b.length,e.reportProgress){W=e.responseType==="text"?(W??"")+($??=new TextDecoder).decode(b,{stream:!0}):void 0;let I=()=>i.next({type:jn.DownloadProgress,total:R?+R:void 0,loaded:V,partialText:W});se?se.run(I):I()}}}),re){i.complete();return}let E=this.concatChunks(A,V);try{let y=o.headers.get(Uo)??"";p=this.parseBody(e,E,y,h)}catch(y){i.error(new pn({error:y,headers:new gn(o.headers),status:o.status,statusText:o.statusText,url:o.url||e.urlWithParams}));return}}h===0&&(h=p?n_:0);let m=h>=200&&h<300,v=o.redirected,C=o.type;m?(i.next(new es({body:p,headers:c,status:h,statusText:u,url:l,redirected:v,responseType:C})),i.complete()):i.error(new pn({error:p,headers:c,status:h,statusText:u,url:l,redirected:v,responseType:C}))}parseBody(e,r,i,s){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace($S,"");if(o==="")return null;try{return JSON.parse(o)}catch(c){if(s<200||s>=300)return o;throw c}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i;if(i=e.credentials,e.withCredentials&&(i="include"),e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has($c)||(r[$c]=t_),!e.headers.has(Uo)){let s=e.detectContentTypeHeader();s!==null&&(r[Uo]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity,referrerPolicy:e.referrerPolicy}}concatChunks(e,r){let i=new Uint8Array(r),s=0;for(let o of e)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),_h=class{};function bh(){}function jS(n){n.then(bh,bh)}var zS=/^\)\]\}',?\n/;var Eh=(()=>{class n{xhrFactory;tracingService=N(hc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new J(-2800,!1);let r=this.xhrFactory;return Y(null).pipe(Mt(()=>new wo(s=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((A,M)=>o.setRequestHeader(A,M.join(","))),e.headers.has($c)||o.setRequestHeader($c,t_),!e.headers.has(Uo)){let A=e.detectContentTypeHeader();A!==null&&o.setRequestHeader(Uo,A)}if(e.timeout&&(o.timeout=e.timeout),e.responseType){let A=e.responseType.toLowerCase();o.responseType=A!=="json"?A:"text"}let c=e.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=o.statusText||"OK",M=new gn(o.getAllResponseHeaders()),V=o.responseURL||e.url;return u=new Bo({headers:M,status:o.status,statusText:A,url:V}),u},h=this.maybePropagateTrace(()=>{let{headers:A,status:M,statusText:V,url:$}=l(),W=null;M!==BS&&(W=typeof o.response>"u"?o.responseText:o.response),M===0&&(M=W?n_:0);let se=M>=200&&M<300;if(e.responseType==="json"&&typeof W=="string"){let re=W;W=W.replace(zS,"");try{W=W!==""?JSON.parse(W):null}catch(E){W=re,se&&(se=!1,W={error:E,text:W})}}se?(s.next(new es({body:W,headers:A,status:M,statusText:V,url:$||void 0})),s.complete()):s.error(new pn({error:W,headers:A,status:M,statusText:V,url:$||void 0}))}),p=this.maybePropagateTrace(A=>{let{url:M}=l(),V=new pn({error:A,status:o.status||0,statusText:o.statusText||"Unknown Error",url:M||void 0});s.error(V)}),m=p;e.timeout&&(m=this.maybePropagateTrace(A=>{let{url:M}=l(),V=new pn({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:M||void 0});s.error(V)}));let v=!1,C=this.maybePropagateTrace(A=>{v||(s.next(l()),v=!0);let M={type:jn.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),e.responseType==="text"&&o.responseText&&(M.partialText=o.responseText),s.next(M)}),R=this.maybePropagateTrace(A=>{let M={type:jn.UploadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),s.next(M)});return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",m),o.addEventListener("abort",p),e.reportProgress&&(o.addEventListener("progress",C),c!==null&&o.upload&&o.upload.addEventListener("progress",R)),o.send(c),s.next({type:jn.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",m),e.reportProgress&&(o.removeEventListener("progress",C),c!==null&&o.upload&&o.upload.removeEventListener("progress",R)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(G(ui))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HS(n,t){return t(n)}function qS(n,t,e){return(r,i)=>mt(e,()=>t(r,s=>n(s,i)))}var i_=new z("",{factory:()=>[]}),s_=new z(""),o_=new z("",{factory:()=>!0});var zc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(Eh),i},providedIn:"root"})}return n})();var jc=(()=>{class n{backend;injector;chain=null;pendingTasks=N($y);contributeToStability=N(o_);constructor(e,r){this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(i_),...this.injector.get(s_,[])]));this.chain=r.reduceRight((i,s)=>qS(i,s,this.injector),HS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(uc(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(G(zc),G(hn))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(jc),i},providedIn:"root"})}return n})();function vh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var a_=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Xi)s=e;else{let u;i.headers instanceof gn?u=i.headers:u=new gn(i.headers);let l;i.params&&(i.params instanceof $n?l=i.params:l=new $n({fromObject:i.params})),s=new Xi(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=Y(s).pipe(ei(u=>this.handler.handle(u)));if(e instanceof Xi||i.observe==="events")return o;let c=o.pipe($t(u=>u instanceof es));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(De(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new J(2806,!1);return u.body}));case"blob":return c.pipe(De(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new J(2807,!1);return u.body}));case"text":return c.pipe(De(u=>{if(u.body!==null&&typeof u.body!="string")throw new J(2808,!1);return u.body}));case"json":default:return c.pipe(De(u=>u.body))}case"response":return c;default:throw new J(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new $n().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,vh(i,r))}post(e,r,i={}){return this.request("POST",e,vh(i,r))}put(e,r,i={}){return this.request("PUT",e,vh(i,r))}static \u0275fac=function(r){return new(r||n)(G(wh))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var GS=new z("",{factory:()=>!0}),WS="XSRF-TOKEN",KS=new z("",{factory:()=>WS}),QS="X-XSRF-TOKEN",YS=new z("",{providedIn:"root",factory:()=>QS}),JS=(()=>{class n{cookieName=N(KS);doc=N(de);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mo(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(JS),i},providedIn:"root"})}return n})();function XS(n,t){if(!N(GS)||n.method==="GET"||n.method==="HEAD")return t(n);try{let i=N(vr).href,{origin:s}=new URL(i),{origin:o}=new URL(n.url,s);if(s!==o)return t(n)}catch{return t(n)}let e=N(c_).getToken(),r=N(YS);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}var Ih=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Ih||{});function ZS(n,t){return{\u0275kind:n,\u0275providers:t}}function eA(...n){let t=[a_,jc,{provide:wh,useExisting:jc},{provide:zc,useFactory:()=>N(r_,{optional:!0})??N(Eh)},{provide:i_,useValue:XS,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return gr(t)}function tA(){return ZS(Ih.Fetch,[Vc,{provide:r_,useExisting:Vc},{provide:zc,useExisting:Vc}])}var u_=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(G(de))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(iA),i},providedIn:"root"})}return n})(),iA=(()=>{class n extends rA{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case ri.NONE:return r;case ri.HTML:return Qi(r,"HTML")?ni(r):Yy(this._doc,String(r)).toString();case ri.STYLE:return Qi(r,"Style")?ni(r):r;case ri.SCRIPT:if(Qi(r,"Script"))return ni(r);throw new J(5200,!1);case ri.URL:return Qi(r,"URL")?ni(r):Qy(String(r));case ri.RESOURCE_URL:if(Qi(r,"ResourceURL"))return ni(r);throw new J(5201,!1);default:throw new J(5202,!1)}}bypassSecurityTrustHtml(e){return Hy(e)}bypassSecurityTrustStyle(e){return qy(e)}bypassSecurityTrustScript(e){return Gy(e)}bypassSecurityTrustUrl(e){return Wy(e)}bypassSecurityTrustResourceUrl(e){return Ky(e)}static \u0275fac=function(r){return new(r||n)(G(de))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K="primary",Jo=Symbol("RouteTitle"),Dh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function fi(n){return new Dh(n)}function v_(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qc(n){return new Promise((t,e)=>{n.pipe(pr()).subscribe({next:r=>t(r),error:r=>e(r)})})}function oA(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!mn(n[e],t[e]))return!1;return!0}function mn(n,t){let e=n?Rh(n):void 0,r=t?Rh(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!__(n[i],t[i]))return!1;return!0}function Rh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function __(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function b_(n){return n.length>0?n[n.length-1]:null}function pi(n){return Pd(n)?n:$d(n)?pt(Promise.resolve(n)):Y(n)}function E_(n){return Pd(n)?Qc(n):Promise.resolve(n)}var aA={exact:I_,subset:T_},w_={exact:cA,subset:uA,ignored:()=>!0};function l_(n,t,e){return aA[e.paths](n.root,t.root,e.matrixParams)&&w_[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function cA(n,t){return mn(n,t)}function I_(n,t,e){if(!di(n.segments,t.segments)||!Gc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!I_(n.children[r],t.children[r],e))return!1;return!0}function uA(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>__(n[e],t[e]))}function T_(n,t,e){return S_(n,t,t.segments,e)}function S_(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!di(i,e)||t.hasChildren()||!Gc(i,e,r))}else if(n.segments.length===e.length){if(!di(n.segments,e)||!Gc(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!T_(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!di(n.segments,i)||!Gc(n.segments,i,r)||!n.children[K]?!1:S_(n.children[K],t,s,r)}}function Gc(n,t,e){return t.every((r,i)=>w_[e](n[i].parameters,r.parameters))}var Zt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new oe([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){return hA.serialize(this)}},oe=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wc(this)}},br=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=fi(this.parameters),this._parameterMap}toString(){return C_(this)}};function lA(n,t){return di(n,t)&&n.every((e,r)=>mn(e.parameters,t[r].parameters))}function di(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function dA(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===K&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==K&&(e=e.concat(t(i,r)))}),e}var gi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new zn,providedIn:"root"})}return n})(),zn=class{parse(t){let e=new Nh(t);return new Zt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${$o(t.root,!0)}`,r=gA(t.queryParams),i=typeof t.fragment=="string"?`#${fA(t.fragment)}`:"";return`${e}${r}${i}`}},hA=new zn;function Wc(n){return n.segments.map(t=>C_(t)).join("/")}function $o(n,t){if(!n.hasChildren())return Wc(n);if(t){let e=n.children[K]?$o(n.children[K],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${$o(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=dA(n,(r,i)=>i===K?[$o(n.children[K],!1)]:[`${i}:${$o(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[K]!=null?`${Wc(n)}/${e[0]}`:`${Wc(n)}/(${e.join("//")})`}}function A_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hc(n){return A_(n).replace(/%3B/gi,";")}function fA(n){return encodeURI(n)}function Ph(n){return A_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kc(n){return decodeURIComponent(n)}function d_(n){return Kc(n.replace(/\+/g,"%20"))}function C_(n){return`${Ph(n.path)}${pA(n.parameters)}`}function pA(n){return Object.entries(n).map(([t,e])=>`;${Ph(t)}=${Ph(e)}`).join("")}function gA(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Hc(e)}=${Hc(i)}`).join("&"):`${Hc(e)}=${Hc(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var mA=/^[^\/()?;#]+/;function Th(n){let t=n.match(mA);return t?t[0]:""}var yA=/^[^\/()?;=#]+/;function vA(n){let t=n.match(yA);return t?t[0]:""}var _A=/^[^=?&#]+/;function bA(n){let t=n.match(_A);return t?t[0]:""}var EA=/^[^&#]+/;function wA(n){let t=n.match(EA);return t?t[0]:""}var Nh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[K]=new oe(t,e)),r}parseSegment(){let t=Th(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(t),new br(Kc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=vA(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Th(this.remaining);i&&(r=i,this.capture(r))}t[Kc(e)]=Kc(r)}parseQueryParam(t){let e=bA(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=wA(this.remaining);o&&(r=o,this.capture(r))}let i=d_(e),s=d_(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Th(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new J(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=K);let o=this.parseChildren();e[s??K]=Object.keys(o).length===1&&o[K]?o[K]:new oe([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new J(4011,!1)}};function D_(n){return n.segments.length>0?new oe([],{[K]:n}):n}function R_(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=R_(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new oe(n.segments,t);return IA(e)}function IA(n){if(n.numberOfChildren===1&&n.children[K]){let t=n.children[K];return new oe(n.segments.concat(t.segments),t.children)}return n}function Er(n){return n instanceof Zt}function P_(n,t,e=null,r=null,i=new zn){let s=N_(n);return O_(s,t,e,r,i)}function N_(n){let t;function e(s){let o={};for(let u of s.children){let l=e(u);o[u.outlet]=l}let c=new oe(s.url,o);return s===n&&(t=c),c}let r=e(n.root),i=D_(r);return t??i}function O_(n,t,e,r,i){let s=n;for(;s.parent;)s=s.parent;if(t.length===0)return Sh(s,s,s,e,r,i);let o=TA(t);if(o.toRoot())return Sh(s,s,new oe([],{}),e,r,i);let c=SA(o,s,n),u=c.processChildren?zo(c.segmentGroup,c.index,o.commands):M_(c.segmentGroup,c.index,o.commands);return Sh(s,c.segmentGroup,u,e,r,i)}function Yc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function qo(n){return typeof n=="object"&&n!=null&&n.outlets}function h_(n,t,e){n||="\u0275";let r=new Zt;return r.queryParams={[n]:t},e.parse(e.serialize(r)).queryParams[n]}function Sh(n,t,e,r,i,s){let o={};for(let[l,h]of Object.entries(r??{}))o[l]=Array.isArray(h)?h.map(p=>h_(l,p,s)):h_(l,h,s);let c;n===t?c=e:c=k_(n,t,e);let u=D_(R_(c));return new Zt(u,o,i)}function k_(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=k_(s,t,e)}),new oe(n.segments,r)}var Jc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Yc(r[0]))throw new J(4003,!1);let i=r.find(qo);if(i&&i!==b_(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TA(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Jc(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Jc(e,t,r)}var ns=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function SA(n,t,e){if(n.isAbsolute)return new ns(t,!0,0);if(!e)return new ns(t,!1,NaN);if(e.parent===null)return new ns(e,!0,0);let r=Yc(n.commands[0])?0:1,i=e.segments.length-1+r;return AA(e,i,n.numberOfDoubleDots)}function AA(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new ns(r,!1,i-s)}function CA(n){return qo(n[0])?n[0].outlets:{[K]:n}}function M_(n,t,e){if(n??=new oe([],{}),n.segments.length===0&&n.hasChildren())return zo(n,t,e);let r=DA(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new oe(n.segments.slice(0,r.pathIndex),{});return s.children[K]=new oe(n.segments.slice(r.pathIndex),n.children),zo(s,0,i)}else return r.match&&i.length===0?new oe(n.segments,{}):r.match&&!n.hasChildren()?Oh(n,t,e):r.match?zo(n,0,i):Oh(n,t,e)}function zo(n,t,e){if(e.length===0)return new oe(n.segments,{});{let r=CA(e),i={};if(Object.keys(r).some(s=>s!==K)&&n.children[K]&&n.numberOfChildren===1&&n.children[K].segments.length===0){let s=zo(n.children[K],t,e);return new oe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=M_(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new oe(n.segments,i)}}function DA(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],c=e[r];if(qo(c))break;let u=`${c}`,l=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!p_(u,l,o))return s;r+=2}else{if(!p_(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Oh(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(qo(s)){let u=RA(s.outlets);return new oe(r,u)}if(i===0&&Yc(e[0])){let u=n.segments[t];r.push(new br(u.path,f_(e[0]))),i++;continue}let o=qo(s)?s.outlets[K]:`${s}`,c=i<e.length-1?e[i+1]:null;o&&c&&Yc(c)?(r.push(new br(o,f_(c))),i+=2):(r.push(new br(o,{})),i++)}return new oe(r,{})}function RA(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Oh(new oe([],{}),0,r))}),t}function f_(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function p_(n,t,e){return n==e.path&&mn(t,e.parameters)}var rs="imperative",He=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(He||{}),Ct=class{id;url;constructor(t,e){this.id=t,this.url=e}},wr=class extends Ct{type=He.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Ct{urlAfterRedirects;type=He.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ht=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(ht||{}),ss=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ss||{}),yn=class extends Ct{reason;code;type=He.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vn=class extends Ct{reason;code;type=He.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},os=class extends Ct{error;target;type=He.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Go=class extends Ct{urlAfterRedirects;state;type=He.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class extends Ct{urlAfterRedirects;state;type=He.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zc=class extends Ct{urlAfterRedirects;state;shouldActivate;type=He.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},eu=class extends Ct{urlAfterRedirects;state;type=He.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends Ct{urlAfterRedirects;state;type=He.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class{route;type=He.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ru=class{route;type=He.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iu=class{snapshot;type=He.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{snapshot;type=He.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ou=class{snapshot;type=He.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{snapshot;type=He.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},as=class{routerEvent;position;anchor;type=He.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Wo=class{},cs=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function PA(n){return!(n instanceof Wo)&&!(n instanceof cs)}function NA(n,t){return n.providers&&!n._injector&&(n._injector=fc(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Xt(n){return n.outlet||K}function OA(n,t){let e=n.filter(r=>Xt(r)===t);return e.push(...n.filter(r=>Xt(r)!==t)),e}function ds(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var cu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ds(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new mi(this.rootInjector)}},mi=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new cu(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(G(hn))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=kh(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=kh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Mh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Mh(t,this._root).map(e=>e.value)}};function kh(n,t){if(n===t.value)return t;for(let e of t.children){let r=kh(n,e);if(r)return r}return null}function Mh(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Mh(n,e);if(r.length)return r.unshift(t),r}return[]}var At=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ts(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ko=class extends uu{snapshot;constructor(t,e){super(t),this.snapshot=e,Bh(this,t)}toString(){return this.snapshot.toString()}};function L_(n){let t=kA(n),e=new kt([new br("",{})]),r=new kt({}),i=new kt({}),s=new kt({}),o=new kt(""),c=new _n(e,r,s,o,i,K,n,t.root);return c.snapshot=t.root,new Ko(new At(c,[]),t)}function kA(n){let t={},e={},r={},s=new hi([],t,r,"",e,K,n,null,{});return new Qo("",new At(s,[]))}var _n=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(De(l=>l[Jo]))??Y(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(t=>fi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(t=>fi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:P(P({},t.params),n.params),data:P(P({},t.data),n.data),resolve:P(P(P(P({},n.data),t.data),i?.data),n._resolvedData)}:r={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},i&&F_(i)&&(r.resolve[Jo]=i.title),r}var hi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Jo]}constructor(t,e,r,i,s,o,c,u,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Qo=class extends uu{url;constructor(t,e){super(e),this.url=t,Bh(this,e)}toString(){return x_(this._root)}};function Bh(n,t){t.value._routerState=n,t.children.forEach(e=>Bh(n,e))}function x_(n){let t=n.children.length>0?` { ${n.children.map(x_).join(", ")} } `:"";return`${n.value}${t}`}function Ah(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,mn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),mn(t.params,e.params)||n.paramsSubject.next(e.params),oA(t.url,e.url)||n.urlSubject.next(e.url),mn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Lh(n,t){let e=mn(n.params,t.params)&&lA(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Lh(n.parent,t.parent))}function F_(n){return typeof n.title=="string"||n.title===null}var V_=new z(""),$h=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new jt;deactivateEvents=new jt;attachEvents=new jt;detachEvents=new jt;routerOutletData=B();parentContexts=N(mi);location=N(Yi);changeDetector=N(yr);inputBinder=N(Xo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new xh(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fn]})}return n})(),xh=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===_n?this.route:t===mi?this.childContexts:t===V_?this.outletData:this.parent.get(t,e)}},Xo=new z(""),jh=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Nd([r.queryParams,r.params,r.data]).pipe(Mt(([s,o,c],u)=>(c=P(P(P({},s),o),c),u===0?Y(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let o=yv(r.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),zh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=je({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&oi(0,"router-outlet")},dependencies:[$h],encapsulation:2})}return n})();function Hh(n){let t=n.children&&n.children.map(Hh),e=t?ae(P({},n),{children:t}):P({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==K&&(e.component=zh),e}function MA(n,t,e){let r=Yo(n,t._root,e?e._root:void 0);return new Ko(r,t)}function Yo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=LA(n,t,e);return new At(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>Yo(n,c)),o}}let r=xA(t.value),i=t.children.map(s=>Yo(n,s));return new At(r,i)}}function LA(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Yo(n,r,i);return Yo(n,r)})}function xA(n){return new _n(new kt(n.url),new kt(n.params),new kt(n.queryParams),new kt(n.fragment),new kt(n.data),n.outlet,n.component,n)}var us=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},U_="ngNavigationCancelingError";function du(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Er(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=B_(!1,ht.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function B_(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[U_]=!0,e.cancellationCode=t,e}function FA(n){return $_(n)&&Er(n.url)}function $_(n){return!!n&&n[U_]}var VA=(n,t,e,r)=>De(i=>(new Fh(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Fh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ah(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=ts(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=ts(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=ts(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=ts(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new au(s.value.snapshot))}),t.children.length&&this.forwardEvent(new su(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(Ah(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Ah(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},hu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},is=class{component;route;constructor(t,e){this.component=t,this.route=e}};function UA(n,t,e){let r=n._root,i=t?t._root:null;return jo(r,i,e,[r.value])}function BA(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function hs(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Vy(n)?n:t.get(n):r}function jo(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ts(t);return n.children.forEach(o=>{$A(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Ho(c,e.getContext(o),i)),i}function $A(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=jA(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?jo(n,t,c?c.children:null,r,i):jo(n,t,e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new is(c.outlet.component,o))}else o&&Ho(t,c,i),i.canActivateChecks.push(new hu(r)),s.component?jo(n,null,c?c.children:null,r,i):jo(n,null,e,r,i);return i}function jA(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!di(n.url,t.url);case"pathParamsOrQueryParamsChange":return!di(n.url,t.url)||!mn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lh(n,t)||!mn(n.queryParams,t.queryParams);case"paramsChange":default:return!Lh(n,t)}}function Ho(n,t,e){let r=ts(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?Ho(o,t.children.getContext(s),e):Ho(o,null,e):Ho(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new is(t.outlet.component,i)):e.canDeactivateChecks.push(new is(null,i)):e.canDeactivateChecks.push(new is(null,i))}function Zo(n){return typeof n=="function"}function zA(n){return typeof n=="boolean"}function HA(n){return n&&Zo(n.canLoad)}function qA(n){return n&&Zo(n.canActivate)}function GA(n){return n&&Zo(n.canActivateChild)}function WA(n){return n&&Zo(n.canDeactivate)}function KA(n){return n&&Zo(n.canMatch)}function j_(n){return n instanceof Ly||n?.name==="EmptyError"}var qc=Symbol("INITIAL_VALUE");function ls(){return Mt(n=>Nd(n.map(t=>t.pipe(Wi(1),Fy(qc)))).pipe(De(t=>{for(let e of t)if(e!==!0){if(e===qc)return qc;if(e===!1||QA(e))return e}return!0}),$t(t=>t!==qc),Wi(1)))}function QA(n){return Er(n)||n instanceof us}function z_(n){return n.aborted?Y(void 0).pipe(Wi(1)):new wo(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function H_(n){return lc(z_(n))}function YA(n,t){return dn(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?Y(ae(P({},e),{guardsResult:!0})):JA(o,r,i,n).pipe(dn(c=>c&&zA(c)?XA(r,s,n,t):Y(c)),De(c=>ae(P({},e),{guardsResult:c})))})}function JA(n,t,e,r){return pt(n).pipe(dn(i=>rC(i.component,i.route,e,t,r)),pr(i=>i!==!0,!0))}function XA(n,t,e,r){return pt(t).pipe(ei(i=>xy(eC(i.route.parent,r),ZA(i.route,r),nC(n,i.path,e),tC(n,i.route,e))),pr(i=>i!==!0,!0))}function ZA(n,t){return n!==null&&t&&t(new ou(n)),Y(!0)}function eC(n,t){return n!==null&&t&&t(new iu(n)),Y(!0)}function tC(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>ac(()=>{let o=ds(t)??e,c=hs(s,o),u=qA(c)?c.canActivate(t,n):mt(o,()=>c(t,n));return pi(u).pipe(pr())}));return Y(i).pipe(ls())}function nC(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>BA(o)).filter(o=>o!==null).map(o=>ac(()=>{let c=o.guards.map(u=>{let l=ds(o.node)??e,h=hs(u,l),p=GA(h)?h.canActivateChild(r,n):mt(l,()=>h(r,n));return pi(p).pipe(pr())});return Y(c).pipe(ls())}));return Y(s).pipe(ls())}function rC(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(c=>{let u=ds(t)??i,l=hs(c,u),h=WA(l)?l.canDeactivate(n,t,e,r):mt(u,()=>l(n,t,e,r));return pi(h).pipe(pr())});return Y(o).pipe(ls())}function iC(n,t,e,r,i){let s=t.canLoad;if(s===void 0||s.length===0)return Y(!0);let o=s.map(c=>{let u=hs(c,n),l=HA(u)?u.canLoad(t,e):mt(n,()=>u(t,e)),h=pi(l);return i?h.pipe(H_(i)):h});return Y(o).pipe(ls(),q_(r))}function q_(n){return ky(gt(t=>{if(typeof t!="boolean")throw du(n,t)}),De(t=>t===!0))}function sC(n,t,e,r,i){let s=t.canMatch;if(!s||s.length===0)return Y(!0);let o=s.map(c=>{let u=hs(c,n),l=KA(u)?u.canMatch(t,e):mt(n,()=>u(t,e)),h=pi(l);return i?h.pipe(H_(i)):h});return Y(o).pipe(ls(),q_(r))}var li=class G_ extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,G_.prototype)}},Vh=class W_ extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,W_.prototype)}};function oC(n){throw new J(4e3,!1)}function aC(n){throw B_(!1,ht.GuardRejected)}var cC=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[K])throw oC(`${t.redirectTo}`);i=i.children[K]}}async applyRedirectCommands(t,e,r,i,s){let o=await uC(e,i,s);if(o instanceof Zt)throw new Vh(o);let c=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,r);if(o[0]==="/")throw new Vh(c);return c}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new Zt(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=e[c]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,r,i)}),new oe(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}};function uC(n,t,e){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:c,outlet:u,params:l,data:h,title:p}=t;return Qc(pi(mt(e,()=>r({params:l,data:h,queryParams:i,fragment:s,routeConfig:o,url:c,outlet:u,title:p}))))}var Uh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lC(n,t,e,r,i,s){let o=K_(n,t,e);return o.matched?(r=NA(t,r),sC(r,t,e,i,s).pipe(De(c=>c===!0?o:P({},Uh)))):Y(o)}function K_(n,t,e){if(t.path==="**")return dC(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?P({},Uh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||v_)(e,n,t);if(!i)return P({},Uh);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?P(P({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dC(n){return{matched:!0,parameters:n.length>0?b_(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function g_(n,t,e,r){return e.length>0&&pC(n,e,r)?{segmentGroup:new oe(t,fC(r,new oe(e,n.children))),slicedSegments:[]}:e.length===0&&gC(n,e,r)?{segmentGroup:new oe(n.segments,hC(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new oe(n.segments,n.children),slicedSegments:e}}function hC(n,t,e,r){let i={};for(let s of e)if(pu(n,t,s)&&!r[Xt(s)]){let o=new oe([],{});i[Xt(s)]=o}return P(P({},r),i)}function fC(n,t){let e={};e[K]=t;for(let r of n)if(r.path===""&&Xt(r)!==K){let i=new oe([],{});e[Xt(r)]=i}return e}function pC(n,t,e){return e.some(r=>pu(n,t,r)&&Xt(r)!==K)}function gC(n,t,e){return e.some(r=>pu(n,t,r))}function pu(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function mC(n,t,e){return t.length===0&&!n.children[e]}var yC=class{};async function vC(n,t,e,r,i,s,o="emptyOnly",c){return new bC(n,t,e,r,i,o,s,c).recognize()}var _C=31,bC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,c,u){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.abortSignal=u,this.applyRedirects=new cC(this.urlSerializer,this.urlTree)}noMatchError(t){return new J(4002,`'${t.segmentGroup}'`)}async recognize(){let t=g_(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:r}=await this.match(t),i=new At(r,e),s=new Qo("",i),o=P_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(t){let e=new hi([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,K,e),rootSnapshot:e}}catch(r){if(r instanceof Vh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof li?this.noMatchError(r):r}}async processSegmentGroup(t,e,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,e,r,s);let o=await this.processSegment(t,e,r,r.segments,i,!0,s);return o instanceof At?[o]:[]}async processChildren(t,e,r,i){let s=[];for(let u of Object.keys(r.children))u==="primary"?s.unshift(u):s.push(u);let o=[];for(let u of s){let l=r.children[u],h=OA(e,u),p=await this.processSegmentGroup(t,h,l,u,i);o.push(...p)}let c=Q_(o);return EC(c),c}async processSegment(t,e,r,i,s,o,c){for(let u of e)try{return await this.processSegmentAgainstRoute(u._injector??t,e,u,r,i,s,o,c)}catch(l){if(l instanceof li||j_(l))continue;throw l}if(mC(r,i,s))return new yC;throw new li(r)}async processSegmentAgainstRoute(t,e,r,i,s,o,c,u){if(Xt(r)!==o&&(o===K||!pu(i,s,r)))throw new li(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,s,o,u);if(this.allowRedirects&&c)return this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,u);throw new li(i)}async expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=K_(e,i,s);if(!u)throw new li(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_C&&(this.allowRedirects=!1));let v=new hi(s,l,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,m_(i),Xt(i),i.component??i._loadedComponent??null,i,y_(i)),C=lu(v,c,this.paramsInheritanceStrategy);if(v.params=Object.freeze(C.params),v.data=Object.freeze(C.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let R=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,t),A=await this.applyRedirects.lineralizeSegments(i,R);return this.processSegment(t,r,e,A.concat(m),o,!1,c)}async matchSegmentAgainstRoute(t,e,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let c=await Qc(lC(e,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(e.children={}),!c?.matched)throw new li(e);t=r._injector??t;let{routes:u}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:h,consumedSegments:p,remainingSegments:m}=c,v=new hi(p,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,m_(r),Xt(r),r.component??r._loadedComponent??null,r,y_(r)),C=lu(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);let{segmentGroup:R,slicedSegments:A}=g_(e,p,m,u);if(A.length===0&&R.hasChildren()){let $=await this.processChildren(l,u,R,v);return new At(v,$)}if(u.length===0&&A.length===0)return new At(v,[]);let M=Xt(r)===s,V=await this.processSegment(l,u,R,A,M?K:s,!0,v);return new At(v,V instanceof At?[V]:[])}async getChildConfig(t,e,r){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Qc(iC(t,e,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=s.routes,e._loadedInjector=s.injector,s}throw aC(e)}return{routes:[],injector:t}}};function EC(n){n.sort((t,e)=>t.value.outlet===K?-1:e.value.outlet===K?1:t.value.outlet.localeCompare(e.value.outlet))}function wC(n){let t=n.value.routeConfig;return t&&t.path===""}function Q_(n){let t=[],e=new Set;for(let r of n){if(!wC(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=Q_(r.children);t.push(new At(r.value,i))}return t.filter(r=>!e.has(r))}function m_(n){return n.data||{}}function y_(n){return n.resolve||{}}var IC=new z("",{factory:()=>vC});function TC(n,t,e,r,i,s,o){let c=n.get(IC);return dn(u=>Y(u).pipe(Mt(l=>c(n,t,e,r,l.extractedUrl,i,s,o)),De(({state:l,tree:h})=>ae(P({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function SC(n,t){return dn(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Y(e);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Y_(u))o.add(l);let c=0;return pt(o).pipe(ei(u=>s.has(u)?AC(u,r,n,t):(u.data=lu(u,u.parent,n).resolve,Y(void 0))),gt(()=>c++),Od(1),dn(u=>c===o.size?Y(e):Ln))})}function Y_(n){let t=n.children.map(e=>Y_(e)).flat();return[n,...t]}function AC(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!F_(i)&&(s[Jo]=i.title),ac(()=>(n.data=lu(n,n.parent,e).resolve,CC(s,n,t,r).pipe(De(o=>(n._resolvedData=o,n.data=P(P({},n.data),o),null)))))}function CC(n,t,e,r){let i=Rh(n);if(i.length===0)return Y({});let s={};return pt(i).pipe(dn(o=>DC(n[o],t,e,r).pipe(pr(),gt(c=>{if(c instanceof us)throw du(new zn,c);s[o]=c}))),Od(1),De(()=>s),cc(o=>j_(o)?Ln:My(o)))}function DC(n,t,e,r){let i=ds(t)??r,s=hs(n,i),o=s.resolve?s.resolve(t,e):mt(i,()=>s(t,e));return pi(o)}function Ch(n){return Mt(t=>{let e=n(t);return e?pt(e).pipe(De(()=>t)):Y(t)})}var qh=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===K);return r}getResolvedTitleForRoute(e){return e.data[Jo]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>N(J_),providedIn:"root"})}return n})(),J_=(()=>{class n extends qh{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(u_))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ir=new z("",{factory:()=>({})}),yi=new z(""),gu=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(dv);async loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await E_(mt(e,()=>r.loadComponent())),o=await eb(Z_(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await X_(r,this.compiler,e,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function X_(n,t,e,r){let i=await E_(mt(e,()=>n.loadChildren())),s=await eb(Z_(i)),o;s instanceof nv||Array.isArray(s)?o=s:o=await t.compileModuleAsync(s),r&&r(n);let c,u,l=!1;return Array.isArray(o)?(u=o,l=!0):(c=o.create(e).injector,u=c.get(yi,[],{optional:!0,self:!0}).flat()),{routes:u.map(Hh),injector:c}}function RC(n){return n&&typeof n=="object"&&"default"in n}function Z_(n){return RC(n)?n.default:n}async function eb(n){return n}var mu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>N(PC),providedIn:"root"})}return n})(),PC=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gh=new z(""),Wh=new z("");function tb(n,t,e){let r=n.get(Wh),i=n.get(de);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),NC(n)));c.updateCallbackDone.catch(l=>{}),c.ready.catch(l=>{}),c.finished.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&mt(n,()=>u({transition:c,from:t,to:e})),o}function NC(n){return new Promise(t=>{Zy({read:()=>setTimeout(t)},{injector:n})})}var OC=()=>{},Kh=new z(""),yu=(()=>{class n{currentNavigation=Ie(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ie(null);events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=N(gu);environmentInjector=N(hn);destroyRef=N(To);urlSerializer=N(gi);rootContexts=N(mi);location=N(_r);inputBindingEnabled=N(Xo,{optional:!0})!==null;titleStrategy=N(qh);options=N(Ir,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(mu);createViewTransition=N(Gh,{optional:!0});navigationErrorHandler=N(Kh,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new nu(i)),r=i=>this.events.next(new ru(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;zt(()=>{this.transitions?.next(ae(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(e){return this.transitions=new kt(null),this.transitions.pipe($t(r=>r!==null),Mt(r=>{let i=!1,s=new AbortController;return Y(r).pipe(Mt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ht.SupersededByNewNavigation),Ln;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:c?ae(P({},c),{previousNavigation:null}):null,abort:()=>s.abort()});let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new vn(o.id,this.urlSerializer.serialize(o.rawUrl),"",ss.IgnoredSameUrlNavigation)),o.resolve(!1),Ln;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Y(o).pipe(Mt(h=>(this.events.next(new wr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Ln:Promise.resolve(h))),TC(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),gt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=h.urlAfterRedirects,m));let p=new Go(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:v,extras:C}=o,R=new wr(h,this.urlSerializer.serialize(p),m,v);this.events.next(R);let A=L_(this.rootComponentType).snapshot;return this.currentTransition=r=ae(P({},o),{targetSnapshot:A,urlAfterRedirects:p,extras:ae(P({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=p,M)),Y(r)}else return this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ss.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ln}),gt(o=>{let c=new Xc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),De(o=>(this.currentTransition=r=ae(P({},o),{guards:UA(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),YA(this.environmentInjector,o=>this.events.next(o)),gt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw du(this.urlSerializer,o.guardsResult);let c=new Zc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),$t(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ht.GuardRejected),!1)),Ch(o=>{if(o.guards.canActivateChecks.length!==0)return Y(o).pipe(gt(c=>{let u=new eu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Mt(c=>{let u=!1;return Y(c).pipe(SC(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ht.NoDataFromResolver)}}))}),gt(c=>{let u=new tu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Ch(o=>{let c=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=ds(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)h.push(...c(p));return h},u=c(o.targetSnapshot.root);return u.length===0?Y(o):pt(Promise.all(u).then(()=>o))}),Ch(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:o,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return u?pt(u).pipe(De(()=>r)):Y(r)}),De(o=>{let c=MA(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ae(P({},o),{targetRouterState:c}),this.currentNavigation.update(u=>(u.targetRouterState=c,u)),r}),gt(()=>{this.events.next(new Wo)}),VA(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Wi(1),lc(z_(s.signal).pipe($t(()=>!i&&!r.targetRouterState),gt(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",ht.Aborted)}))),gt({next:o=>{i=!0,this.currentNavigation.update(c=>(c.abort=OC,c)),this.lastSuccessfulNavigation.set(zt(this.currentNavigation)),this.events.next(new Dt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),lc(this.transitionAbortWithErrorSubject.pipe(gt(o=>{throw o}))),uc(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),cc(o=>{if(this.destroyed)return r.resolve(!1),Ln;if(i=!0,$_(o))this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),FA(o)?this.events.next(new cs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let c=new os(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof us){let{message:l,cancellationCode:h}=du(this.urlSerializer,u);this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new cs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ln}))}))}cancelNavigationTransition(e,r,i){let s=new yn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=zt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kC(n){return n!==rs}var nb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>N(MC),providedIn:"root"})}return n})(),fu=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},MC=(()=>{class n extends fu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qh=(()=>{class n{urlSerializer=N(gi);options=N(Ir,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(_r);urlHandlingStrategy=N(mu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,o=i??s;return o instanceof Zt?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=L_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>N(rb),providedIn:"root"})}return n})(),rb=(()=>{class n extends Qh{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof wr?this.updateStateMemento():e instanceof vn?this.commitTransition(r):e instanceof Go?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Wo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof yn&&e.code!==ht.SupersededByNewNavigation&&e.code!==ht.Redirect?this.restoreHistory(r):e instanceof os?this.restoreHistory(r,!0):e instanceof Dt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(e)||s){let c=this.browserPageId,u=P(P({},o),this.generateNgRouterState(i,c));this.location.replaceState(e,"",u)}else{let c=P(P({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vu(n,t){n.events.pipe($t(e=>e instanceof Dt||e instanceof yn||e instanceof os||e instanceof vn),De(e=>e instanceof Dt||e instanceof vn?0:(e instanceof yn?e.code===ht.Redirect||e.code===ht.SupersededByNewNavigation:!1)?2:1),$t(e=>e!==2),Wi(1)).subscribe(()=>{t()})}var LC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Bd);stateManager=N(Qh);options=N(Ir,{optional:!0})||{};pendingTasks=N(By);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(yu);urlSerializer=N(gi);location=N(_r);urlHandlingStrategy=N(mu);injector=N(hn);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(nb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(yi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Xo,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oy;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=zt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof yn&&r.code!==ht.Redirect&&r.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dt)this.navigated=!0;else if(r instanceof cs){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kC(i.source)},o);this.scheduleNavigation(c,rs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,o,s).catch(u=>{this.disposed||this.injector.get(So)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return zt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Hh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=P(P({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=N_(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return O_(p,e,h,l??null,this.urlSerializer)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Er(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rs,null,r)}navigate(e,r={skipLocationChange:!1}){return FC(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(ti(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=P({},LC):r===!1?i=P({},xC):i=r,Er(e))return l_(this.currentUrlTree,e,i);let s=this.parseUrl(e);return l_(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return vu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FC(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new J(4008,!1)}var _u=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ie(null);get href(){return zt(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new nt;applicationErrorHandler=N(So);options=N(Ir,{optional:!0});constructor(e,r,i,s,o,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.reactiveHref.set(N(new fv("href"),{optional:!0}));let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof Dt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Er(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Er(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ue(bn),ue(_n),Md("tabindex"),ue(Ht),ue(It),ue(Yt))};static \u0275dir=he({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&mc("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Lt("href",i.reactiveHref(),Jy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ye],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ye],replaceUrl:[2,"replaceUrl","replaceUrl",ye],routerLink:"routerLink"},features:[Fn]})}return n})(),VC=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new jt;link=N(_u,{optional:!0});constructor(e,r,i,s){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=e.events.subscribe(o=>{o instanceof Dt&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Io()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=pt(e).pipe(Io()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=UC(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(ue(bn),ue(It),ue(Ht),ue(yr))};static \u0275dir=he({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&yc(s,_u,5),r&2){let o;ai(o=ci())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Fn]})}return n})();function UC(n){return!!n.paths}var ea=class{};var ib=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,s){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($t(e=>e instanceof Dt),ei(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=fc(s.providers,e,""));let o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return pt(i).pipe(Io())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=pt(this.loader.loadChildren(e,r)):i=Y(null);let s=i.pipe(dn(o=>o===null?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(e,r);return pt([s,o]).pipe(Io())}else return s})}static \u0275fac=function(r){return new(r||n)(G(bn),G(hn),G(ea),G(gu))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sb=new z(""),BC=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=rs;restoredId=0;store={};constructor(e,r,i,s,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof vn&&e.code===ss.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof as))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new as(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){tv()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function $C(n,...t){return gr([{provide:yi,multi:!0,useValue:n},[],{provide:_n,useFactory:ob},{provide:jd,multi:!0,useFactory:ab},t.map(e=>e.\u0275providers)])}function ob(){return N(bn).routerState.root}function ta(n,t){return{\u0275kind:n,\u0275providers:t}}function ab(){let n=N(mr);return t=>{let e=n.get(zd);if(t!==e.components[0])return;let r=n.get(bn),i=n.get(cb);n.get(Jh)===1&&r.initialNavigation(),n.get(db,null,{optional:!0})?.setUpPreloading(),n.get(sb,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cb=new z("",{factory:()=>new nt}),Jh=new z("",{factory:()=>1});function ub(){let n=[{provide:Fd,useValue:!0},{provide:Jh,useValue:0},Co(()=>{let t=N(mr);return t.get(Zd,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(bn),s=t.get(cb);vu(i,()=>{r(!0)}),t.get(yu).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))})];return ta(2,n)}function lb(){let n=[Co(()=>{N(bn).setUpLocationChangeListener()}),{provide:Jh,useValue:2}];return ta(3,n)}var db=new z("");function hb(n){return ta(0,[{provide:db,useExisting:ib},{provide:ea,useExisting:n}])}function fb(){return ta(8,[jh,{provide:Xo,useExisting:jh}])}function pb(n){Vd("NgRouterViewTransitions");let t=[{provide:Gh,useValue:tb},{provide:Wh,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return ta(9,t)}var gb=[_r,{provide:gi,useClass:zn},bn,mi,{provide:_n,useFactory:ob},gu,[]],jC=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[gb,[],{provide:yi,multi:!0,useValue:e},[],r?.errorHandler?{provide:Kh,useValue:r.errorHandler}:[],{provide:Ir,useValue:r||{}},r?.useHash?HC():qC(),zC(),r?.preloadingStrategy?hb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?GC(r):[],r?.bindToComponentInputs?fb().\u0275providers:[],r?.enableViewTransitions?pb().\u0275providers:[],WC()]}}static forChild(e){return{ngModule:n,providers:[{provide:yi,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({})}return n})();function zC(){return{provide:sb,useFactory:()=>{let n=N(Bv),t=N(xn),e=N(Ir),r=N(yu),i=N(gi);return e.scrollOffset&&n.setOffset(e.scrollOffset),new BC(i,r,n,t,e)}}}function HC(){return{provide:Yt,useClass:ih}}function qC(){return{provide:Yt,useClass:Ic}}function GC(n){return[n.initialNavigation==="disabled"?lb().\u0275providers:[],n.initialNavigation==="enabledBlocking"?ub().\u0275providers:[]]}var Yh=new z("");function WC(){return[{provide:Yh,useFactory:ab},{provide:jd,multi:!0,useExisting:Yh}]}function Tr(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")t.push(r);else if(i==="object"){let s=Array.isArray(r)?[Tr(...r)]:Object.entries(r).map(([o,c])=>c?o:void 0);t=s.length?t.concat(s.filter(o=>!!o)):t}}return t.join(" ").trim()}}function mb(n,t){return n?n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className):!1}function en(n,t){if(n&&t){let e=r=>{mb(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function KC(){return window.innerWidth-document.documentElement.offsetWidth}function yb(n){typeof n=="string"?en(document.body,n||"p-overflow-hidden"):(n!=null&&n.variableName&&document.body.style.setProperty(n.variableName,KC()+"px"),en(document.body,n?.className||"p-overflow-hidden"))}function tn(n,t){if(n&&t){let e=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function vb(n){typeof n=="string"?tn(document.body,n||"p-overflow-hidden"):(n!=null&&n.variableName&&document.body.style.removeProperty(n.variableName),tn(document.body,n?.className||"p-overflow-hidden"))}function na(n){for(let t of document?.styleSheets)try{for(let e of t?.cssRules)for(let r of e?.style)if(n.test(r))return{name:r,value:e.style.getPropertyValue(r).trim()}}catch{}return null}function bu(n){let t={width:0,height:0};if(n){let[e,r]=[n.style.visibility,n.style.display],i=n.getBoundingClientRect();n.style.visibility="hidden",n.style.display="block",t.width=i.width||n.offsetWidth,t.height=i.height||n.offsetHeight,n.style.display=r,n.style.visibility=e}return t}function _b(){let n=window,t=document,e=t.documentElement,r=t.getElementsByTagName("body")[0],i=n.innerWidth||e.clientWidth||r.clientWidth,s=n.innerHeight||e.clientHeight||r.clientHeight;return{width:i,height:s}}function Xh(n){return n?Math.abs(n.scrollLeft):0}function QC(){let n=document.documentElement;return(window.pageXOffset||Xh(n))-(n.clientLeft||0)}function YC(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}function JC(n){return n?getComputedStyle(n).direction==="rtl":!1}function RF(n,t,e=!0){var r,i,s,o;if(n){let c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:bu(n),u=c.height,l=c.width,h=t.offsetHeight,p=t.offsetWidth,m=t.getBoundingClientRect(),v=YC(),C=QC(),R=_b(),A,M,V="top";m.top+h+u>R.height?(A=m.top+v-u,V="bottom",A<0&&(A=v)):A=h+m.top+v,m.left+l>R.width?M=Math.max(0,m.left+C+p-l):M=m.left+C,JC(n)?n.style.insetInlineEnd=M+"px":n.style.insetInlineStart=M+"px",n.style.top=A+"px",n.style.transformOrigin=V,e&&(n.style.marginTop=V==="bottom"?`calc(${(i=(r=na(/-anchor-gutter$/))==null?void 0:r.value)!=null?i:"2px"} * -1)`:(o=(s=na(/-anchor-gutter$/))==null?void 0:s.value)!=null?o:"")}}function PF(n,t){n&&(typeof t=="string"?n.style.cssText=t:Object.entries(t||{}).forEach(([e,r])=>n.style[e]=r))}function bb(n,t){if(n instanceof HTMLElement){let e=n.offsetWidth;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return e}return 0}function NF(n,t,e=!0,r=void 0){var i;if(n){let s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:bu(n),o=t.offsetHeight,c=t.getBoundingClientRect(),u=_b(),l,h,p=r??"top";if(!r&&c.top+o+s.height>u.height?(l=-1*s.height,p="bottom",c.top+l<0&&(l=-1*c.top)):l=o,s.width>u.width?h=c.left*-1:c.left+s.width>u.width?h=(c.left+s.width-u.width)*-1:h=0,n.style.top=l+"px",n.style.insetInlineStart=h+"px",n.style.transformOrigin=p,e){let m=(i=na(/-anchor-gutter$/))==null?void 0:i.value;n.style.marginTop=p==="bottom"?`calc(${m??"2px"} * -1)`:m??""}}}function Eb(n){if(n){let t=n.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}function XC(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&Eb(n))}function fs(n){return typeof Element<"u"?n instanceof Element:n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}function wb(n){let t=n;return n&&typeof n=="object"&&(Object.hasOwn(n,"current")?t=n.current:Object.hasOwn(n,"el")&&(Object.hasOwn(n.el,"nativeElement")?t=n.el.nativeElement:t=n.el)),fs(t)?t:void 0}function ZC(n,t){var e,r,i;if(n)switch(n){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@first":return t?.firstElementChild;case"@last":return t?.lastElementChild;case"@child":return(e=t?.children)==null?void 0:e[0];case"@parent":return t?.parentElement;case"@grandparent":return(r=t?.parentElement)==null?void 0:r.parentElement;default:{if(typeof n=="string"){let c=n.match(/^@child\[(\d+)]/);return c?((i=t?.children)==null?void 0:i[parseInt(c[1],10)])||null:document.querySelector(n)||null}let s=(c=>typeof c=="function"&&"call"in c&&"apply"in c)(n)?n():n,o=wb(s);return XC(o)?o:s?.nodeType===9?s:void 0}}}function OF(n,t){let e=ZC(n,t);if(e)e.appendChild(t);else throw new Error("Cannot append "+t+" to "+n)}function Eu(n,t={}){if(fs(n)){let e=(r,i)=>{var s,o;let c=(s=n?.$attrs)!=null&&s[r]?[(o=n?.$attrs)==null?void 0:o[r]]:[];return[i].flat().reduce((u,l)=>{if(l!=null){let h=typeof l;if(h==="string"||h==="number")u.push(l);else if(h==="object"){let p=Array.isArray(l)?e(r,l):Object.entries(l).map(([m,v])=>r==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(t).forEach(([r,i])=>{if(i!=null){let s=r.match(/^on(.+)/);s?n.addEventListener(s[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?Eu(n,i):(i=r==="class"?[...new Set(e("class",i))].join(" ").trim():r==="style"?e("style",i).join(";").trim():i,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=i),n.setAttribute(r,i))}})}}function wu(n,t={},...e){if(n){let r=document.createElement(n);return Eu(r,t),r.append(...e),r}}function kF(n,t){if(n){n.style.opacity="0";let e=+new Date,r="0",i=function(){r=`${+n.style.opacity+(new Date().getTime()-e)/t}`,n.style.opacity=r,e=+new Date,+r<1&&("requestAnimationFrame"in window?requestAnimationFrame(i):setTimeout(i,16))};i()}}function eD(n,t){return fs(n)?Array.from(n.querySelectorAll(t)):[]}function ps(n,t){return fs(n)?n.matches(t)?n:n.querySelector(t):null}function MF(n,t){n&&document.activeElement!==n&&n.focus(t)}function LF(n,t){if(fs(n)){let e=n.getAttribute(t);return isNaN(e)?e==="true"||e==="false"?e==="true":e:+e}}function Ib(n,t=""){let e=eD(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [href]:not([tabindex = "-1"]):not([style*="display:none"]):not([hidden])${t},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of e)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r}function xF(n,t){let e=Ib(n,t);return e.length>0?e[0]:null}function Zh(n){if(n){let t=n.offsetHeight,e=getComputedStyle(n);return t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),t}return 0}function FF(n){var t;if(n){let e=(t=Eb(n))==null?void 0:t.childNodes,r=0;if(e)for(let i=0;i<e.length;i++){if(e[i]===n)return r;e[i].nodeType===1&&r++}}return-1}function VF(n,t){let e=Ib(n,t);return e.length>0?e[e.length-1]:null}function Tb(n){if(n){let t=n.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||Xh(document.documentElement)||Xh(document.body)||0)}}return{top:"auto",left:"auto"}}function ef(n,t){if(n){let e=n.offsetHeight;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return e}return 0}function UF(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function tf(n){if(n){let t=n.offsetWidth,e=getComputedStyle(n);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),t}return 0}function BF(n){if(n){let t=n.nodeName,e=n.parentElement&&n.parentElement.nodeName;return t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||e==="INPUT"||e==="TEXTAREA"||e==="BUTTON"||e==="A"||!!n.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function $F(n){return!!(n&&n.offsetParent!=null)}function jF(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}function Sb(){return typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function zF(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function Iu(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function Ab(n){var t;n&&("remove"in Element.prototype?n.remove():(t=n.parentNode)==null||t.removeChild(n))}function HF(n,t){let e=wb(n);if(e)e.removeChild(t);else throw new Error("Cannot remove "+t+" from "+n)}function qF(n,t){let e=getComputedStyle(n).getPropertyValue("borderTopWidth"),r=e?parseFloat(e):0,i=getComputedStyle(n).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=n.getBoundingClientRect(),c=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,u=n.scrollTop,l=n.clientHeight,h=ef(t);c<0?n.scrollTop=u+c:c+h>l&&(n.scrollTop=u+c-l+h)}function Cb(n,t="",e){fs(n)&&e!==null&&e!==void 0&&n.setAttribute(t,e)}function nf(n,t,e=null,r){var i;t&&((i=n?.style)==null||i.setProperty(t,e,r))}function Db(){let n=new Map;return{on(t,e){let r=n.get(t);return r?r.push(e):r=[e],n.set(t,r),this},off(t,e){let r=n.get(t);return r&&r.splice(r.indexOf(e)>>>0,1),this},emit(t,e){let r=n.get(t);r&&r.forEach(i=>{i(e)})},clear(){n.clear()}}}var tD=Object.defineProperty,Rb=Object.getOwnPropertySymbols,nD=Object.prototype.hasOwnProperty,rD=Object.prototype.propertyIsEnumerable,Pb=(n,t,e)=>t in n?tD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Nb=(n,t)=>{for(var e in t||(t={}))nD.call(t,e)&&Pb(n,e,t[e]);if(Rb)for(var e of Rb(t))rD.call(t,e)&&Pb(n,e,t[e]);return n};function Ob(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")t.push(r);else if(i==="object"){let s=Array.isArray(r)?[Ob(...r)]:Object.entries(r).map(([o,c])=>c?o:void 0);t=s.length?t.concat(s.filter(o=>!!o)):t}}return t.join(" ").trim()}}function iD(n){return typeof n=="function"&&"call"in n&&"apply"in n}function rf(...n){return n?.reduce((t,e={})=>{for(let r in e){let i=e[r];if(r==="style")t.style=Nb(Nb({},t.style),e.style);else if(r==="class"||r==="className")t[r]=Ob(t[r],e[r]);else if(iD(i)){let s=t[r];t[r]=s?(...o)=>{s(...o),i(...o)}:i}else t[r]=i}return t},{})}function En(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&typeof n=="object"&&Object.keys(n).length===0}function sf(n,t,e=new WeakSet){if(n===t)return!0;if(!n||!t||typeof n!="object"||typeof t!="object"||e.has(n)||e.has(t))return!1;e.add(n).add(t);let r=Array.isArray(n),i=Array.isArray(t),s,o,c;if(r&&i){if(o=n.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!sf(n[s],t[s],e))return!1;return!0}if(r!=i)return!1;let u=n instanceof Date,l=t instanceof Date;if(u!=l)return!1;if(u&&l)return n.getTime()==t.getTime();let h=n instanceof RegExp,p=t instanceof RegExp;if(h!=p)return!1;if(h&&p)return n.toString()==t.toString();let m=Object.keys(n);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!sf(n[c],t[c],e))return!1;return!0}function sD(n,t){return sf(n,t)}function Su(n){return typeof n=="function"&&"call"in n&&"apply"in n}function pe(n){return!En(n)}function Tu(n,t){if(!n||!t)return null;try{let e=n[t];if(pe(e))return e}catch{}if(Object.keys(n).length){if(Su(t))return t(n);if(t.indexOf(".")===-1)return n[t];{let e=t.split("."),r=n;for(let i=0,s=e.length;i<s;++i){if(r==null)return null;r=r[e[i]]}return r}}return null}function ra(n,t,e){return e?Tu(n,e)===Tu(t,e):sD(n,t)}function QF(n,t){if(n!=null&&t&&t.length){for(let e of t)if(ra(n,e))return!0}return!1}function Hn(n,t=!0){return n instanceof Object&&n.constructor===Object&&(t||Object.keys(n).length!==0)}function YF(n,t){let e=-1;if(pe(n))try{e=n.findLastIndex(t)}catch{e=n.lastIndexOf([...n].reverse().find(t))}return e}function Qe(n,...t){return Su(n)?n(...t):n}function Vt(n,t=!0){return typeof n=="string"&&(t||n!=="")}function Sr(n){return Vt(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function Au(n,t="",e={}){let r=Sr(t).split("."),i=r.shift();if(i){if(Hn(n)){let s=Object.keys(n).find(o=>Sr(o)===i)||"";return Au(Qe(n[s],e),r.join("."),e)}return}return Qe(n,e)}function of(n,t=!0){return Array.isArray(n)&&(t||n.length!==0)}function JF(n){return n instanceof Date}function kb(n){return pe(n)&&!isNaN(n)}function XF(n=""){return pe(n)&&n.length===1&&!!n.match(/\S| /)}function nn(n,t){if(t){let e=t.test(n);return t.lastIndex=0,e}return!1}function vi(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Rt(n){if(n&&/[\xC0-\xFF\u0100-\u017E]/.test(n)){let t={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let e in t)n=n.replace(t[e],e)}return n}function Cu(n){return Vt(n)?n.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():n}function af(n){return n==="auto"?0:typeof n=="number"?n:Number(n.replace(/[^\d.]/g,"").replace(",","."))*1e3}var Du={};function ia(n="pui_id_"){return Object.hasOwn(Du,n)||(Du[n]=0),Du[n]++,`${n}${Du[n]}`}var Mb=["*"],oD=(function(n){return n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",n})(oD||{}),i2=(()=>{class n{requireConfirmationSource=new nt;acceptConfirmationSource=new nt;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var it=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})(),s2=(()=>{class n{static AND="and";static OR="or"}return n})(),o2=(()=>{class n{filter(e,r,i,s,o){let c=[];if(e)for(let u of e)for(let l of r){let h=Tu(u,l);if(this.filters[s](h,i,o)){c.push(u);break}}return c}filters={startsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=Rt(r.toString()).toLocaleLowerCase(i);return Rt(e.toString()).toLocaleLowerCase(i).slice(0,s.length)===s},contains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=Rt(r.toString()).toLocaleLowerCase(i);return Rt(e.toString()).toLocaleLowerCase(i).indexOf(s)!==-1},notContains:(e,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;let s=Rt(r.toString()).toLocaleLowerCase(i);return Rt(e.toString()).toLocaleLowerCase(i).indexOf(s)===-1},endsWith:(e,r,i)=>{if(r==null||r.trim()==="")return!0;if(e==null)return!1;let s=Rt(r.toString()).toLocaleLowerCase(i),o=Rt(e.toString()).toLocaleLowerCase(i);return o.indexOf(s,o.length-s.length)!==-1},equals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():e==r?!0:Rt(e.toString()).toLocaleLowerCase(i)==Rt(r.toString()).toLocaleLowerCase(i),notEquals:(e,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!1:e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():e==r?!1:Rt(e.toString()).toLocaleLowerCase(i)!=Rt(r.toString()).toLocaleLowerCase(i),in:(e,r)=>{if(r==null||r.length===0)return!0;for(let i=0;i<r.length;i++)if(ra(e,r[i]))return!0;return!1},between:(e,r)=>r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1],lt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r,lte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r,gt:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r,gte:(e,r,i)=>r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r,is:(e,r,i)=>this.filters.equals(e,r,i),isNot:(e,r,i)=>this.filters.notEquals(e,r,i),before:(e,r,i)=>this.filters.lt(e,r,i),after:(e,r,i)=>this.filters.gt(e,r,i),dateIs:(e,r)=>r==null?!0:e==null?!1:e.toDateString()===r.toDateString(),dateIsNot:(e,r)=>r==null?!0:e==null?!1:e.toDateString()!==r.toDateString(),dateBefore:(e,r)=>r==null?!0:e==null?!1:e.getTime()<r.getTime(),dateAfter:(e,r)=>r==null?!0:e==null?!1:(e.setHours(0,0,0,0),e.getTime()>r.getTime())};register(e,r){this.filters[e]=r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a2=(()=>{class n{messageSource=new nt;clearSource=new nt;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),c2=(()=>{class n{clickSource=new nt;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=je({type:n,selectors:[["p-header"]],standalone:!1,ngContentSelectors:Mb,decls:1,vars:0,template:function(r,i){r&1&&(Wt(),Kt(0))},encapsulation:2})}return n})(),l2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=je({type:n,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:Mb,decls:1,vars:0,template:function(r,i){r&1&&(Wt(),Kt(0))},encapsulation:2})}return n})(),Lb=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(ue(Ao))};static \u0275dir=he({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),Ar=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({imports:[St]})}return n})(),d2=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var xb=()=>{};var Ub=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},aD=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[e++],o=n[e++],c=n[e++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(e[h],e[p],e[m],e[v])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ub(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):aD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;let l=i<n.length?e[n.charAt(i)]:64;++i;let p=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new uf;let m=s<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},uf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cD=function(n){let t=Ub(n);return Bb.encodeByteArray(t,!0)},oa=function(n){return cD(n).replace(/\./g,"")},Pu=function(n){try{return Bb.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $b(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uD=()=>$b().__FIREBASE_DEFAULTS__,lD=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&Pu(n[1]);return t&&JSON.parse(t)},Nu=()=>{try{return xb()||uD()||lD()||dD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},df=n=>Nu()?.emulatorHosts?.[n],Ou=n=>{let t=df(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},hf=()=>Nu()?.config,ff=n=>Nu()?.[`_${n}`];var Ru=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function wn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gs(n){return(await fetch(n,{credentials:"include"})).ok}function jb(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=P({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oa(JSON.stringify(e)),oa(JSON.stringify(o)),""].join(".")}var sa={};function hD(){let n={prod:[],emulator:[]};for(let t of Object.keys(sa))sa[t]?n.emulator.push(t):n.prod.push(t);return n}function fD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var Fb=!1;function ms(n,t){if(typeof window>"u"||typeof document>"u"||!wn(window.location.host)||sa[n]===t||sa[n]||Fb)return;sa[n]=t;function e(m){return`__firebase__banner__${m}`}let r="__firebase__banner",s=hD().prod.length>0;function o(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Fb=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=fD(r),v=e("text"),C=document.getElementById(v)||document.createElement("span"),R=e("learnmore"),A=document.getElementById(R)||document.createElement("a"),M=e("preprendIcon"),V=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let $=m.element;c($),h(A,R);let W=l();u(V,M),$.append(V,C,A,W),document.body.appendChild($)}s?(C.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function pD(){let n=Nu()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){let n=Ye();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Kb(){return!pD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pf(){try{return typeof indexedDB=="object"}catch{return!1}}function Qb(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}var gD="FirebaseError",vt=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=gD,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?mD(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new vt(i,c,r)}};function mD(n,t){return n.replace(yD,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var yD=/\{\$([^}]+)}/g;function Yb(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function In(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let s=n[i],o=t[i];if(Vb(s)&&Vb(o)){if(!In(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function Vb(n){return n!==null&&typeof n=="object"}function aa(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ys(n){let t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function vs(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function Jb(n,t){let e=new lf(n,t);return e.subscribe.bind(e)}var lf=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");vD(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=cf),i.error===void 0&&(i.error=cf),i.complete===void 0&&(i.complete=cf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vD(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function cf(){}var g2=14400*1e3;function be(n){return n&&n._delegate?n._delegate:n}var _t=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var _i="[DEFAULT]";var gf=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new Ru;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){let e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bD(t))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=_i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_i){return this.instances.has(t)}getOptions(t=_i){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,e){let r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_D(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_i){return this.component?this.component.multipleInstances?t:_i:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _D(n){return n===_i?void 0:n}function bD(n){return n.instantiationMode==="EAGER"}var ku=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new gf(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var ED=[],ee=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ee||{}),wD={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ID=ee.INFO,TD={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},SD=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=TD[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Cr=class{constructor(t){this.name=t,this._logLevel=ID,this._logHandler=SD,this._userLogHandler=null,ED.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}};var AD=(n,t)=>t.some(e=>n instanceof e),Xb,Zb;function CD(){return Xb||(Xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return Zb||(Zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var eE=new WeakMap,yf=new WeakMap,tE=new WeakMap,mf=new WeakMap,_f=new WeakMap;function RD(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Tn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&eE.set(e,n)}).catch(()=>{}),_f.set(t,n),t}function PD(n){if(yf.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});yf.set(n,t)}var vf={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return yf.get(n);if(t==="objectStoreNames")return n.objectStoreNames||tE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tn(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function nE(n){vf=n(vf)}function ND(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(Mu(this),t,...e);return tE.set(r,t.sort?t.sort():[t]),Tn(r)}:DD().includes(n)?function(...t){return n.apply(Mu(this),t),Tn(eE.get(this))}:function(...t){return Tn(n.apply(Mu(this),t))}}function OD(n){return typeof n=="function"?ND(n):(n instanceof IDBTransaction&&PD(n),AD(n,CD())?new Proxy(n,vf):n)}function Tn(n){if(n instanceof IDBRequest)return RD(n);if(mf.has(n))return mf.get(n);let t=OD(n);return t!==n&&(mf.set(n,t),_f.set(t,n)),t}var Mu=n=>_f.get(n);function iE(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,t),c=Tn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Tn(o.result),u.oldVersion,u.newVersion,Tn(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var kD=["get","getKey","getAll","getAllKeys","count"],MD=["put","add","delete","clear"],bf=new Map;function rE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(bf.get(t))return bf.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=MD.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kD.includes(e)))return;let s=async function(o,...c){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),i&&u.done]))[0]};return bf.set(t,s),s}nE(n=>ae(P({},n),{get:(t,e,r)=>rE(t,e)||n.get(t,e,r),has:(t,e)=>!!rE(t,e)||n.has(t,e)}));var wf=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(LD(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function LD(n){return n.getComponent()?.type==="VERSION"}var If="@firebase/app",sE="0.14.6";var Gn=new Cr("@firebase/app"),xD="@firebase/app-compat",FD="@firebase/analytics-compat",VD="@firebase/analytics",UD="@firebase/app-check-compat",BD="@firebase/app-check",$D="@firebase/auth",jD="@firebase/auth-compat",zD="@firebase/database",HD="@firebase/data-connect",qD="@firebase/database-compat",GD="@firebase/functions",WD="@firebase/functions-compat",KD="@firebase/installations",QD="@firebase/installations-compat",YD="@firebase/messaging",JD="@firebase/messaging-compat",XD="@firebase/performance",ZD="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",rR="@firebase/storage-compat",iR="@firebase/firestore",sR="@firebase/ai",oR="@firebase/firestore-compat",aR="firebase",cR="12.6.0";var Tf="[DEFAULT]",uR={[If]:"fire-core",[xD]:"fire-core-compat",[VD]:"fire-analytics",[FD]:"fire-analytics-compat",[BD]:"fire-app-check",[UD]:"fire-app-check-compat",[$D]:"fire-auth",[jD]:"fire-auth-compat",[zD]:"fire-rtdb",[HD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[GD]:"fire-fn",[WD]:"fire-fn-compat",[KD]:"fire-iid",[QD]:"fire-iid-compat",[YD]:"fire-fcm",[JD]:"fire-fcm-compat",[XD]:"fire-perf",[ZD]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[rR]:"fire-gcs-compat",[iR]:"fire-fst",[oR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};var Lu=new Map,lR=new Map,Sf=new Map;function oE(n,t){try{n.container.addComponent(t)}catch(e){Gn.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Sn(n){let t=n.name;if(Sf.has(t))return Gn.debug(`There were multiple attempts to register component ${t}.`),!1;Sf.set(t,n);for(let e of Lu.values())oE(e,n);for(let e of lR.values())oE(e,n);return!0}function bi(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ft(n){return n==null?!1:n.settings!==void 0}var dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new qn("app","Firebase",dR);var Af=class{constructor(t,e,r){this._isDeleted=!1,this._options=P({},t),this._config=P({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var Rr=cR;function Rf(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=P({name:Tf,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(e||(e=hf()),!e)throw Dr.create("no-options");let s=Lu.get(i);if(s){if(In(e,s.options)&&In(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}let o=new ku(i);for(let u of Sf.values())o.addComponent(u);let c=new Af(e,r,o);return Lu.set(i,c),c}function _s(n=Tf){let t=Lu.get(n);if(!t&&n===Tf&&hf())return Rf();if(!t)throw Dr.create("no-app",{appName:n});return t}function bt(n,t,e){let r=uR[n]??n;e&&(r+=`-${e}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gn.warn(o.join(" "));return}Sn(new _t(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var hR="firebase-heartbeat-database",fR=1,ca="firebase-heartbeat-store",Ef=null;function lE(){return Ef||(Ef=iE(hR,fR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ca)}catch(e){console.warn(e)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),Ef}async function pR(n){try{let e=(await lE()).transaction(ca),r=await e.objectStore(ca).get(dE(n));return await e.done,r}catch(t){if(t instanceof vt)Gn.warn(t.message);else{let e=Dr.create("idb-get",{originalErrorMessage:t?.message});Gn.warn(e.message)}}}async function aE(n,t){try{let r=(await lE()).transaction(ca,"readwrite");await r.objectStore(ca).put(t,dE(n)),await r.done}catch(e){if(e instanceof vt)Gn.warn(e.message);else{let r=Dr.create("idb-set",{originalErrorMessage:e?.message});Gn.warn(r.message)}}}function dE(n){return`${n.name}!${n.options.appId}`}var gR=1024,mR=30,Cf=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Df(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>mR){let i=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=cE(),{heartbeatsToSend:e,unsentEntries:r}=yR(this._heartbeatsCache.heartbeats),i=oa(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Gn.warn(t),""}}};function cE(){return new Date().toISOString().substring(0,10)}function yR(n,t=gR){let e=[],r=n.slice();for(let i of n){let s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uE(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),uE(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var Df=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pf()?Qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await pR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return aE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return aE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}};function uE(n){return oa(JSON.stringify({version:2,heartbeats:n})).length}function vR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function _R(n){Sn(new _t("platform-logger",t=>new wf(t),"PRIVATE")),Sn(new _t("heartbeat",t=>new Cf(t),"PRIVATE")),bt(If,sE,n),bt(If,sE,"esm2020"),bt("fire-js","")}_R("");var bR="firebase",ER="12.7.0";bt(bR,ER,"app");var wR=Object.defineProperty,IR=Object.defineProperties,TR=Object.getOwnPropertyDescriptors,xu=Object.getOwnPropertySymbols,pE=Object.prototype.hasOwnProperty,gE=Object.prototype.propertyIsEnumerable,hE=(n,t,e)=>t in n?wR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,sn=(n,t)=>{for(var e in t||(t={}))pE.call(t,e)&&hE(n,e,t[e]);if(xu)for(var e of xu(t))gE.call(t,e)&&hE(n,e,t[e]);return n},Pf=(n,t)=>IR(n,TR(t)),Wn=(n,t)=>{var e={};for(var r in n)pE.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&xu)for(var r of xu(n))t.indexOf(r)<0&&gE.call(n,r)&&(e[r]=n[r]);return e};var SR=Db(),qe=SR,ua=/{([^}]*)}/g,mE=/(\d+\s+[\+\-\*\/]\s+\d+)/g,yE=/var\([^)]+\)/g;function fE(n){return Vt(n)?n.replace(/[A-Z]/g,(t,e)=>e===0?t:"."+t.toLowerCase()).toLowerCase():n}function AR(n){return Hn(n)&&n.hasOwnProperty("$value")&&n.hasOwnProperty("$type")?n.$value:n}function CR(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Nf(n="",t=""){return CR(`${Vt(n,!1)&&Vt(t,!1)?`${n}-`:n}${t}`)}function vE(n="",t=""){return`--${Nf(n,t)}`}function DR(n=""){let t=(n.match(/{/g)||[]).length,e=(n.match(/}/g)||[]).length;return(t+e)%2!==0}function _E(n,t="",e="",r=[],i){if(Vt(n)){let s=n.trim();if(DR(s))return;if(nn(s,ua)){let o=s.replaceAll(ua,c=>{let u=c.replace(/{|}/g,"").split(".").filter(l=>!r.some(h=>nn(l,h)));return`var(${vE(e,Cu(u.join("-")))}${pe(i)?`, ${i}`:""})`});return nn(o.replace(yE,"0"),mE)?`calc(${o})`:o}return s}else if(kb(n))return n}function RR(n,t,e){Vt(t,!1)&&n.push(`${t}:${e};`)}function bs(n,t){return n?`${n}{${t}}`:""}function bE(n,t){if(n.indexOf("dt(")===-1)return n;function e(o,c){let u=[],l=0,h="",p=null,m=0;for(;l<=o.length;){let v=o[l];if((v==='"'||v==="'"||v==="`")&&o[l-1]!=="\\"&&(p=p===v?null:v),!p&&(v==="("&&m++,v===")"&&m--,(v===","||l===o.length)&&m===0)){let C=h.trim();C.startsWith("dt(")?u.push(bE(C,c)):u.push(r(C)),h="",l++;continue}v!==void 0&&(h+=v),l++}return u}function r(o){let c=o[0];if((c==='"'||c==="'"||c==="`")&&o[o.length-1]===c)return o.slice(1,-1);let u=Number(o);return isNaN(u)?o:u}let i=[],s=[];for(let o=0;o<n.length;o++)if(n[o]==="d"&&n.slice(o,o+3)==="dt(")s.push(o),o+=2;else if(n[o]===")"&&s.length>0){let c=s.pop();s.length===0&&i.push([c,o])}if(!i.length)return n;for(let o=i.length-1;o>=0;o--){let[c,u]=i[o],l=n.slice(c+3,u),h=e(l,t),p=t(...h);n=n.slice(0,c)+p+n.slice(u+1)}return n}var kf=n=>{var t;let e=me.getTheme(),r=Of(e,n,void 0,"variable"),i=(t=r?.match(/--[\w-]+/g))==null?void 0:t[0],s=Of(e,n,void 0,"value");return{name:i,variable:r,value:s}},Kn=(...n)=>Of(me.getTheme(),...n),Of=(n={},t,e,r)=>{if(t){let{variable:i,options:s}=me.defaults||{},{prefix:o,transform:c}=n?.options||s||{},u=nn(t,ua)?t:`{${t}}`;return r==="value"||En(r)&&c==="strict"?me.getTokenValue(t):_E(u,void 0,o,[i.excludedKeyRegex],e)}return""};function Es(n,...t){if(n instanceof Array){let e=n.reduce((r,i,s)=>{var o;return r+i+((o=Qe(t[s],{dt:Kn}))!=null?o:"")},"");return bE(e,Kn)}return Qe(n,{dt:Kn})}function PR(n,t={}){let e=me.defaults.variable,{prefix:r=e.prefix,selector:i=e.selector,excludedKeyRegex:s=e.excludedKeyRegex}=t,o=[],c=[],u=[{node:n,path:r}];for(;u.length;){let{node:h,path:p}=u.pop();for(let m in h){let v=h[m],C=AR(v),R=nn(m,s)?Nf(p):Nf(p,Cu(m));if(Hn(C))u.push({node:C,path:R});else{let A=vE(R),M=_E(C,R,r,[s]);RR(c,A,M);let V=R;r&&V.startsWith(r+"-")&&(V=V.slice(r.length+1)),o.push(V.replace(/-/g,"."))}}}let l=c.join("");return{value:c,tokens:o,declarations:l,css:bs(i,l)}}var rn={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n},:host${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:n,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(n.trim())}}},custom:{resolve(n){return{type:"custom",selector:n,matched:!0}}}},resolve(n){let t=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[n].flat().map(e=>{var r;return(r=t.map(i=>i.resolve(e)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(e)})}},_toVariables(n,t){return PR(n,{prefix:t?.prefix})},getCommon({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o,c,u,l,h,p;let{preset:m,options:v}=t,C,R,A,M,V,$,W;if(pe(m)&&v.transform!=="strict"){let{primitive:se,semantic:re,extend:E}=m,y=re||{},{colorScheme:b}=y,I=Wn(y,["colorScheme"]),w=E||{},{colorScheme:S}=w,_=Wn(w,["colorScheme"]),Ne=b||{},{dark:Et}=Ne,Fi=Wn(Ne,["dark"]),Vi=S||{},{dark:kn}=Vi,Mn=Wn(Vi,["dark"]),Ui=pe(se)?this._toVariables({primitive:se},v):{},Gr=pe(I)?this._toVariables({semantic:I},v):{},Wr=pe(Fi)?this._toVariables({light:Fi},v):{},Xs=pe(Et)?this._toVariables({dark:Et},v):{},Kr=pe(_)?this._toVariables({semantic:_},v):{},Bi=pe(Mn)?this._toVariables({light:Mn},v):{},$i=pe(kn)?this._toVariables({dark:kn},v):{},[Zs,eo]=[(s=Ui.declarations)!=null?s:"",Ui.tokens],[za,Ha]=[(o=Gr.declarations)!=null?o:"",Gr.tokens||[]],[dd,qa]=[(c=Wr.declarations)!=null?c:"",Wr.tokens||[]],[Ga,to]=[(u=Xs.declarations)!=null?u:"",Xs.tokens||[]],[Wa,hd]=[(l=Kr.declarations)!=null?l:"",Kr.tokens||[]],[no,ro]=[(h=Bi.declarations)!=null?h:"",Bi.tokens||[]],[io,Ge]=[(p=$i.declarations)!=null?p:"",$i.tokens||[]];C=this.transformCSS(n,Zs,"light","variable",v,r,i),R=eo;let tt=this.transformCSS(n,`${za}${dd}`,"light","variable",v,r,i),ji=this.transformCSS(n,`${Ga}`,"dark","variable",v,r,i);A=`${tt}${ji}`,M=[...new Set([...Ha,...qa,...to])];let fd=this.transformCSS(n,`${Wa}${no}color-scheme:light`,"light","variable",v,r,i),Ka=this.transformCSS(n,`${io}color-scheme:dark`,"dark","variable",v,r,i);V=`${fd}${Ka}`,$=[...new Set([...hd,...ro,...Ge])],W=Qe(m.css,{dt:Kn})}return{primitive:{css:C,tokens:R},semantic:{css:A,tokens:M},global:{css:V,tokens:$},style:W}},getPreset({name:n="",preset:t={},options:e,params:r,set:i,defaults:s,selector:o}){var c,u,l;let h,p,m;if(pe(t)&&e.transform!=="strict"){let v=n.replace("-directive",""),C=t,{colorScheme:R,extend:A,css:M}=C,V=Wn(C,["colorScheme","extend","css"]),$=A||{},{colorScheme:W}=$,se=Wn($,["colorScheme"]),re=R||{},{dark:E}=re,y=Wn(re,["dark"]),b=W||{},{dark:I}=b,w=Wn(b,["dark"]),S=pe(V)?this._toVariables({[v]:sn(sn({},V),se)},e):{},_=pe(y)?this._toVariables({[v]:sn(sn({},y),w)},e):{},Ne=pe(E)?this._toVariables({[v]:sn(sn({},E),I)},e):{},[Et,Fi]=[(c=S.declarations)!=null?c:"",S.tokens||[]],[Vi,kn]=[(u=_.declarations)!=null?u:"",_.tokens||[]],[Mn,Ui]=[(l=Ne.declarations)!=null?l:"",Ne.tokens||[]],Gr=this.transformCSS(v,`${Et}${Vi}`,"light","variable",e,i,s,o),Wr=this.transformCSS(v,Mn,"dark","variable",e,i,s,o);h=`${Gr}${Wr}`,p=[...new Set([...Fi,...kn,...Ui])],m=Qe(M,{dt:Kn})}return{css:h,tokens:p,style:m}},getPresetC({name:n="",theme:t={},params:e,set:r,defaults:i}){var s;let{preset:o,options:c}=t,u=(s=o?.components)==null?void 0:s[n];return this.getPreset({name:n,preset:u,options:c,params:e,set:r,defaults:i})},getPresetD({name:n="",theme:t={},params:e,set:r,defaults:i}){var s,o;let c=n.replace("-directive",""),{preset:u,options:l}=t,h=((s=u?.components)==null?void 0:s[c])||((o=u?.directives)==null?void 0:o[c]);return this.getPreset({name:c,preset:h,options:l,params:e,set:r,defaults:i})},applyDarkColorScheme(n){return!(n.darkModeSelector==="none"||n.darkModeSelector===!1)},getColorSchemeOption(n,t){var e;return this.applyDarkColorScheme(n)?this.regex.resolve(n.darkModeSelector===!0?t.options.darkModeSelector:(e=n.darkModeSelector)!=null?e:t.options.darkModeSelector):[]},getLayerOrder(n,t={},e,r){let{cssLayer:i}=t;return i?`@layer ${Qe(i.order||i.name||"primeui",e)}`:""},getCommonStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){let o=this.getCommon({name:n,theme:t,params:e,set:i,defaults:s}),c=Object.entries(r).reduce((u,[l,h])=>u.push(`${l}="${h}"`)&&u,[]).join(" ");return Object.entries(o||{}).reduce((u,[l,h])=>{if(Hn(h)&&Object.hasOwn(h,"css")){let p=vi(h.css),m=`${l}-variables`;u.push(`<style type="text/css" data-primevue-style-id="${m}" ${c}>${p}</style>`)}return u},[]).join("")},getStyleSheet({name:n="",theme:t={},params:e,props:r={},set:i,defaults:s}){var o;let c={name:n,theme:t,params:e,set:i,defaults:s},u=(o=n.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:o.css,l=Object.entries(r).reduce((h,[p,m])=>h.push(`${p}="${m}"`)&&h,[]).join(" ");return u?`<style type="text/css" data-primevue-style-id="${n}-variables" ${l}>${vi(u)}</style>`:""},createTokens(n={},t,e="",r="",i={}){let s=function(c,u={},l=[]){if(l.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:c,path:this.path,paths:u,value:void 0};l.push(this.path),u.name=this.path,u.binding||(u.binding={});let h=this.value;if(typeof this.value=="string"&&ua.test(this.value)){let p=this.value.trim().replace(ua,m=>{var v;let C=m.slice(1,-1),R=this.tokens[C];if(!R)return console.warn(`Token not found for path: ${C}`),"__UNRESOLVED__";let A=R.computed(c,u,l);return Array.isArray(A)&&A.length===2?`light-dark(${A[0].value},${A[1].value})`:(v=A?.value)!=null?v:"__UNRESOLVED__"});h=mE.test(p.replace(yE,"0"))?`calc(${p})`:p}return En(u.binding)&&delete u.binding,l.pop(),{colorScheme:c,path:this.path,paths:u,value:h.includes("__UNRESOLVED__")?void 0:h}},o=(c,u,l)=>{Object.entries(c).forEach(([h,p])=>{let m=nn(h,t.variable.excludedKeyRegex)?u:u?`${u}.${fE(h)}`:fE(h),v=l?`${l}.${h}`:h;Hn(p)?o(p,m,v):(i[m]||(i[m]={paths:[],computed:(C,R={},A=[])=>{if(i[m].paths.length===1)return i[m].paths[0].computed(i[m].paths[0].scheme,R.binding,A);if(C&&C!=="none")for(let M=0;M<i[m].paths.length;M++){let V=i[m].paths[M];if(V.scheme===C)return V.computed(C,R.binding,A)}return i[m].paths.map(M=>M.computed(M.scheme,R[M.scheme],A))}}),i[m].paths.push({path:v,value:p,scheme:v.includes("colorScheme.light")?"light":v.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:i}))})};return o(n,e,r),i},getTokenValue(n,t,e){var r;let i=(c=>c.split(".").filter(u=>!nn(u.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(t),s=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,o=[(r=n[i])==null?void 0:r.computed(s)].flat().filter(c=>c);return o.length===1?o[0].value:o.reduce((c={},u)=>{let l=u,{colorScheme:h}=l,p=Wn(l,["colorScheme"]);return c[h]=p,c},void 0)},getSelectorRule(n,t,e,r){return e==="class"||e==="attr"?bs(pe(t)?`${n}${t},${n} ${t}`:n,r):bs(n,bs(t??":root,:host",r))},transformCSS(n,t,e,r,i={},s,o,c){if(pe(t)){let{cssLayer:u}=i;if(r!=="style"){let l=this.getColorSchemeOption(i,o);t=e==="dark"?l.reduce((h,{type:p,selector:m})=>(pe(m)&&(h+=m.includes("[CSS]")?m.replace("[CSS]",t):this.getSelectorRule(m,c,p,t)),h),""):bs(c??":root,:host",t)}if(u){let l={name:"primeui",order:"primeui"};Hn(u)&&(l.name=Qe(u.name,{name:n,type:r})),pe(l.name)&&(t=bs(`@layer ${l.name}`,t),s?.layerNames(l.name))}return t}return""}},me={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:t}=n;t&&(this._theme=Pf(sn({},t),{options:sn(sn({},this.defaults.options),t.options)}),this._tokens=rn.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return((n=this.theme)==null?void 0:n.preset)||{}},get options(){var n;return((n=this.theme)==null?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),qe.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=Pf(sn({},this.theme),{preset:n}),this._tokens=rn.createTokens(n,this.defaults),this.clearLoadedStyleNames(),qe.emit("preset:change",n),qe.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=Pf(sn({},this.theme),{options:n}),this.clearLoadedStyleNames(),qe.emit("options:change",n),qe.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return rn.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",t){return rn.getCommon({name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return rn.getPresetC(e)},getDirective(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return rn.getPresetD(e)},getCustomPreset(n="",t,e,r){let i={name:n,preset:t,options:this.options,selector:e,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return rn.getPreset(i)},getLayerOrderCSS(n=""){return rn.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",t,e="style",r){return rn.transformCSS(n,t,r,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",t,e={}){return rn.getCommonStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,t,e={}){return rn.getStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),qe.emit(`theme:${t}:load`,n),!this._loadingStyles.size&&qe.emit("theme:load"))}};var EE=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    .p-collapsible-enter-active {
        animation: p-animate-collapsible-expand 0.2s ease-out;
        overflow: hidden;
    }

    .p-collapsible-leave-active {
        animation: p-animate-collapsible-collapse 0.2s ease-out;
        overflow: hidden;
    }

    @keyframes p-animate-collapsible-expand {
        from {
            grid-template-rows: 0fr;
        }
        to {
            grid-template-rows: 1fr;
        }
    }

    @keyframes p-animate-collapsible-collapse {
        from {
            grid-template-rows: 1fr;
        }
        to {
            grid-template-rows: 0fr;
        }
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: var(--px-mask-background, dt('mask.background'));
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter-active {
        animation: p-animate-overlay-mask-enter dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave-active {
        animation: p-animate-overlay-mask-leave dt('mask.transition.duration') forwards;
    }

    @keyframes p-animate-overlay-mask-enter {
        from {
            background: transparent;
        }
        to {
            background: var(--px-mask-background, dt('mask.background'));
        }
    }
    @keyframes p-animate-overlay-mask-leave {
        from {
            background: var(--px-mask-background, dt('mask.background'));
        }
        to {
            background: transparent;
        }
    }

    .p-anchored-overlay-enter-active {
        animation: p-animate-anchored-overlay-enter 300ms cubic-bezier(.19,1,.22,1);
    }

    .p-anchored-overlay-leave-active {
        animation: p-animate-anchored-overlay-leave 300ms cubic-bezier(.19,1,.22,1);
    }

    @keyframes p-animate-anchored-overlay-enter {
        from {
            opacity: 0;
            transform: scale(0.93);
        }
    }

    @keyframes p-animate-anchored-overlay-leave {
        to {
            opacity: 0;
            transform: scale(0.93);
        }
    }
`;var NR=0,wE=(()=>{class n{document=N(de);use(e,r={}){let i=!1,s=e,o=null,{immediate:c=!0,manual:u=!1,name:l=`style_${++NR}`,id:h=void 0,media:p=void 0,nonce:m=void 0,first:v=!1,props:C={}}=r;if(this.document){if(o=this.document.querySelector(`style[data-primeng-style-id="${l}"]`)||h&&this.document.getElementById(h)||this.document.createElement("style"),o){if(!o.isConnected){s=e;let R=this.document.head;Cb(o,"nonce",m),v&&R.firstChild?R.insertBefore(o,R.firstChild):R.appendChild(o),Eu(o,{type:"text/css",media:p,nonce:m,"data-primeng-style-id":l})}o.textContent!==s&&(o.textContent=s)}return{id:h,name:l,el:o,css:s}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ws={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},OR=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: dt('scrollbar.width');
}
`,Je=(()=>{class n{name="base";useStyle=N(wE);css=void 0;style=void 0;classes={};inlineStyles={};load=(e,r={},i=s=>s)=>{let s=i(Es`${Qe(e,{dt:Kn})}`);return s?this.useStyle.use(vi(s),P({name:this.name},r)):{}};loadCSS=(e={})=>this.load(this.css,e);loadStyle=(e={},r="")=>this.load(this.style,e,(i="")=>me.transformCSS(e.name||this.name,`${i}${Es`${r}`}`));loadBaseCSS=(e={})=>this.load(OR,e);loadBaseStyle=(e={},r="")=>this.load(EE,e,(i="")=>me.transformCSS(e.name||this.name,`${i}${Es`${r}`}`));getCommonTheme=e=>me.getCommon(this.name,e);getComponentTheme=e=>me.getComponent(this.name,e);getPresetTheme=(e,r,i)=>me.getCustomPreset(this.name,e,r,i);getLayerOrderThemeCSS=()=>me.getLayerOrderCSS(this.name);getStyleSheet=(e="",r={})=>{if(this.css){let i=Qe(this.css,{dt:Kn}),s=vi(Es`${i}${e}`),o=Object.entries(r).reduce((c,[u,l])=>c.push(`${u}="${l}"`)&&c,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${o}>${s}</style>`}return""};getCommonThemeStyleSheet=(e,r={})=>me.getCommonStyleSheet(this.name,e,r);getThemeStyleSheet=(e,r={})=>{let i=[me.getStyleSheet(this.name,e,r)];if(this.style){let s=this.name==="base"?"global-style":`${this.name}-style`,o=Es`${Qe(this.style,{dt:Kn})}`,c=vi(me.transformCSS(s,o)),u=Object.entries(r).reduce((l,[h,p])=>l.push(`${h}="${p}"`)&&l,[]).join(" ");i.push(`<style type="text/css" data-primeng-style-id="${s}" ${u}>${c}</style>`)}return i.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kR=(()=>{class n{theme=Ie(void 0);csp=Ie({nonce:void 0});isThemeChanged=!1;document=N(de);baseStyle=N(Je);constructor(){Te(()=>{qe.on("theme:change",e=>{zt(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),Te(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){me.clearLoadedStyleNames(),qe.clear()}onThemeChange(e){me.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!me.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.baseStyle.getCommonTheme?.()||{},o={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,P({name:"primitive-variables"},o)),this.baseStyle.load(r?.css,P({name:"semantic-variables"},o)),this.baseStyle.load(i?.css,P({name:"global-variables"},o)),this.baseStyle.loadBaseStyle(P({name:"global-style"},o),s),me.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:r,csp:i}=e||{};r&&this.theme.set(r),i&&this.csp.set(i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mf=(()=>{class n extends kR{ripple=Ie(!1);platformId=N(fn);inputStyle=Ie(null);inputVariant=Ie(null);overlayAppendTo=Ie("self");overlayOptions={};csp=Ie({nonce:void 0});unstyled=Ie(void 0);pt=Ie(void 0);ptOptions=Ie(void 0);filterMatchModeOptions={text:[it.STARTS_WITH,it.CONTAINS,it.NOT_CONTAINS,it.ENDS_WITH,it.EQUALS,it.NOT_EQUALS],numeric:[it.EQUALS,it.NOT_EQUALS,it.LESS_THAN,it.LESS_THAN_OR_EQUAL_TO,it.GREATER_THAN,it.GREATER_THAN_OR_EQUAL_TO],date:[it.DATE_IS,it.DATE_IS_NOT,it.DATE_BEFORE,it.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",completed:"Completed",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize",minimizeLabel:"Minimize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new nt;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=P(P({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:r,ripple:i,inputStyle:s,inputVariant:o,theme:c,overlayOptions:u,translation:l,filterMatchModeOptions:h,overlayAppendTo:p,zIndex:m,ptOptions:v,pt:C,unstyled:R}=e||{};r&&this.csp.set(r),p&&this.overlayAppendTo.set(p),i&&this.ripple.set(i),s&&this.inputStyle.set(s),o&&this.inputVariant.set(o),u&&(this.overlayOptions=u),l&&this.setTranslation(l),h&&(this.filterMatchModeOptions=h),m&&(this.zIndex=m),C&&this.pt.set(C),v&&this.ptOptions.set(v),R&&this.unstyled.set(R),c&&this.setThemeConfig({theme:c,csp:r})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MR=new z("PRIME_NG_CONFIG");function pV(...n){let t=n?.map(r=>({provide:MR,useValue:r,multi:!1})),e=Co(()=>{let r=N(Mf);n?.forEach(i=>r.setConfig(i))});return gr([...t,e])}var IE=(()=>{class n extends Je{name="common";static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pt=new z("PARENT_INSTANCE"),Xe=(()=>{class n{document=N(de);platformId=N(fn);el=N(It);injector=N(mr);cd=N(yr);renderer=N(Ht);config=N(Mf);$parentInstance=N(Pt,{optional:!0,skipSelf:!0})??void 0;baseComponentStyle=N(IE);baseStyle=N(Je);scopedStyleEl;parent=this.$params.parent;cn=Tr;_themeScopedListener;dt=B();unstyled=B();pt=B();ptOptions=B();$attrSelector=ia("pc");get $name(){return this.componentName||this.constructor?.name?.replace(/^_/,"")||"UnknownComponent"}get $hostName(){return this.hostName}get $el(){return this.el?.nativeElement}directivePT=Ie(void 0);directiveUnstyled=Ie(void 0);$unstyled=Tt(()=>this.unstyled()??this.directiveUnstyled()??this.config?.unstyled()??!1);$pt=Tt(()=>Qe(this.pt()||this.directivePT(),this.$params));get $globalPT(){return this._getPT(this.config?.pt(),void 0,e=>Qe(e,this.$params))}get $defaultPT(){return this._getPT(this.config?.pt(),void 0,e=>this._getOptionValue(e,this.$hostName||this.$name,this.$params)||Qe(e,this.$params))}get $style(){return P(P({theme:void 0,css:void 0,classes:void 0,inlineStyles:void 0},(this._getHostInstance(this)||{}).$style),this._componentStyle)}get $styleOptions(){return{nonce:this.config?.csp().nonce}}get $params(){let e=this._getHostInstance(this)||this.$parentInstance;return{instance:this,parent:{instance:e}}}onInit(){}onChanges(e){}onDoCheck(){}onAfterContentInit(){}onAfterContentChecked(){}onAfterViewInit(){}onAfterViewChecked(){}onDestroy(){}constructor(){Te(e=>{this.document&&!lh(this.platformId)&&(qe.off("theme:change",this._themeScopedListener),this.dt()?(this._loadScopedThemeStyles(this.dt()),this._themeScopedListener=()=>this._loadScopedThemeStyles(this.dt()),this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()),e(()=>{qe.off("theme:change",this._themeScopedListener)})}),Te(e=>{this.document&&!lh(this.platformId)&&(qe.off("theme:change",this._loadCoreStyles),this.$unstyled()||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))),e(()=>{qe.off("theme:change",this._loadCoreStyles)})}),this._hook("onBeforeInit")}ngOnInit(){this._loadCoreStyles(),this._loadStyles(),this.onInit(),this._hook("onInit")}ngOnChanges(e){this.onChanges(e),this._hook("onChanges",e)}ngDoCheck(){this.onDoCheck(),this._hook("onDoCheck")}ngAfterContentInit(){this.onAfterContentInit(),this._hook("onAfterContentInit")}ngAfterContentChecked(){this.onAfterContentChecked(),this._hook("onAfterContentChecked")}ngAfterViewInit(){this.$el?.setAttribute(this.$attrSelector,""),this.onAfterViewInit(),this._hook("onAfterViewInit")}ngAfterViewChecked(){this.onAfterViewChecked(),this._hook("onAfterViewChecked")}ngOnDestroy(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this.onDestroy(),this._hook("onDestroy")}_mergeProps(e,...r){return Su(e)?e(...r):rf(...r)}_getHostInstance(e){return e?this.$hostName?this.$name===this.$hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0}_getPropValue(e){return this[e]||this._getHostInstance(this)?.[e]}_getOptionValue(e,r="",i={}){return Au(e,r,i)}_hook(e,...r){if(!this.$hostName){let i=this._usePT(this._getPT(this.$pt(),this.$name),this._getOptionValue,`hooks.${e}`),s=this._useDefaultPT(this._getOptionValue,`hooks.${e}`);i?.(...r),s?.(...r)}}_load(){ws.isStyleNameLoaded("base")||(this.baseStyle.loadBaseCSS(this.$styleOptions),this._loadGlobalStyles(),ws.setLoadedStyleName("base")),this._loadThemeStyles()}_loadStyles(){this._load(),this._themeChangeListener(()=>this._load())}_loadGlobalStyles(){let e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);pe(e)&&this.baseStyle.load(e,P({name:"global"},this.$styleOptions))}_loadCoreStyles(){!ws.isStyleNameLoaded(this.$style?.name)&&this.$style?.name&&(this.baseComponentStyle.loadCSS(this.$styleOptions),this.$style.loadCSS(this.$styleOptions),ws.setLoadedStyleName(this.$style.name))}_loadThemeStyles(){if(!(this.$unstyled()||this.config?.theme()==="none")){if(!me.isStyleNameLoaded("common")){let{primitive:e,semantic:r,global:i,style:s}=this.$style?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,P({name:"primitive-variables"},this.$styleOptions)),this.baseStyle.load(r?.css,P({name:"semantic-variables"},this.$styleOptions)),this.baseStyle.load(i?.css,P({name:"global-variables"},this.$styleOptions)),this.baseStyle.loadBaseStyle(P({name:"global-style"},this.$styleOptions),s),me.setLoadedStyleName("common")}if(!me.isStyleNameLoaded(this.$style?.name)&&this.$style?.name){let{css:e,style:r}=this.$style?.getComponentTheme?.()||{};this.$style?.load(e,P({name:`${this.$style?.name}-variables`},this.$styleOptions)),this.$style?.loadStyle(P({name:`${this.$style?.name}-style`},this.$styleOptions),r),me.setLoadedStyleName(this.$style?.name)}if(!me.isStyleNameLoaded("layer-order")){let e=this.$style?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,P({name:"layer-order",first:!0},this.$styleOptions)),me.setLoadedStyleName("layer-order")}}}_loadScopedThemeStyles(e){let{css:r}=this.$style?.getPresetTheme?.(e,`[${this.$attrSelector}]`)||{},i=this.$style?.load(r,P({name:`${this.$attrSelector}-${this.$style?.name}`},this.$styleOptions));this.scopedStyleEl=i?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){ws.clearLoadedStyleNames(),qe.on("theme:change",e.bind(this))}_removeThemeListeners(){qe.off("theme:change",this._loadCoreStyles),qe.off("theme:change",this._load),qe.off("theme:change",this._themeScopedListener)}_getPTValue(e={},r="",i={},s=!0){let o=/./g.test(r)&&!!i[r.split(".")[0]],{mergeSections:c=!0,mergeProps:u=!1}=this._getPropValue("ptOptions")?.()||this.config?.ptOptions?.()||{},l=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,h=o?void 0:this._usePT(this._getPT(e,this.$hostName||this.$name),this._getPTClassValue,r,ae(P({},i),{global:l||{}})),p=this._getPTDatasets(r);return c||!c&&h?u?this._mergeProps(u,l,h,p):P(P(P({},l),h),p):P(P({},h),p)}_getPTDatasets(e=""){let r="data-pc-",i=e==="root"&&pe(this.$pt()?.["data-pc-section"]);return e!=="transition"&&ae(P({},e==="root"&&ae(P({[`${r}name`]:Sr(i?this.$pt()?.["data-pc-section"]:this.$name)},i&&{[`${r}extend`]:Sr(this.$name)}),{[`${this.$attrSelector}`]:""})),{[`${r}section`]:Sr(e.includes(".")?e.split(".").at(-1)??"":e)})}_getPTClassValue(e,r,i){let s=this._getOptionValue(e,r,i);return Vt(s)||of(s)?{class:s}:s}_getPT(e,r="",i){let s=(o,c=!1)=>{let u=i?i(o):o,l=Sr(r),h=Sr(this.$hostName||this.$name);return(c?l!==h?u?.[l]:void 0:u?.[l])??u};return e?.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)}_usePT(e,r,i,s){let o=c=>r?.call(this,c,i,s);if(e?.hasOwnProperty("_usept")){let{mergeSections:c=!0,mergeProps:u=!1}=e._usept||this.config?.ptOptions()||{},l=o(e.originalValue),h=o(e.value);return l===void 0&&h===void 0?void 0:Vt(h)?h:Vt(l)?l:c||!c&&h?u?this._mergeProps(u,l,h):P(P({},l),h):h}return o(e)}_useGlobalPT(e,r,i){return this._usePT(this.$globalPT,e,r,i)}_useDefaultPT(e,r,i){return this._usePT(this.$defaultPT,e,r,i)}ptm(e="",r={}){return this._getPTValue(this.$pt(),e,P(P({},this.$params),r))}ptms(e,r={}){return e.reduce((i,s)=>(i=rf(i,this.ptm(s,r))||{},i),{})}ptmo(e={},r="",i={}){return this._getPTValue(e,r,P({instance:this},i),!1)}cx(e,r={}){return this.$unstyled()?void 0:Tr(this._getOptionValue(this.$style.classes,e,P(P({},this.$params),r)))}sx(e="",r=!0,i={}){if(r){let s=this._getOptionValue(this.$style.inlineStyles,e,P(P({},this.$params),i)),o=this._getOptionValue(this.baseComponentStyle.inlineStyles,e,P(P({},this.$params),i));return P(P({},o),s)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,inputs:{dt:[1,"dt"],unstyled:[1,"unstyled"],pt:[1,"pt"],ptOptions:[1,"ptOptions"]},features:[Ke([IE,Je]),Fn]})}return n})();var Lf=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,r){e&&r&&(e.classList?e.classList.add(r):e.className+=" "+r)}static addMultipleClasses(e,r){if(e&&r)if(e.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)e.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)e.className+=" "+i[s]}}static removeClass(e,r){e&&r&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,r){e&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,r){return e&&r?e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(r){return r!==e})}static find(e,r){return Array.from(e.querySelectorAll(r))}static findSingle(e,r){return this.isElement(e)?e.querySelector(r):null}static index(e){let r=e.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==e)return i;r[s].nodeType==1&&i++}return-1}static indexWithinGroup(e,r){let i=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==e)return s;i[o].attributes&&i[o].attributes[r]&&i[o].nodeType==1&&s++}return-1}static appendOverlay(e,r,i="self"){i!=="self"&&e&&r&&this.appendChild(e,r)}static alignOverlay(e,r,i="self",s=!0){e&&r&&(s&&(e.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(e,r):this.absolutePosition(e,r))}static relativePosition(e,r,i=!0){let s=$=>{if($)return getComputedStyle($).getPropertyValue("position")==="relative"?$:s($.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=r.offsetHeight,u=r.getBoundingClientRect(),l=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),v=s(e)?.getBoundingClientRect()||{top:-1*l,left:-1*h},C,R,A="top";u.top+c+o.height>p.height?(C=u.top-v.top-o.height,A="bottom",u.top+C<0&&(C=-1*u.top)):(C=c+u.top-v.top,A="top");let M=u.left+o.width-p.width,V=u.left-v.left;if(o.width>p.width?R=(u.left-v.left)*-1:M>0?R=V-M:R=u.left-v.left,e.style.top=C+"px",e.style.left=R+"px",e.style.transformOrigin=A,i){let $=na(/-anchor-gutter$/)?.value;e.style.marginTop=A==="bottom"?`calc(${$??"2px"} * -1)`:$??""}}static absolutePosition(e,r,i=!0){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,c=s.width,u=r.offsetHeight,l=r.offsetWidth,h=r.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),v=this.getViewport(),C,R;h.top+u+o>v.height?(C=h.top+p-o,e.style.transformOrigin="bottom",C<0&&(C=p)):(C=u+h.top+p,e.style.transformOrigin="top"),h.left+c>v.width?R=Math.max(0,h.left+m+l-c):R=h.left+m,e.style.top=C+"px",e.style.left=R+"px",i&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,r=[]){return e.parentNode===null?r:this.getParents(e.parentNode,r.concat([e.parentNode]))}static getScrollableParents(e){let r=[];if(e){let i=this.getParents(e),s=/(auto|scroll)/,o=c=>{let u=window.getComputedStyle(c,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let c of i){let u=c.nodeType===1&&c.dataset.scrollselectors;if(u){let l=u.split(",");for(let h of l){let p=this.findSingle(c,h);p&&o(p)&&r.push(p)}}c.nodeType!==9&&o(c)&&r.push(c)}}return r}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementDimensions(e){let r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}static scrollInView(e,r){let i=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),c=o?parseFloat(o):0,u=e.getBoundingClientRect(),h=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-c,p=e.scrollTop,m=e.clientHeight,v=this.getOuterHeight(r);h<0?e.scrollTop=p+h:h+v>m&&(e.scrollTop=p+h-m+v)}static fadeIn(e,r){e.style.opacity=0;let i=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,e.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame?window.requestAnimationFrame(o):setTimeout(o,16))};o()}static fadeOut(e,r){var i=1,s=50,o=r,c=s/o;let u=setInterval(()=>{i=i-c,i<=0&&(i=0,clearInterval(u)),e.style.opacity=i},s)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,r){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(e,r)}static getOuterWidth(e,r){let i=e.offsetWidth;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(e){let r=getComputedStyle(e);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(e){let r=getComputedStyle(e);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(e,r){let i=e.offsetHeight;if(r){let s=getComputedStyle(e);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(e){let r=e.offsetHeight,i=getComputedStyle(e);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(e){let r=e.offsetWidth,i=getComputedStyle(e);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let e=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=e.innerWidth||i.clientWidth||s.clientWidth,c=e.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:c}}static getOffset(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,r){let i=e.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,r=e.indexOf("MSIE ");if(r>0)return!0;var i=e.indexOf("Trident/");if(i>0){var s=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,r){if(this.isElement(r))r.appendChild(e);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(e);else throw"Cannot append "+r+" to "+e}static removeChild(e,r){if(this.isElement(r))r.removeChild(e);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+r}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode?.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let r=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(e,r,i){e[r].apply(e,i)}static clearSelection(){if(window.getSelection&&window.getSelection())window.getSelection()?.empty?window.getSelection()?.empty():window.getSelection()?.removeAllRanges&&(window.getSelection()?.rangeCount||0)>0&&(window.getSelection()?.getRangeAt(0)?.getClientRects()?.length||0)>0&&window.getSelection()?.removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,r){e&&document.activeElement!==e&&e.focus(r)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,r=""){let i=this.find(e,this.getFocusableSelectorString(r)),s=[];for(let o of i){let c=getComputedStyle(o);this.isVisible(o)&&c.display!="none"&&c.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(e,r=""){let i=this.findSingle(e,this.getFocusableSelectorString(r));if(i){let s=getComputedStyle(i);if(this.isVisible(i)&&s.display!="none"&&s.visibility!="hidden")return i}return null}static getFirstFocusableElement(e,r=""){let i=this.getFocusableElements(e,r);return i.length>0?i[0]:null}static getLastFocusableElement(e,r){let i=this.getFocusableElements(e,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(e,r=!1){let i=n.getFocusableElements(e),s=0;if(i&&i.length>0){let o=i.indexOf(i[0].ownerDocument.activeElement);r?o==-1||o===0?s=i.length-1:s=o-1:o!=-1&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection()?.toString():document.getSelection?document.getSelection()?.toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,r){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement?.parentElement;default:let i=typeof e;if(i==="string")return document.querySelector(e);if(i==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(c=>!!(c&&c.constructor&&c.call&&c.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,r){if(e){let i=e.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,r={},...i){if(e){let s=document.createElement(e);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(e,r="",i){this.isElement(e)&&i!==null&&i!==void 0&&e.setAttribute(r,i)}static setAttributes(e,r={}){if(this.isElement(e)){let i=(s,o)=>{let c=e?.$attrs?.[s]?[e?.$attrs?.[s]]:[];return[o].flat().reduce((u,l)=>{if(l!=null){let h=typeof l;if(h==="string"||h==="number")u.push(l);else if(h==="object"){let p=Array.isArray(l)?i(s,l):Object.entries(l).map(([m,v])=>s==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);u=p.length?u.concat(p.filter(m=>!!m)):u}}return u},c)};Object.entries(r).forEach(([s,o])=>{if(o!=null){let c=s.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),o):s==="pBind"?this.setAttributes(e,o):(o=s==="class"?[...new Set(i("class",o))].join(" ").trim():s==="style"?i("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[s]=o),e.setAttribute(s,o))}})}}static isFocusableElement(e,r=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})();function PV(){yb({variableName:kf("scrollbar.width").name})}function NV(){vb({variableName:kf("scrollbar.width").name})}var TE=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Lf.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var SE=(()=>{class n extends Xe{autofocus=!1;focused=!1;platformId=N(fn);document=N(de);host=N(It);onAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}onAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Ji(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=Lf.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[0,"pAutoFocus","autofocus"]},features:[Re]})}return n})();var Ae=(()=>{class n{el;renderer;pBind=B(void 0);_attrs=Ie(void 0);attrs=Tt(()=>this._attrs()||this.pBind());styles=Tt(()=>this.attrs()?.style);classes=Tt(()=>Tr(this.attrs()?.class));listeners=[];constructor(e,r){this.el=e,this.renderer=r,Te(()=>{let c=this.attrs()||{},{style:i,class:s}=c,o=Gi(c,["style","class"]);for(let[u,l]of Object.entries(o))if(u.startsWith("on")&&typeof l=="function"){let h=u.slice(2).toLowerCase();if(!this.listeners.some(p=>p.eventName===h)){let p=this.renderer.listen(this.el.nativeElement,h,l);this.listeners.push({eventName:h,unlisten:p})}}else l==null?this.renderer.removeAttribute(this.el.nativeElement,u):(this.renderer.setAttribute(this.el.nativeElement,u,l.toString()),u in this.el.nativeElement&&(this.el.nativeElement[u]=l))})}ngOnDestroy(){this.clearListeners()}setAttrs(e){ra(this._attrs(),e)||this._attrs.set(e)}clearListeners(){this.listeners.forEach(({unlisten:e})=>e()),this.listeners=[]}static \u0275fac=function(r){return new(r||n)(ue(It),ue(Ht))};static \u0275dir=he({type:n,selectors:[["","pBind",""]],hostVars:4,hostBindings:function(r,i){r&2&&(lv(i.styles()),ot(i.classes()))},inputs:{pBind:[1,"pBind"]}})}return n})(),Fu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({})}return n})();var AE=`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`;var LR=`
    ${AE}

    /* For PrimeNG (directive)*/
    .p-overlay-badge {
        position: relative;
    }

    .p-overlay-badge > .p-badge {
        position: absolute;
        top: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
    }
`,xR={root:({instance:n})=>{let t=typeof n.value=="function"?n.value():n.value,e=typeof n.size=="function"?n.size():n.size,r=typeof n.badgeSize=="function"?n.badgeSize():n.badgeSize,i=typeof n.severity=="function"?n.severity():n.severity;return["p-badge p-component",{"p-badge-circle":pe(t)&&String(t).length===1,"p-badge-dot":En(t),"p-badge-sm":e==="small"||r==="small","p-badge-lg":e==="large"||r==="large","p-badge-xl":e==="xlarge"||r==="xlarge","p-badge-info":i==="info","p-badge-success":i==="success","p-badge-warn":i==="warn","p-badge-danger":i==="danger","p-badge-secondary":i==="secondary","p-badge-contrast":i==="contrast"}]}},CE=(()=>{class n extends Je{name="badge";style=LR;classes=xR;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var DE=new z("BADGE_INSTANCE");var xf=(()=>{class n extends Xe{$pcBadge=N(DE,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass=B();badgeSize=B();size=B();severity=B();value=B();badgeDisabled=B(!1,{transform:ye});_componentStyle=N(CE);get dataP(){return this.cn({circle:this.value()!=null&&String(this.value()).length===1,empty:this.value()==null,disabled:this.badgeDisabled(),[this.severity()]:this.severity(),[this.size()]:this.size()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275cmp=je({type:n,selectors:[["p-badge"]],hostVars:5,hostBindings:function(r,i){r&2&&(Lt("data-p",i.dataP),ot(i.cn(i.cx("root"),i.styleClass())),uv("display",i.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[Ke([CE,{provide:DE,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re],decls:1,vars:1,template:function(r,i){r&1&&_c(0),r&2&&bc(i.value())},dependencies:[St,Ar,Fu],encapsulation:2,changeDetection:0})}return n})(),RE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({imports:[xf,Ar,Ar]})}return n})();var VR=["*"],UR={root:"p-fluid"},PE=(()=>{class n extends Je{name="fluid";classes=UR;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var NE=new z("FLUID_INSTANCE"),Ff=(()=>{class n extends Xe{$pcFluid=N(NE,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=N(PE);static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275cmp=je({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(r,i){r&2&&ot(i.cx("root"))},features:[Ke([PE,{provide:NE,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re],ngContentSelectors:VR,decls:1,vars:0,template:function(r,i){r&1&&(Wt(),Kt(0))},dependencies:[St],encapsulation:2,changeDetection:0})}return n})();var BR=["*"],$R=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
    flex-shrink: 0;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,OE=(()=>{class n extends Je{name="baseicon";css=$R;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Uu=(()=>{class n extends Xe{spin=!1;_componentStyle=N(OE);getClassNames(){return Tr("p-icon",{"p-icon-spin":this.spin})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275cmp=je({type:n,selectors:[["ng-component"]],hostAttrs:["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],hostVars:2,hostBindings:function(r,i){r&2&&ot(i.getClassNames())},inputs:{spin:[2,"spin","spin",ye]},features:[Ke([OE]),Re],ngContentSelectors:BR,decls:1,vars:0,template:function(r,i){r&1&&(Wt(),Kt(0))},encapsulation:2,changeDetection:0})}return n})();var jR=["data-p-icon","spinner"],kE=(()=>{class n extends Uu{pathId;onInit(){this.pathId="url(#"+ia()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275cmp=je({type:n,selectors:[["","data-p-icon","spinner"]],features:[Re],attrs:jR,decls:5,vars:2,consts:[["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Ki(),Gd(0,"g"),Do(1,"path",0),Wd(),Gd(2,"defs")(3,"clipPath",1),Do(4,"rect",2),Wd()()),r&2&&(Lt("clip-path",i.pathId),dt(3),ov("id",i.pathId))},encapsulation:2})}return n})();var zR=["data-p-icon","times"],MU=(()=>{class n extends Uu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275cmp=je({type:n,selectors:[["","data-p-icon","times"]],features:[Re],attrs:zR,decls:1,vars:0,consts:[["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(Ki(),Do(0,"path",0))},encapsulation:2})}return n})();var ME=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`;var HR=`
    ${ME}

    /* For PrimeNG */
    .p-ripple {
        overflow: hidden;
        position: relative;
    }

    .p-ripple-disabled .p-ink {
        display: none !important;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,qR={root:"p-ink"},LE=(()=>{class n extends Je{name="ripple";style=HR;classes=qR;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var xE=(()=>{class n extends Xe{zone=N(xn);_componentStyle=N(LE);animationListener;mouseDownListener;timeout;constructor(){super(),Te(()=>{Ji(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}onAfterViewInit(){}onMouseDown(e){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(!this.$unstyled()&&tn(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"),!Zh(r)&&!tf(r)){let c=Math.max(bb(this.el.nativeElement),ef(this.el.nativeElement));r.style.height=c+"px",r.style.width=c+"px"}let i=Tb(this.el.nativeElement),s=e.pageX-i.left+this.document.body.scrollTop-tf(r)/2,o=e.pageY-i.top+this.document.body.scrollLeft-Zh(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),!this.$unstyled()&&en(r,"p-ink-active"),r.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&(!this.$unstyled()&&tn(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"))},401)}getInk(){let e=this.el.nativeElement.children;for(let r=0;r<e.length;r++)if(typeof e[r].className=="string"&&e[r].className.indexOf("p-ink")!==-1)return e[r];return null}resetInk(){let e=this.getInk();e&&(!this.$unstyled()&&tn(e,"p-ink-active"),e.setAttribute("data-p-ink-active","false"))}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),!this.$unstyled()&&tn(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"data-p-ink","true"),this.renderer.setAttribute(e,"data-p-ink-active","false"),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Ab(e))}onDestroy(){this.config&&this.config.ripple()&&this.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[Ke([LE]),Re]})}return n})();var FE=`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-icon-only::after {
        content: "\0A0";
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;var GR=["content"],WR=["loadingicon"],KR=["icon"],QR=["*"],HE=(n,t)=>({class:n,pt:t});function YR(n,t){n&1&&sv(0)}function JR(n,t){if(n&1&&oi(0,"span",7),n&2){let e=Gt(3);ot(e.cn(e.cx("loadingIcon"),"pi-spin",e.loadingIcon||(e.buttonProps==null?null:e.buttonProps.loadingIcon))),Me("pBind",e.ptm("loadingIcon")),Lt("aria-hidden",!0)}}function XR(n,t){if(n&1&&(Ki(),oi(0,"svg",8)),n&2){let e=Gt(3);ot(e.cn(e.cx("loadingIcon"),e.cx("spinnerIcon"))),Me("pBind",e.ptm("loadingIcon"))("spin",!0),Lt("aria-hidden",!0)}}function ZR(n,t){if(n&1&&(pc(0),si(1,JR,1,4,"span",3)(2,XR,1,5,"svg",6),gc()),n&2){let e=Gt(2);dt(),Me("ngIf",e.loadingIcon||(e.buttonProps==null?null:e.buttonProps.loadingIcon)),dt(),Me("ngIf",!(e.loadingIcon||e.buttonProps!=null&&e.buttonProps.loadingIcon))}}function e1(n,t){}function t1(n,t){if(n&1&&si(0,e1,0,0,"ng-template",9),n&2){let e=Gt(2);Me("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function n1(n,t){if(n&1&&(pc(0),si(1,ZR,3,2,"ng-container",2)(2,t1,1,1,null,5),gc()),n&2){let e=Gt();dt(),Me("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),dt(),Me("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Kd(3,HE,e.cx("loadingIcon"),e.ptm("loadingIcon")))}}function r1(n,t){if(n&1&&oi(0,"span",7),n&2){let e=Gt(2);ot(e.cn(e.cx("icon"),e.icon||(e.buttonProps==null?null:e.buttonProps.icon))),Me("pBind",e.ptm("icon")),Lt("data-p",e.dataIconP)}}function i1(n,t){}function s1(n,t){if(n&1&&si(0,i1,0,0,"ng-template",9),n&2){let e=Gt(2);Me("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function o1(n,t){if(n&1&&(pc(0),si(1,r1,1,4,"span",3)(2,s1,1,1,null,5),gc()),n&2){let e=Gt();dt(),Me("ngIf",(e.icon||(e.buttonProps==null?null:e.buttonProps.icon))&&!e.iconTemplate&&!e._iconTemplate),dt(),Me("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Kd(3,HE,e.cx("icon"),e.ptm("icon")))}}function a1(n,t){if(n&1&&(Hd(0,"span",7),_c(1),qd()),n&2){let e=Gt();ot(e.cx("label")),Me("pBind",e.ptm("label")),Lt("aria-hidden",(e.icon||(e.buttonProps==null?null:e.buttonProps.icon))&&!(e.label||e.buttonProps!=null&&e.buttonProps.label))("data-p",e.dataLabelP),dt(),bc(e.label||(e.buttonProps==null?null:e.buttonProps.label))}}function c1(n,t){if(n&1&&oi(0,"p-badge",10),n&2){let e=Gt();Me("value",e.badge||(e.buttonProps==null?null:e.buttonProps.badge))("severity",e.badgeSeverity||(e.buttonProps==null?null:e.buttonProps.badgeSeverity))("pt",e.ptm("pcBadge"))("unstyled",e.unstyled())}}var u1={root:({instance:n})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!n.label&&!n.buttonProps?.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading||n.buttonProps?.loading,"p-button-link":n.link||n.buttonProps?.link,[`p-button-${n.severity||n.buttonProps?.severity}`]:n.severity||n.buttonProps?.severity,"p-button-raised":n.raised||n.buttonProps?.raised,"p-button-rounded":n.rounded||n.buttonProps?.rounded,"p-button-text":n.text||n.variant==="text"||n.buttonProps?.text||n.buttonProps?.variant==="text","p-button-outlined":n.outlined||n.variant==="outlined"||n.buttonProps?.outlined||n.buttonProps?.variant==="outlined","p-button-sm":n.size==="small"||n.buttonProps?.size==="small","p-button-lg":n.size==="large"||n.buttonProps?.size==="large","p-button-plain":n.plain||n.buttonProps?.plain,"p-button-fluid":n.hasFluid}],loadingIcon:"p-button-loading-icon",icon:({instance:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos||n.buttonProps?.iconPos}`]:n.label||n.buttonProps?.label,"p-button-icon-left":(n.iconPos==="left"||n.buttonProps?.iconPos==="left")&&n.label||n.buttonProps?.label,"p-button-icon-right":(n.iconPos==="right"||n.buttonProps?.iconPos==="right")&&n.label||n.buttonProps?.label,"p-button-icon-top":(n.iconPos==="top"||n.buttonProps?.iconPos==="top")&&n.label||n.buttonProps?.label,"p-button-icon-bottom":(n.iconPos==="bottom"||n.buttonProps?.iconPos==="bottom")&&n.label||n.buttonProps?.label},n.icon,n.buttonProps?.icon],spinnerIcon:({instance:n})=>Object.entries(n.cx("icon")).filter(([,t])=>!!t).reduce((t,[e])=>t+` ${e}`,"p-button-loading-icon"),label:"p-button-label"},Is=(()=>{class n extends Je{name="button";style=FE;classes=u1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var VE=new z("BUTTON_INSTANCE"),UE=new z("BUTTON_DIRECTIVE_INSTANCE"),BE=new z("BUTTON_LABEL_INSTANCE"),$E=new z("BUTTON_ICON_INSTANCE"),Pr={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},jE=(()=>{class n extends Xe{ptButtonLabel=B();pButtonLabelPT=B();pButtonLabelUnstyled=B();$pcButtonLabel=N(BE,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});constructor(){super(),Te(()=>{let e=this.ptButtonLabel()||this.pButtonLabelPT();e&&this.directivePT.set(e)}),Te(()=>{this.pButtonLabelUnstyled()&&this.directiveUnstyled.set(this.pButtonLabelUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(r,i){r&2&&vc("p-button-label",!i.$unstyled()&&!0)},inputs:{ptButtonLabel:[1,"ptButtonLabel"],pButtonLabelPT:[1,"pButtonLabelPT"],pButtonLabelUnstyled:[1,"pButtonLabelUnstyled"]},features:[Ke([Is,{provide:BE,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re]})}return n})(),zE=(()=>{class n extends Xe{ptButtonIcon=B();pButtonIconPT=B();pButtonUnstyled=B();$pcButtonIcon=N($E,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});constructor(){super(),Te(()=>{let e=this.ptButtonIcon()||this.pButtonIconPT();e&&this.directivePT.set(e)}),Te(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(r,i){r&2&&vc("p-button-icon",!i.$unstyled()&&!0)},inputs:{ptButtonIcon:[1,"ptButtonIcon"],pButtonIconPT:[1,"pButtonIconPT"],pButtonUnstyled:[1,"pButtonUnstyled"]},features:[Ke([Is,{provide:$E,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re]})}return n})(),yB=(()=>{class n extends Xe{$pcButtonDirective=N(UE,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});_componentStyle=N(Is);ptButtonDirective=B();pButtonPT=B();pButtonUnstyled=B();hostName="";onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}constructor(){super(),Te(()=>{let e=this.ptButtonDirective()||this.pButtonPT();e&&this.directivePT.set(e)}),Te(()=>{this.pButtonUnstyled()&&this.directiveUnstyled.set(this.pButtonUnstyled())}),Te(()=>{let e=this.$unstyled();this.initialized&&e&&this.setStyleClass()})}text=!1;plain=!1;raised=!1;size;outlined=!1;rounded=!1;iconPos="left";loadingIcon;fluid=B(void 0,{transform:ye});iconSignal=Qd(zE);labelSignal=Qd(jE);isIconOnly=Tt(()=>!!(!this.labelSignal()&&this.iconSignal()));_label;_icon;_loading=!1;_severity;_buttonProps;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Pr);pcFluid=N(Ff,{optional:!0,host:!0,skipSelf:!0});isTextButton=Tt(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,i])=>this[`_${r}`]!==i&&(this[`_${r}`]=i))}get severity(){return this._severity}set severity(e){this._severity=e,this.initialized&&this.setStyleClass()}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;onAfterViewInit(){!this.$unstyled()&&en(this.htmlElement,this.getStyleClass().join(" ")),Ji(this.platformId)&&(this.createIcon(),this.createLabel(),this.initialized=!0)}getStyleClass(){let e=[Pr.button,Pr.component];return this.icon&&!this.label&&En(this.htmlElement.textContent)&&e.push(Pr.iconOnly),this.loading&&(e.push(Pr.disabled,Pr.loading),!this.icon&&this.label&&e.push(Pr.labelOnly),this.icon&&!this.label&&!En(this.htmlElement.textContent)&&e.push(Pr.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),this.hasFluid&&e.push("p-button-fluid"),this.$unstyled()?[]:e}get hasFluid(){return this.fluid()??!!this.pcFluid}setStyleClass(){let e=this.getStyleClass();this.removeExistingSeverityClass(),this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}removeExistingSeverityClass(){let e=["success","info","warn","danger","help","primary","secondary","contrast"],r=this.htmlElement.classList.value.split(" ").find(i=>e.some(s=>i===`p-button-${s}`));r&&this.htmlElement.classList.remove(r)}createLabel(){if(!ps(this.htmlElement,'[data-pc-section="buttonlabel"]')&&this.label){let r=wu("span",{class:this.cx("label"),"p-bind":this.ptm("buttonlabel"),"aria-hidden":this.icon&&!this.label?"true":null});r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!ps(this.htmlElement,'[data-pc-section="buttonicon"]')&&(this.icon||this.loading)){let r=this.label&&!this.$unstyled()?"p-button-icon-"+this.iconPos:null,i=!this.$unstyled()&&this.getIconClass(),s=wu("span",{class:this.cn(this.cx("icon"),r,i),"aria-hidden":"true","p-bind":this.ptm("buttonicon")});!this.loadingIcon&&this.loading&&(s.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(s,this.htmlElement.firstChild)}}updateLabel(){let e=ps(this.htmlElement,'[data-pc-section="buttonlabel"]');if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=ps(this.htmlElement,'[data-pc-section="buttonicon"]'),r=ps(this.htmlElement,'[data-pc-section="buttonlabel"]');this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e&&!this.$unstyled()?this.iconPos?e.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}onDestroy(){this.initialized=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","pButton",""]],contentQueries:function(r,i,s){r&1&&av(s,i.iconSignal,zE,5)(s,i.labelSignal,jE,5),r&2&&cv(2)},hostVars:4,hostBindings:function(r,i){r&2&&vc("p-button-icon-only",!i.$unstyled()&&i.isIconOnly())("p-button-text",!i.$unstyled()&&i.isTextButton())},inputs:{ptButtonDirective:[1,"ptButtonDirective"],pButtonPT:[1,"pButtonPT"],pButtonUnstyled:[1,"pButtonUnstyled"],hostName:"hostName",text:[2,"text","text",ye],plain:[2,"plain","plain",ye],raised:[2,"raised","raised",ye],size:"size",outlined:[2,"outlined","outlined",ye],rounded:[2,"rounded","rounded",ye],iconPos:"iconPos",loadingIcon:"loadingIcon",fluid:[1,"fluid"],label:"label",icon:"icon",loading:"loading",buttonProps:"buttonProps",severity:"severity"},features:[Ke([Is,{provide:UE,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re]})}return n})(),l1=(()=>{class n extends Xe{hostName="";$pcButton=N(VE,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});_componentStyle=N(Is);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}type="button";badge;disabled;raised=!1;rounded=!1;text=!1;plain=!1;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;iconPos="left";icon;label;loading=!1;loadingIcon;severity;buttonProps;fluid=B(void 0,{transform:ye});onClick=new jt;onFocus=new jt;onBlur=new jt;contentTemplate;loadingIconTemplate;iconTemplate;templates;pcFluid=N(Ff,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}get hasIcon(){return this.icon||this.buttonProps?.icon||this.iconTemplate||this._iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate}_contentTemplate;_iconTemplate;_loadingIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}get dataP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge,loading:this.loading,fluid:this.hasFluid,rounded:this.rounded,raised:this.raised,outlined:this.outlined||this.variant==="outlined",text:this.text||this.variant==="text",link:this.link,vertical:(this.iconPos==="top"||this.iconPos==="bottom")&&this.label})}get dataIconP(){return this.cn({[this.iconPos]:this.iconPos,[this.size]:this.size})}get dataLabelP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275cmp=je({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(r&1&&yc(s,GR,5)(s,WR,5)(s,KR,5)(s,Lb,4),r&2){let o;ai(o=ci())&&(i.contentTemplate=o.first),ai(o=ci())&&(i.loadingIconTemplate=o.first),ai(o=ci())&&(i.iconTemplate=o.first),ai(o=ci())&&(i.templates=o)}},inputs:{hostName:"hostName",type:"type",badge:"badge",disabled:[2,"disabled","disabled",ye],raised:[2,"raised","raised",ye],rounded:[2,"rounded","rounded",ye],text:[2,"text","text",ye],plain:[2,"plain","plain",ye],outlined:[2,"outlined","outlined",ye],link:[2,"link","link",ye],tabindex:[2,"tabindex","tabindex",Yd],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",ye],iconPos:"iconPos",icon:"icon",label:"label",loading:[2,"loading","loading",ye],loadingIcon:"loadingIcon",severity:"severity",buttonProps:"buttonProps",fluid:[1,"fluid"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Ke([Is,{provide:VE,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re],ngContentSelectors:QR,decls:7,vars:17,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","pAutoFocus","pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"value","severity","pt","unstyled",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","spinner",3,"class","pBind","spin",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"pBind","spin"],[3,"ngIf"],[3,"value","severity","pt","unstyled"]],template:function(r,i){r&1&&(Wt(),Hd(0,"button",0),mc("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),Kt(1),si(2,YR,1,0,"ng-container",1)(3,n1,3,6,"ng-container",2)(4,o1,3,6,"ng-container",2)(5,a1,2,6,"span",3)(6,c1,1,4,"p-badge",4),qd()),r&2&&(ot(i.cn(i.cx("root"),i.styleClass,i.buttonProps==null?null:i.buttonProps.styleClass)),Me("ngStyle",i.style||(i.buttonProps==null?null:i.buttonProps.style))("disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("pAutoFocus",i.autofocus||(i.buttonProps==null?null:i.buttonProps.autofocus))("pBind",i.ptm("root")),Lt("type",i.type||(i.buttonProps==null?null:i.buttonProps.type))("aria-label",i.ariaLabel||(i.buttonProps==null?null:i.buttonProps.ariaLabel))("tabindex",i.tabindex||(i.buttonProps==null?null:i.buttonProps.tabindex))("data-p",i.dataP)("data-p-disabled",i.disabled||i.loading||(i.buttonProps==null?null:i.buttonProps.disabled))("data-p-severity",i.severity||(i.buttonProps==null?null:i.buttonProps.severity)),dt(2),Me("ngTemplateOutlet",i.contentTemplate||i._contentTemplate),dt(),Me("ngIf",i.loading||(i.buttonProps==null?null:i.buttonProps.loading)),dt(),Me("ngIf",!(i.loading||i.buttonProps!=null&&i.buttonProps.loading)),dt(),Me("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.label||(i.buttonProps==null?null:i.buttonProps.label))),dt(),Me("ngIf",!i.contentTemplate&&!i._contentTemplate&&(i.badge||(i.buttonProps==null?null:i.buttonProps.badge))))},dependencies:[St,sh,ah,oh,xE,SE,kE,RE,xf,Ar,Ae],encapsulation:2,changeDetection:0})}return n})(),vB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({imports:[St,l1,Ar,Ar]})}return n})();function aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cw=aw,uw=new qn("auth","Firebase",aw());var qu=new Cr("@firebase/auth");function d1(n,...t){qu.logLevel<=ee.WARN&&qu.warn(`Auth (${Rr}): ${n}`,...t)}function $u(n,...t){qu.logLevel<=ee.ERROR&&qu.error(`Auth (${Rr}): ${n}`,...t)}function Cn(n,...t){throw ap(n,...t)}function Ei(n,...t){return ap(n,...t)}function lw(n,t,e){let r=ae(P({},cw()),{[t]:e});return new qn("auth","Firebase",r).create(t,{appName:n.name})}function kr(n){return lw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return uw.create(n,...t)}function q(n,t,...e){if(!n)throw ap(t,...e)}function Qn(n){let t="INTERNAL ASSERTION FAILED: "+n;throw $u(t),new Error(t)}function Mr(n,t){n||Qn(t)}function $f(){return typeof self<"u"&&self.location?.href||""}function h1(){return qE()==="http:"||qE()==="https:"}function qE(){return typeof self<"u"&&self.location?.protocol||null}function f1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h1()||qb()||"connection"in navigator)?navigator.onLine:!0}function p1(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var wi=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Mr(e>t,"Short delay should be less than long delay!"),this.isMobile=zb()||Gb()}get(){return f1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cp(n,t){Mr(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Gu=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var g1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var m1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y1=new wi(3e4,6e4);function Ti(n,t){return n.tenantId&&!t.tenantId?ae(P({},t),{tenantId:n.tenantId}):t}async function Lr(n,t,e,r,i={}){return dw(n,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});let c=aa(P({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=P({method:t,headers:u},s);return Hb()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&wn(n.emulatorConfig.host)&&(l.credentials="include"),Gu.fetch()(await hw(n,n.config.apiHost,e,c),l)})}async function dw(n,t,e){n._canInitEmulator=!1;let r=P(P({},g1),t);try{let i=new jf(n),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Bu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Bu(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Bu(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw lw(n,h,l);Cn(n,h)}}catch(i){if(i instanceof vt)throw i;Cn(n,"network-request-failed",{message:String(i)})}}async function rl(n,t,e,r,i={}){let s=await Lr(n,t,e,r,i);return"mfaPendingCredential"in s&&Cn(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function hw(n,t,e,r){let i=`${t}${e}?${r}`,s=n,o=s.config.emulator?cp(n.config,i):`${n.config.apiScheme}://${i}`;return m1.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function v1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var jf=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),y1.get())})}};function Bu(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=Ei(n,t,r);return i.customData._tokenResponse=e,i}function GE(n){return n!==void 0&&n.enterprise!==void 0}var zf=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return v1(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function _1(n,t){return Lr(n,"GET","/v2/recaptchaConfig",Ti(n,t))}async function b1(n,t){return Lr(n,"POST","/v1/accounts:delete",t)}async function Wu(n,t){return Lr(n,"POST","/v1/accounts:lookup",t)}function da(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fw(n,t=!1){let e=be(n),r=await e.getIdToken(t),i=up(r);q(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:da(Vf(i.auth_time)),issuedAtTime:da(Vf(i.iat)),expirationTime:da(Vf(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Vf(n){return Number(n)*1e3}function up(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{let i=Pu(e);return i?JSON.parse(i):($u("Failed to decode base64 JWT payload"),null)}catch(i){return $u("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WE(n){let t=up(n);return q(t,"internal-error"),q(typeof t.exp<"u","internal-error"),q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function fa(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof vt&&E1(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function E1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Hf=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var pa=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ku(n){let t=n.auth,e=await n.getIdToken(),r=await fa(n,Wu(t,{idToken:e}));q(r?.users.length,t,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?gw(i.providerUserInfo):[],o=w1(n.providerData,s),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!o?.length,l=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pa(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function pw(n){let t=be(n);await Ku(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function w1(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function gw(n){return n.map(r=>{var i=r,{providerId:t}=i,e=Gi(i,["providerId"]);return{providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}})}async function I1(n,t){let e=await dw(n,{},async()=>{let r=aa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await hw(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&wn(n.emulatorConfig.host)&&(u.credentials="include"),Gu.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function T1(n,t){return Lr(n,"POST","/v2/accounts:revokeToken",Ti(n,t))}var ha=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){q(t.idToken,"internal-error"),q(typeof t.idToken<"u","internal-error"),q(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):WE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){q(t.length!==0,"internal-error");let e=WE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){let{accessToken:r,refreshToken:i,expiresIn:s}=await I1(t,e);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new n;return r&&(q(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Qn("not implemented")}};function Nr(n,t){q(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var Or=class n{constructor(s){var o=s,{uid:t,auth:e,stsTokenManager:r}=o,i=Gi(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pa(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){let e=await fa(this,this.stsTokenManager.getToken(this.auth,t));return q(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return fw(this,t)}reload(){return pw(this)}_assign(t){this!==t&&(q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>P({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(ae(P({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ft(this.auth.app))return Promise.reject(kr(this.auth));let t=await this.getIdToken();return await fa(this,b1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ae(P({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>P({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){let r=e.displayName??void 0,i=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,c=e.tenantId??void 0,u=e._redirectEventId??void 0,l=e.createdAt??void 0,h=e.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:v,providerData:C,stsTokenManager:R}=e;q(p&&R,t,"internal-error");let A=ha.fromJSON(this.name,R);q(typeof p=="string",t,"internal-error"),Nr(r,t.name),Nr(i,t.name),q(typeof m=="boolean",t,"internal-error"),q(typeof v=="boolean",t,"internal-error"),Nr(s,t.name),Nr(o,t.name),Nr(c,t.name),Nr(u,t.name),Nr(l,t.name),Nr(h,t.name);let M=new n({uid:p,auth:t,email:i,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:A,createdAt:l,lastLoginAt:h});return C&&Array.isArray(C)&&(M.providerData=C.map(V=>P({},V))),u&&(M._redirectEventId=u),M}static async _fromIdTokenResponse(t,e,r=!1){let i=new ha;i.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Ku(s),s}static async _fromGetAccountInfoResponse(t,e,r){let i=e.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?gw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ha;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u}};var KE=new Map;function Yn(n){Mr(n instanceof Function,"Expected a class definition");let t=KE.get(n);return t?(Mr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,KE.set(n,t),t)}var S1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){let r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),qf=S1;function ju(n,t,e){return`firebase:${n}:${t}:${e}`}var Qu=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=ju("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){let t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=await Wu(this.auth,{idToken:t}).catch(()=>{});return e?Or._fromGetAccountInfoResponse(this.auth,e,t):null}return Or._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;let e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new n(Yn(qf),t,r);let i=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),s=i[0]||Yn(qf),o=ju(r,t.config.apiKey,t.name),c=null;for(let l of e)try{let h=await l._get(o);if(h){let p;if(typeof h=="string"){let m=await Wu(t,{idToken:h}).catch(()=>{});if(!m)break;p=await Or._fromGetAccountInfoResponse(t,m,h)}else p=Or._fromJSON(t,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,t,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new n(s,t,r))}};function QE(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_w(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ew(t))return"Blackberry";if(ww(t))return"Webos";if(yw(t))return"Safari";if((t.includes("chrome/")||vw(t))&&!t.includes("edge/"))return"Chrome";if(bw(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function mw(n=Ye()){return/firefox\//i.test(n)}function yw(n=Ye()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vw(n=Ye()){return/crios\//i.test(n)}function _w(n=Ye()){return/iemobile/i.test(n)}function bw(n=Ye()){return/android/i.test(n)}function Ew(n=Ye()){return/blackberry/i.test(n)}function ww(n=Ye()){return/webos/i.test(n)}function lp(n=Ye()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function A1(n=Ye()){return lp(n)&&!!window.navigator?.standalone}function C1(){return Wb()&&document.documentMode===10}function Iw(n=Ye()){return lp(n)||bw(n)||ww(n)||Ew(n)||/windows phone/i.test(n)||_w(n)}function Tw(n,t=[]){let e;switch(n){case"Browser":e=QE(Ye());break;case"Worker":e=`${QE(Ye())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Rr}/${r}`}var Gf=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=s=>new Promise((o,c)=>{try{let u=t(s);o(u)}catch(u){c(u)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function D1(n,t={}){return Lr(n,"GET","/v2/passwordPolicy",Ti(n,t))}var R1=6,Wf=class{constructor(t){let e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??R1,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Kf=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yu(this),this.idTokenSubscription=new Yu(this),this.beforeStateQueue=new Gf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Yn(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{let e=await Wu(this,{idToken:t}),r=await Or._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ft(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let e=await this.assertedPersistence.getCurrentUser(),r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!s||s===o)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ku(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ft(this.app))return Promise.reject(kr(this));let e=t?be(t):null;return e&&q(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ft(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ft(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let t=await D1(this),e=new Wf(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qn("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){let e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await T1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){let r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){let e=t&&Yn(t)||this._popupRedirectResolver;q(e,this,"argument-error"),this.redirectPersistenceManager=await Qu.create(this,[Yn(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let u=t.addObserver(e,r,i);return()=>{o=!0,u()}}else{let u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&d1(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Ts(n){return be(n)}var Yu=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Jb(e=>this.observer=e)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var il={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P1(n){il=n}function Sw(n){return il.loadJS(n)}function N1(){return il.recaptchaEnterpriseScript}function O1(){return il.gapiScript}function Aw(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Qf=class{constructor(){this.enterprise=new Yf}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},Yf=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var k1="recaptcha-enterprise",Cw="NO_RECAPTCHA",Jf=class{constructor(t){this.type=k1,this.auth=Ts(t)}async verify(t="verify",e=!1){async function r(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{_1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new zf(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){let u=window.grecaptcha;GE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(Cw)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qf().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!e&&GE(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=N1();u.length!==0&&(u+=c),Sw(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})}};async function la(n,t,e,r=!1,i=!1){let s=new Jf(n),o;if(i)o=Cw;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}let c=P({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function YE(n,t,e,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await la(n,t,e,e==="getOobCode");return r(n,s)}else return r(n,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await la(n,t,e,e==="getOobCode");return r(n,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await la(n,t,e);return r(n,s).catch(async o=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let c=await la(n,t,e,!1,!0);return r(n,c)}return Promise.reject(o)})}else{let s=await la(n,t,e,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}function Dw(n,t){let e=bi(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),s=e.getOptions();if(In(s,t??{}))return i;Cn(i,"already-initialized")}return e.initialize({options:t})}function M1(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Yn);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function Rw(n,t,e){let r=Ts(n);q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,s=Pw(t),{host:o,port:c}=L1(t),u=c===null?"":`:${c}`,l={url:`${s}//${o}${u}/`},h=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(In(l,r.config.emulator)&&In(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,wn(o)?(gs(`${s}//${o}${u}`),ms("Auth",!0)):i||x1()}function Pw(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function L1(n){let t=Pw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:JE(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:JE(o)}}}function JE(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function x1(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ga=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Qn("not implemented")}_getIdTokenResponse(t){return Qn("not implemented")}_linkToIdToken(t,e){return Qn("not implemented")}_getReauthenticationResolver(t){return Qn("not implemented")}};async function F1(n,t){return Lr(n,"POST","/v1/accounts:signUp",t)}async function V1(n,t){return rl(n,"POST","/v1/accounts:signInWithPassword",Ti(n,t))}async function U1(n,t){return rl(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,t))}async function B1(n,t){return rl(n,"POST","/v1/accounts:signInWithEmailLink",Ti(n,t))}var ma=class n extends ga{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new n(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YE(t,e,"signInWithPassword",V1,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return U1(t,{email:this._email,oobCode:this._password});default:Cn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":let r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YE(t,r,"signUpPassword",F1,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return B1(t,{idToken:e,email:this._email,oobCode:this._password});default:Cn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};async function Uf(n,t){return rl(n,"POST","/v1/accounts:signInWithIdp",Ti(n,t))}function $1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j1(n){let t=ys(vs(n)).link,e=t?ys(vs(t)).deep_link_id:null,r=ys(vs(n)).deep_link_id;return(r?ys(vs(r)).link:null)||r||e||t||n}var Ju=class n{constructor(t){let e=ys(vs(t)),r=e.apiKey??null,i=e.oobCode??null,s=$1(e.mode??null);q(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){let e=j1(t);try{return new n(e)}catch{return null}}};var Nw=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return ma._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){let i=Ju.parseLink(r);return q(i,"argument-error"),ma._fromEmailAndCode(e,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Xu=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Xf=class extends Xu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var ya=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){let s=await Or._fromIdTokenResponse(t,r,i),o=XE(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);let i=XE(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})}};function XE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Zf=class n extends vt{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function Ow(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zf._fromErrorAndOperation(n,s,t,r):s})}async function z1(n,t,e=!1){let r=await fa(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ya._forOperation(n,"link",r)}async function H1(n,t,e=!1){let{auth:r}=n;if(ft(r.app))return Promise.reject(kr(r));let i="reauthenticate";try{let s=await fa(n,Ow(r,i,t,n),e);q(s.idToken,r,"internal-error");let o=up(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(n.uid===c,r,"user-mismatch"),ya._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Cn(r,"user-mismatch"),s}}async function kw(n,t,e=!1){if(ft(n.app))return Promise.reject(kr(n));let r="signIn",i=await Ow(n,r,t),s=await ya._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(s.user),s}async function Mw(n,t){return kw(Ts(n),t)}async function q1(n){let t=Ts(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function G1(n,t,e){return ft(n.app)?Promise.reject(kr(n)):Mw(be(n),Nw.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q1(n),r})}function dp(n,t){return be(n).setPersistence(t)}function Lw(n,t,e,r){return be(n).onIdTokenChanged(t,e,r)}function xw(n,t,e){return be(n).beforeAuthStateChanged(t,e)}function W1(n,t,e,r){return be(n).onAuthStateChanged(t,e,r)}function K1(n){return be(n).signOut()}var Zu="__sak";var el=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var Q1=1e3,Y1=10,J1=(()=>{class n extends el{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Iw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=e.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);C1()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Y1):s()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},Q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){let r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}return n.type="LOCAL",n})(),sl=J1;var X1=(()=>{class n extends el{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),hp=X1;function Z1(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}var eP=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let r=e,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(async h=>h(r.origin,o)),l=await Z1(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Fw(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var ep=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=Fw("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function An(){return window}function tP(n){An().location.href=n}function Vw(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function nP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rP(){return navigator?.serviceWorker?.controller||null}function iP(){return Vw()?self:null}var Uw="firebaseLocalStorageDb",sP=1,tl="firebaseLocalStorage",Bw="fbase_key",Ii=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function ol(n,t){return n.transaction([tl],t?"readwrite":"readonly").objectStore(tl)}function oP(){let n=indexedDB.deleteDatabase(Uw);return new Ii(n).toPromise()}function tp(){let n=indexedDB.open(Uw,sP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(tl,{keyPath:Bw})}catch(i){e(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(tl)?t(r):(r.close(),await oP(),t(await tp()))})})}async function ZE(n,t,e){let r=ol(n,!0).put({[Bw]:t,value:e});return new Ii(r).toPromise()}async function aP(n,t){let e=ol(n,!1).get(t),r=await new Ii(e).toPromise();return r===void 0?null:r.value}function ew(n,t){let e=ol(n,!0).delete(t);return new Ii(e).toPromise()}var cP=800,uP=3,lP=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let r=0;for(;;)try{let i=await this._openDb();return await e(i)}catch(i){if(r++>uP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eP._getInstance(iP()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nP(),!this.activeServiceWorker)return;this.sender=new ep(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tp();return await ZE(e,Zu,"1"),await ew(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZE(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){let r=await this._withRetries(i=>aP(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ew(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(s=>{let o=ol(s,!1).getAll();return new Ii(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),$w=lP;var SB=Aw("rcb"),AB=new wi(3e4,6e4);function dP(n,t){return t?Yn(t):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var va=class extends ga{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Uf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Uf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Uf(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function hP(n){return kw(n.auth,new va(n),n.bypassAuthState)}function fP(n){let{auth:t,user:e}=n;return q(e,t,"internal-error"),H1(e,new va(n),n.bypassAuthState)}async function pP(n){let{auth:t,user:e}=n;return q(e,t,"internal-error"),z1(e,new va(n),n.bypassAuthState)}var np=class{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){let{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hP;case"linkViaPopup":case"linkViaRedirect":return pP;case"reauthViaPopup":case"reauthViaRedirect":return fP;default:Cn(this.auth,"internal-error")}}resolve(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var CB=new wi(2e3,1e4);var gP="pendingRedirect",zu=new Map,rp=class extends np{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=zu.get(this.auth._key());if(!t){try{let r=await mP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}zu.set(this.auth._key(),t)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function mP(n,t){let e=_P(t),r=vP(n);if(!await r._isAvailable())return!1;let i=await r._get(e)==="true";return await r._remove(e),i}function yP(n,t){zu.set(n._key(),t)}function vP(n){return Yn(n._redirectPersistence)}function _P(n){return ju(gP,n.config.apiKey,n.name)}async function bP(n,t,e=!1){if(ft(n.app))return Promise.reject(kr(n));let r=Ts(n),i=dP(r,t),o=await new rp(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}var EP=600*1e3,ip=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!jw(t)){let r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ei(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(t))}saveEventToCache(t){this.cachedEventUids.add(tw(t)),this.lastProcessedEventTime=Date.now()}};function tw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function jw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function wP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(n);default:return!1}}async function IP(n,t={}){return Lr(n,"GET","/v1/projects",t)}var TP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SP=/^https?/;async function AP(n){if(n.config.emulator)return;let{authorizedDomains:t}=await IP(n);for(let e of t)try{if(CP(e))return}catch{}Cn(n,"unauthorized-domain")}function CP(n){let t=$f(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!SP.test(e))return!1;if(TP.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var DP=new wi(3e4,6e4);function nw(){let n=An().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function RP(n){return new Promise((t,e)=>{function r(){nw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nw(),e(Ei(n,"network-request-failed"))},timeout:DP.get()})}if(An().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(An().gapi?.load)r();else{let i=Aw("iframefcb");return An()[i]=()=>{gapi.load?r():e(Ei(n,"network-request-failed"))},Sw(`${O1()}?onload=${i}`).catch(s=>e(s))}}).catch(t=>{throw Hu=null,t})}var Hu=null;function PP(n){return Hu=Hu||RP(n),Hu}var NP=new wi(5e3,15e3),OP="__/auth/iframe",kP="emulator/auth/iframe",MP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xP(n){let t=n.config;q(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?cp(t,kP):`https://${n.config.authDomain}/${OP}`,r={apiKey:t.apiKey,appName:n.name,v:Rr},i=LP.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${aa(r).slice(1)}`}async function FP(n){let t=await PP(n),e=An().gapi;return q(e,n,"internal-error"),t.open({where:document.body,url:xP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Ei(n,"network-request-failed"),c=An().setTimeout(()=>{s(o)},NP.get());function u(){An().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}var VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UP=500,BP=600,$P="_blank",jP="http://localhost",nl=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function zP(n,t,e,r=UP,i=BP){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=ae(P({},VP),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ye().toLowerCase();e&&(c=vw(l)?$P:e),mw(l)&&(t=t||jP,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,C])=>`${m}${v}=${C},`,"");if(A1(l)&&c!=="_self")return HP(t||"",c),new nl(null);let p=window.open(t||"",c,h);q(p,n,"popup-blocked");try{p.focus()}catch{}return new nl(p)}function HP(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var qP="__/auth/handler",GP="emulator/auth/handler",WP=encodeURIComponent("fac");async function rw(n,t,e,r,i,s){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Rr,eventId:i};if(t instanceof Xu){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Yb(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(t instanceof Xf){let h=t.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=await n._getAppCheckToken(),l=u?`#${WP}=${encodeURIComponent(u)}`:"";return`${KP(n)}?${aa(c).slice(1)}${l}`}function KP({config:n}){return n.emulator?cp(n,GP):`https://${n.authDomain}/${qP}`}var Bf="webStorageSupport",sp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hp,this._completeRedirectFn=bP,this._overrideRedirectResult=yP}async _openPopup(t,e,r,i){Mr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let s=await rw(t,e,r,$f(),i);return zP(t,s,Fw())}async _openRedirect(t,e,r,i){await this._originValidation(t);let s=await rw(t,e,r,$f(),i);return tP(s),new Promise(()=>{})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){let e=await FP(t),r=new ip(t);return e.register("authEvent",i=>(q(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Bf,{type:Bf},i=>{let s=i?.[0]?.[Bf];s!==void 0&&e(!!s),Cn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=AP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Iw()||yw()||lp()}},zw=sp;var iw="@firebase/auth",sw="1.12.0";var op=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function QP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YP(n){Sn(new _t("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tw(n)},l=new Kf(r,i,s,u);return M1(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Sn(new _t("auth-internal",t=>{let e=Ts(t.getProvider("auth").getImmediate());return(r=>new op(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),bt(iw,sw,QP(n)),bt(iw,sw,"esm2020")}var JP=300,XP=ff("authIdTokenMaxAge")||JP,ow=null,ZP=n=>async t=>{let e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>XP)return;let i=e?.token;ow!==i&&(ow=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fp(n=_s()){let t=bi(n,"auth");if(t.isInitialized())return t.getImmediate();let e=Dw(n,{popupRedirectResolver:zw,persistence:[$w,sl,hp]}),r=ff("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=ZP(s.toString());xw(e,o,()=>o(e.currentUser)),Lw(e,c=>o(c))}}let i=df("auth");return i&&Rw(e,`http://${i}`),e}function eN(){return document.getElementsByTagName("head")?.[0]??document}P1({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let s=Ei("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",eN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YP("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qw={};var Jn,pp;(function(){var n;function t(E,y){function b(){}b.prototype=y.prototype,E.F=y.prototype,E.prototype=new b,E.prototype.constructor=E,E.D=function(I,w,S){for(var _=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)_[Ne-2]=arguments[Ne];return y.prototype[w].apply(I,_)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,b){b||(b=0);let I=Array(16);if(typeof y=="string")for(var w=0;w<16;++w)I[w]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(w=0;w<16;++w)I[w]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=E.g[0],b=E.g[1],w=E.g[2];let S=E.g[3],_;_=y+(S^b&(w^S))+I[0]+3614090360&4294967295,y=b+(_<<7&4294967295|_>>>25),_=S+(w^y&(b^w))+I[1]+3905402710&4294967295,S=y+(_<<12&4294967295|_>>>20),_=w+(b^S&(y^b))+I[2]+606105819&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(y^w&(S^y))+I[3]+3250441966&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(S^b&(w^S))+I[4]+4118548399&4294967295,y=b+(_<<7&4294967295|_>>>25),_=S+(w^y&(b^w))+I[5]+1200080426&4294967295,S=y+(_<<12&4294967295|_>>>20),_=w+(b^S&(y^b))+I[6]+2821735955&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(y^w&(S^y))+I[7]+4249261313&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(S^b&(w^S))+I[8]+1770035416&4294967295,y=b+(_<<7&4294967295|_>>>25),_=S+(w^y&(b^w))+I[9]+2336552879&4294967295,S=y+(_<<12&4294967295|_>>>20),_=w+(b^S&(y^b))+I[10]+4294925233&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(y^w&(S^y))+I[11]+2304563134&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(S^b&(w^S))+I[12]+1804603682&4294967295,y=b+(_<<7&4294967295|_>>>25),_=S+(w^y&(b^w))+I[13]+4254626195&4294967295,S=y+(_<<12&4294967295|_>>>20),_=w+(b^S&(y^b))+I[14]+2792965006&4294967295,w=S+(_<<17&4294967295|_>>>15),_=b+(y^w&(S^y))+I[15]+1236535329&4294967295,b=w+(_<<22&4294967295|_>>>10),_=y+(w^S&(b^w))+I[1]+4129170786&4294967295,y=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(y^b))+I[6]+3225465664&4294967295,S=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(S^y))+I[11]+643717713&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^y&(w^S))+I[0]+3921069994&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(w^S&(b^w))+I[5]+3593408605&4294967295,y=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(y^b))+I[10]+38016083&4294967295,S=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(S^y))+I[15]+3634488961&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^y&(w^S))+I[4]+3889429448&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(w^S&(b^w))+I[9]+568446438&4294967295,y=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(y^b))+I[14]+3275163606&4294967295,S=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(S^y))+I[3]+4107603335&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^y&(w^S))+I[8]+1163531501&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(w^S&(b^w))+I[13]+2850285829&4294967295,y=b+(_<<5&4294967295|_>>>27),_=S+(b^w&(y^b))+I[2]+4243563512&4294967295,S=y+(_<<9&4294967295|_>>>23),_=w+(y^b&(S^y))+I[7]+1735328473&4294967295,w=S+(_<<14&4294967295|_>>>18),_=b+(S^y&(w^S))+I[12]+2368359562&4294967295,b=w+(_<<20&4294967295|_>>>12),_=y+(b^w^S)+I[5]+4294588738&4294967295,y=b+(_<<4&4294967295|_>>>28),_=S+(y^b^w)+I[8]+2272392833&4294967295,S=y+(_<<11&4294967295|_>>>21),_=w+(S^y^b)+I[11]+1839030562&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^y)+I[14]+4259657740&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(b^w^S)+I[1]+2763975236&4294967295,y=b+(_<<4&4294967295|_>>>28),_=S+(y^b^w)+I[4]+1272893353&4294967295,S=y+(_<<11&4294967295|_>>>21),_=w+(S^y^b)+I[7]+4139469664&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^y)+I[10]+3200236656&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(b^w^S)+I[13]+681279174&4294967295,y=b+(_<<4&4294967295|_>>>28),_=S+(y^b^w)+I[0]+3936430074&4294967295,S=y+(_<<11&4294967295|_>>>21),_=w+(S^y^b)+I[3]+3572445317&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^y)+I[6]+76029189&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(b^w^S)+I[9]+3654602809&4294967295,y=b+(_<<4&4294967295|_>>>28),_=S+(y^b^w)+I[12]+3873151461&4294967295,S=y+(_<<11&4294967295|_>>>21),_=w+(S^y^b)+I[15]+530742520&4294967295,w=S+(_<<16&4294967295|_>>>16),_=b+(w^S^y)+I[2]+3299628645&4294967295,b=w+(_<<23&4294967295|_>>>9),_=y+(w^(b|~S))+I[0]+4096336452&4294967295,y=b+(_<<6&4294967295|_>>>26),_=S+(b^(y|~w))+I[7]+1126891415&4294967295,S=y+(_<<10&4294967295|_>>>22),_=w+(y^(S|~b))+I[14]+2878612391&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~y))+I[5]+4237533241&4294967295,b=w+(_<<21&4294967295|_>>>11),_=y+(w^(b|~S))+I[12]+1700485571&4294967295,y=b+(_<<6&4294967295|_>>>26),_=S+(b^(y|~w))+I[3]+2399980690&4294967295,S=y+(_<<10&4294967295|_>>>22),_=w+(y^(S|~b))+I[10]+4293915773&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~y))+I[1]+2240044497&4294967295,b=w+(_<<21&4294967295|_>>>11),_=y+(w^(b|~S))+I[8]+1873313359&4294967295,y=b+(_<<6&4294967295|_>>>26),_=S+(b^(y|~w))+I[15]+4264355552&4294967295,S=y+(_<<10&4294967295|_>>>22),_=w+(y^(S|~b))+I[6]+2734768916&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~y))+I[13]+1309151649&4294967295,b=w+(_<<21&4294967295|_>>>11),_=y+(w^(b|~S))+I[4]+4149444226&4294967295,y=b+(_<<6&4294967295|_>>>26),_=S+(b^(y|~w))+I[11]+3174756917&4294967295,S=y+(_<<10&4294967295|_>>>22),_=w+(y^(S|~b))+I[2]+718787259&4294967295,w=S+(_<<15&4294967295|_>>>17),_=b+(S^(w|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.v=function(E,y){y===void 0&&(y=E.length);let b=y-this.blockSize,I=this.C,w=this.h,S=0;for(;S<y;){if(w==0)for(;S<=b;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<y;)if(I[w++]=E.charCodeAt(S++),w==this.blockSize){i(this,I),w=0;break}}else for(;S<y;)if(I[w++]=E[S++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=y},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;y=this.o*8;for(var b=E.length-8;b<E.length;++b)E[b]=y&255,y/=256;for(this.v(E),E=Array(16),y=0,b=0;b<4;++b)for(let I=0;I<32;I+=8)E[y++]=this.g[b]>>>I&255;return E};function s(E,y){var b=c;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=y(E)}function o(E,y){this.h=y;let b=[],I=!0;for(let w=E.length-1;w>=0;w--){let S=E[w]|0;I&&S==y||(b[w]=S,I=!1)}this.g=b}var c={};function u(E){return-128<=E&&E<128?s(E,function(y){return new o([y|0],y<0?-1:0)}):new o([E|0],E<0?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return A(l(-E));let y=[],b=1;for(let I=0;E>=b;I++)y[I]=E/b|0,b*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return A(h(E.substring(1),y));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');let b=l(Math.pow(y,8)),I=p;for(let S=0;S<E.length;S+=8){var w=Math.min(8,E.length-S);let _=parseInt(E.substring(S,S+w),y);w<8?(w=l(Math.pow(y,w)),I=I.j(w).add(l(_))):(I=I.j(b),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=o.prototype,n.m=function(){if(R(this))return-A(this).m();let E=0,y=1;for(let b=0;b<this.g.length;b++){let I=this.i(b);E+=(I>=0?I:4294967296+I)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(R(this))return"-"+A(this).toString(E);let y=l(Math.pow(E,6));var b=this;let I="";for(;;){let w=W(b,y).g;b=M(b,w.j(y));let S=((b.g.length>0?b.g[0]:b.h)>>>0).toString(E);if(b=w,C(b))return S+I;for(;S.length<6;)S="0"+S;I=S+I}},n.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(let y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function R(E){return E.h==-1}n.l=function(E){return E=M(this,E),R(E)?-1:C(E)?0:1};function A(E){let y=E.g.length,b=[];for(let I=0;I<y;I++)b[I]=~E.g[I];return new o(b,~E.h).add(m)}n.abs=function(){return R(this)?A(this):this},n.add=function(E){let y=Math.max(this.g.length,E.g.length),b=[],I=0;for(let w=0;w<=y;w++){let S=I+(this.i(w)&65535)+(E.i(w)&65535),_=(S>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);I=_>>>16,S&=65535,_&=65535,b[w]=_<<16|S}return new o(b,b[b.length-1]&-2147483648?-1:0)};function M(E,y){return E.add(A(y))}n.j=function(E){if(C(this)||C(E))return p;if(R(this))return R(E)?A(this).j(A(E)):A(A(this).j(E));if(R(E))return A(this.j(A(E)));if(this.l(v)<0&&E.l(v)<0)return l(this.m()*E.m());let y=this.g.length+E.g.length,b=[];for(var I=0;I<2*y;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(let w=0;w<E.g.length;w++){let S=this.i(I)>>>16,_=this.i(I)&65535,Ne=E.i(w)>>>16,Et=E.i(w)&65535;b[2*I+2*w]+=_*Et,V(b,2*I+2*w),b[2*I+2*w+1]+=S*Et,V(b,2*I+2*w+1),b[2*I+2*w+1]+=_*Ne,V(b,2*I+2*w+1),b[2*I+2*w+2]+=S*Ne,V(b,2*I+2*w+2)}for(E=0;E<y;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=y;E<2*y;E++)b[E]=0;return new o(b,0)};function V(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function $(E,y){this.g=E,this.h=y}function W(E,y){if(C(y))throw Error("division by zero");if(C(E))return new $(p,p);if(R(E))return y=W(A(E),y),new $(A(y.g),A(y.h));if(R(y))return y=W(E,A(y)),new $(A(y.g),y.h);if(E.g.length>30){if(R(E)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,I=y;I.l(E)<=0;)b=se(b),I=se(I);var w=re(b,1),S=re(I,1);for(I=re(I,2),b=re(b,2);!C(I);){var _=S.add(I);_.l(E)<=0&&(w=w.add(b),S=_),I=re(I,1),b=re(b,1)}return y=M(E,w.j(y)),new $(w,y)}for(w=p;E.l(y)>=0;){for(b=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),S=l(b),_=S.j(y);R(_)||_.l(E)>0;)b-=I,S=l(b),_=S.j(y);C(S)&&(S=m),w=w.add(S),E=M(E,_)}return new $(w,E)}n.B=function(E){return W(this,E).h},n.and=function(E){let y=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<y;I++)b[I]=this.i(I)&E.i(I);return new o(b,this.h&E.h)},n.or=function(E){let y=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<y;I++)b[I]=this.i(I)|E.i(I);return new o(b,this.h|E.h)},n.xor=function(E){let y=Math.max(this.g.length,E.g.length),b=[];for(let I=0;I<y;I++)b[I]=this.i(I)^E.i(I);return new o(b,this.h^E.h)};function se(E){let y=E.g.length+1,b=[];for(let I=0;I<y;I++)b[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(b,E.h)}function re(E,y){let b=y>>5;y%=32;let I=E.g.length-b,w=[];for(let S=0;S<I;S++)w[S]=y>0?E.i(S+b)>>>y|E.i(S+b+1)<<32-y:E.i(S+b);return new o(w,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pp=qw.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Jn=qw.Integer=o}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={};var gp,tN,Ss,mp,_a,cl,yp,vp,_p;(function(){var n,t=Object.defineProperty;function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof al=="object"&&al];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=e(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in f))break e;f=f[T]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&t(f,a,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(d){var f=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.push([g,d[g]]);return f}});var s=s||{},o=this||self;function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,f){return a.call.apply(a.bind,arguments)}function l(a,d,f){return l=u,l.apply(null,arguments)}function h(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function p(a,d){function f(){}f.prototype=d.prototype,a.Z=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(g,T,D){for(var x=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)x[Z-2]=arguments[Z];return d.prototype[T].apply(g,x)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function v(a){let d=a.length;if(d>0){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function C(a,d){for(let g=1;g<arguments.length;g++){let T=arguments[g];var f=typeof T;if(f=f!="object"?f:T?Array.isArray(T)?"array":f:"null",f=="array"||f=="object"&&typeof T.length=="number"){f=a.length||0;let D=T.length||0;a.length=f+D;for(let x=0;x<D;x++)a[f+x]=T[x]}else a.push(T)}}class R{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(a){o.setTimeout(()=>{throw a},0)}function M(){var a=E;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class V{constructor(){this.h=this.g=null}add(d,f){let g=$.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var $=new R(()=>new W,a=>a.reset());class W{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let se,re=!1,E=new V,y=()=>{let a=Promise.resolve(void 0);se=()=>{a.then(b)}};function b(){for(var a;a=M();){try{a.h.call(a.g)}catch(f){A(f)}var d=$;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}re=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};o.addEventListener("test",f,d),o.removeEventListener("test",f,d)}catch{}return a})();function _(a){return/^[\s\xa0]*$/.test(a)}function Ne(a,d){w.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p(Ne,w),Ne.prototype.init=function(a,d){let f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),Fi=0;function Vi(a,d,f,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++Fi,this.da=this.fa=!1}function kn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Mn(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function Ui(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function Gr(a){let d={};for(let f in a)d[f]=a[f];return d}let Wr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xs(a,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)a[f]=g[f];for(let D=0;D<Wr.length;D++)f=Wr[D],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function Kr(a){this.src=a,this.g={},this.h=0}Kr.prototype.add=function(a,d,f,g,T){let D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);let x=$i(a,d,g,T);return x>-1?(d=a[x],f||(d.fa=!1)):(d=new Vi(d,this.src,D,!!g,T),d.fa=f,a.push(d)),d};function Bi(a,d){let f=d.type;if(f in a.g){var g=a.g[f],T=Array.prototype.indexOf.call(g,d,void 0),D;(D=T>=0)&&Array.prototype.splice.call(g,T,1),D&&(kn(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function $i(a,d,f,g){for(let T=0;T<a.length;++T){let D=a[T];if(!D.da&&D.listener==d&&D.capture==!!f&&D.ha==g)return T}return-1}var Zs="closure_lm_"+(Math.random()*1e6|0),eo={};function za(a,d,f,g,T){if(g&&g.once)return qa(a,d,f,g,T);if(Array.isArray(d)){for(let D=0;D<d.length;D++)za(a,d[D],f,g,T);return null}return f=io(f),a&&a[Et]?a.J(d,f,c(g)?!!g.capture:!!g,T):Ha(a,d,f,!1,g,T)}function Ha(a,d,f,g,T,D){if(!d)throw Error("Invalid event type");let x=c(T)?!!T.capture:!!T,Z=no(a);if(Z||(a[Zs]=Z=new Kr(a)),f=Z.add(d,f,g,x,D),f.proxy)return f;if(g=dd(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)S||(T=x),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(Wa(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function dd(){function a(f){return d.call(a.src,a.listener,f)}let d=hd;return a}function qa(a,d,f,g,T){if(Array.isArray(d)){for(let D=0;D<d.length;D++)qa(a,d[D],f,g,T);return null}return f=io(f),a&&a[Et]?a.K(d,f,c(g)?!!g.capture:!!g,T):Ha(a,d,f,!0,g,T)}function Ga(a,d,f,g,T){if(Array.isArray(d))for(var D=0;D<d.length;D++)Ga(a,d[D],f,g,T);else g=c(g)?!!g.capture:!!g,f=io(f),a&&a[Et]?(a=a.i,D=String(d).toString(),D in a.g&&(d=a.g[D],f=$i(d,f,g,T),f>-1&&(kn(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete a.g[D],a.h--)))):a&&(a=no(a))&&(d=a.g[d.toString()],a=-1,d&&(a=$i(d,f,g,T)),(f=a>-1?d[a]:null)&&to(f))}function to(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Et])Bi(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(Wa(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=no(d))?(Bi(f,a),f.h==0&&(f.src=null,d[Zs]=null)):kn(a)}}}function Wa(a){return a in eo?eo[a]:eo[a]="on"+a}function hd(a,d){if(a.da)a=!0;else{d=new Ne(d,this);let f=a.listener,g=a.ha||a.src;a.fa&&to(a),a=f.call(g,d)}return a}function no(a){return a=a[Zs],a instanceof Kr?a:null}var ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function io(a){return typeof a=="function"?a:(a[ro]||(a[ro]=function(d){return a.handleEvent(d)}),a[ro])}function Ge(){I.call(this),this.i=new Kr(this),this.M=this,this.G=null}p(Ge,I),Ge.prototype[Et]=!0,Ge.prototype.removeEventListener=function(a,d,f,g){Ga(this,a,d,f,g)};function tt(a,d){var f,g=a.G;if(g)for(f=[];g;g=g.G)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new w(d,a);else if(d instanceof w)d.target=d.target||a;else{var T=d;d=new w(g,a),Xs(d,T)}T=!0;let D,x;if(f)for(x=f.length-1;x>=0;x--)D=d.g=f[x],T=ji(D,g,!0,d)&&T;if(D=d.g=a,T=ji(D,g,!0,d)&&T,T=ji(D,g,!1,d)&&T,f)for(x=0;x<f.length;x++)D=d.g=f[x],T=ji(D,g,!1,d)&&T}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var a=this.i;for(let d in a.g){let f=a.g[d];for(let g=0;g<f.length;g++)kn(f[g]);delete a.g[d],a.h--}}this.G=null},Ge.prototype.J=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},Ge.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function ji(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let D=0;D<d.length;++D){let x=d[D];if(x&&!x.da&&x.capture==f){let Z=x.listener,$e=x.ha||x.src;x.fa&&Bi(a.i,x),T=Z.call($e,g)!==!1&&T}}return T&&!g.defaultPrevented}function fd(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=l(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function Ka(a){a.g=fd(()=>{a.g=null,a.i&&(a.i=!1,Ka(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class b0 extends I{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(a){I.call(this),this.h=a,this.g={}}p(so,I);var Um=[];function Bm(a){Mn(a.g,function(d,f){this.g.hasOwnProperty(f)&&to(d)},a),a.g={}}so.prototype.N=function(){so.Z.N.call(this),Bm(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pd=o.JSON.stringify,E0=o.JSON.parse,w0=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function $m(){}function jm(){}var oo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gd(){w.call(this,"d")}p(gd,w);function md(){w.call(this,"c")}p(md,w);var Qr={},zm=null;function Qa(){return zm=zm||new Ge}Qr.Ia="serverreachability";function Hm(a){w.call(this,Qr.Ia,a)}p(Hm,w);function ao(a){let d=Qa();tt(d,new Hm(d))}Qr.STAT_EVENT="statevent";function qm(a,d){w.call(this,Qr.STAT_EVENT,a),this.stat=d}p(qm,w);function lt(a){let d=Qa();tt(d,new qm(d,a))}Qr.Ja="timingevent";function Gm(a,d){w.call(this,Qr.Ja,a),this.size=d}p(Gm,w);function co(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function uo(){this.g=!0}uo.prototype.ua=function(){this.g=!1};function I0(a,d,f,g,T,D){a.info(function(){if(a.g)if(D){var x="",Z=D.split("&");for(let ge=0;ge<Z.length;ge++){var $e=Z[ge].split("=");if($e.length>1){let We=$e[0];$e=$e[1];let ln=We.split("_");x=ln.length>=2&&ln[1]=="type"?x+(We+"="+$e+"&"):x+(We+"=redacted&")}}}else x=null;else x=D;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+x})}function T0(a,d,f,g,T,D,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+D+" "+x})}function zi(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+A0(a,f)+(g?" "+g:"")})}function S0(a,d){a.info(function(){return"TIMEOUT: "+d})}uo.prototype.info=function(){};function A0(a,d){if(!a.g)return d;if(!d)return null;try{let D=JSON.parse(d);if(D){for(a=0;a<D.length;a++)if(Array.isArray(D[a])){var f=D[a];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var T=g[0];if(T!="noop"&&T!="stop"&&T!="close")for(let x=1;x<g.length;x++)g[x]=""}}}}return pd(D)}catch{return d}}var Ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wm={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Km;function yd(){}p(yd,$m),yd.prototype.g=function(){return new XMLHttpRequest},Km=new yd;function lo(a){return encodeURIComponent(String(a))}function C0(a){var d=1;a=a.split(":");let f=[];for(;d>0&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function cr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.S=g||1,this.V=new so(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qm}function Qm(){this.i=null,this.g="",this.h=!1}var Ym={},vd={};function _d(a,d,f){a.M=1,a.A=Xa(un(d)),a.u=f,a.R=!0,Jm(a,null)}function Jm(a,d){a.F=Date.now(),Ja(a),a.B=un(a.A);var f=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),ly(f.i,"t",g),a.C=0,f=a.j.L,a.h=new Qm,a.g=Dy(a.j,f?d:null,!a.u),a.P>0&&(a.O=new b0(l(a.Y,a,a.g),a.P)),d=a.V,f=a.g,g=a.ba;var T="readystatechange";Array.isArray(T)||(T&&(Um[0]=T.toString()),T=Um);for(let D=0;D<T.length;D++){let x=za(f,T[D],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.J?Gr(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),ao(),I0(a.i,a.v,a.B,a.l,a.S,a.u)}cr.prototype.ba=function(a){a=a.target;let d=this.O;d&&dr(a)==3?d.j():this.Y(a)},cr.prototype.Y=function(a){try{if(a==this.g)e:{let Z=dr(this.g),$e=this.g.ya(),ge=this.g.ca();if(!(Z<3)&&(Z!=3||this.g&&(this.h.h||this.g.la()||yy(this.g)))){this.K||Z!=4||$e==7||($e==8||ge<=0?ao(3):ao(2)),bd(this);var d=this.g.ca();this.X=d;var f=D0(this);if(this.o=d==200,T0(this.i,this.v,this.B,this.l,this.S,Z,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,T=this.g;if((g=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var D=g;break t}}D=null}if(a=D)zi(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ed(this,a);else{this.o=!1,this.m=3,lt(12),Yr(this),ho(this);break e}}if(this.R){a=!0;let We;for(;!this.K&&this.C<f.length;)if(We=R0(this,f),We==vd){Z==4&&(this.m=4,lt(14),a=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(We==Ym){this.m=4,lt(15),zi(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else zi(this.i,this.l,We,null),Ed(this,We);if(Xm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||f.length!=0||this.h.h||(this.m=1,lt(16),a=!1),this.o=this.o&&a,!a)zi(this.i,this.l,f,"[Invalid Chunked Response]"),Yr(this),ho(this);else if(f.length>0&&!this.W){this.W=!0;var x=this.j;x.g==this&&x.aa&&!x.P&&(x.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Dd(x),x.P=!0,lt(11))}}else zi(this.i,this.l,f,null),Ed(this,f);Z==4&&Yr(this),this.o&&!this.K&&(Z==4?Ty(this.j,this):(this.o=!1,Ja(this)))}else z0(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Yr(this),ho(this)}}}catch{}finally{}};function D0(a){if(!Xm(a))return a.g.la();let d=yy(a.g);if(d==="")return"";let f="",g=d.length,T=dr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Yr(a),ho(a),"";a.h.i=new o.TextDecoder}for(let D=0;D<g;D++)a.h.h=!0,f+=a.h.i.decode(d[D],{stream:!(T&&D==g-1)});return d.length=0,a.h.g+=f,a.C=0,a.h.g}function Xm(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function R0(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?vd:(f=Number(d.substring(f,g)),isNaN(f)?Ym:(g+=1,g+f>d.length?vd:(d=d.slice(g,g+f),a.C=g+f,d)))}cr.prototype.cancel=function(){this.K=!0,Yr(this)};function Ja(a){a.T=Date.now()+a.H,Zm(a,a.H)}function Zm(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=co(l(a.aa,a),d)}function bd(a){a.D&&(o.clearTimeout(a.D),a.D=null)}cr.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(S0(this.i,this.B),this.M!=2&&(ao(),lt(17)),Yr(this),this.m=2,ho(this)):Zm(this,this.T-a)};function ho(a){a.j.I==0||a.K||Ty(a.j,a)}function Yr(a){bd(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,Bm(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Ed(a,d){try{var f=a.j;if(f.I!=0&&(f.g==a||wd(f.h,a))){if(!a.L&&wd(f.h,a)&&f.I==3){try{var g=f.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)ic(f),nc(f);else break e;Cd(f),lt(18)}}else f.xa=T[1],0<f.xa-f.K&&T[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=co(l(f.Va,f),6e3));ny(f.h)<=1&&f.ta&&(f.ta=void 0)}else Xr(f,11)}else if((a.L||f.g==a)&&ic(f),!_(d))for(T=f.Ba.g.parse(d),d=0;d<T.length;d++){let ge=T[d],We=ge[0];if(!(We<=f.K))if(f.K=We,ge=ge[1],f.I==2)if(ge[0]=="c"){f.M=ge[1],f.ba=ge[2];let ln=ge[3];ln!=null&&(f.ka=ln,f.j.info("VER="+f.ka));let Zr=ge[4];Zr!=null&&(f.za=Zr,f.j.info("SVER="+f.za));let hr=ge[5];hr!=null&&typeof hr=="number"&&hr>0&&(g=1.5*hr,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let fr=a.g;if(fr){let oc=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var D=g.h;D.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Id(D,D.h),D.h=null))}if(g.G){let Rd=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rd&&(g.wa=Rd,_e(g.J,g.G,Rd))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var x=a;if(g.na=Cy(g,g.L?g.ba:null,g.W),x.L){ry(g.h,x);var Z=x,$e=g.O;$e&&(Z.H=$e),Z.D&&(bd(Z),Ja(Z)),g.g=x}else wy(g);f.i.length>0&&rc(f)}else ge[0]!="stop"&&ge[0]!="close"||Xr(f,7);else f.I==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Xr(f,7):Ad(f):ge[0]!="noop"&&f.l&&f.l.qa(ge),f.A=0)}}ao(4)}catch{}}var P0=class{constructor(a,d){this.g=a,this.map=d}};function ey(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ty(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ny(a){return a.h?1:a.g?a.g.size:0}function wd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Id(a,d){a.g?a.g.add(d):a.h=d}function ry(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ey.prototype.cancel=function(){if(this.i=iy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function iy(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.G);return d}return v(a.i)}var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N0(a,d){if(a){a=a.split("&");for(let f=0;f<a.length;f++){let g=a[f].indexOf("="),T,D=null;g>=0?(T=a[f].substring(0,g),D=a[f].substring(g+1)):T=a[f],d(T,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ur(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof ur?(this.l=a.l,fo(this,a.j),this.o=a.o,this.g=a.g,po(this,a.u),this.h=a.h,Td(this,dy(a.i)),this.m=a.m):a&&(d=String(a).match(sy))?(this.l=!1,fo(this,d[1]||"",!0),this.o=go(d[2]||""),this.g=go(d[3]||"",!0),po(this,d[4]),this.h=go(d[5]||"",!0),Td(this,d[6]||"",!0),this.m=go(d[7]||"")):(this.l=!1,this.i=new yo(null,this.l))}ur.prototype.toString=function(){let a=[];var d=this.j;d&&a.push(mo(d,oy,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(mo(d,oy,!0),"@"),a.push(lo(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(mo(f,f.charAt(0)=="/"?M0:k0,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",mo(f,x0)),a.join("")},ur.prototype.resolve=function(a){let d=un(this),f=!!a.j;f?fo(d,a.j):f=!!a.o,f?d.o=a.o:f=!!a.g,f?d.g=a.g:f=a.u!=null;var g=a.h;if(f)po(d,a.u);else if(f=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var T=d.h.lastIndexOf("/");T!=-1&&(g=d.h.slice(0,T+1)+g)}if(T=g,T==".."||T==".")g="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){g=T.lastIndexOf("/",0)==0,T=T.split("/");let D=[];for(let x=0;x<T.length;){let Z=T[x++];Z=="."?g&&x==T.length&&D.push(""):Z==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),g&&x==T.length&&D.push("")):(D.push(Z),g=!0)}g=D.join("/")}else g=T}return f?d.h=g:f=a.i.toString()!=="",f?Td(d,dy(a.i)):f=!!a.m,f&&(d.m=a.m),d};function un(a){return new ur(a)}function fo(a,d,f){a.j=f?go(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function po(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function Td(a,d,f){d instanceof yo?(a.i=d,F0(a.i,a.l)):(f||(d=mo(d,L0)),a.i=new yo(d,a.l))}function _e(a,d,f){a.i.set(d,f)}function Xa(a){return _e(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function go(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mo(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,O0),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function O0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var oy=/[#\/\?@]/g,k0=/[#\?:]/g,M0=/[#\?]/g,L0=/[#\?@]/g,x0=/#/g;function yo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Jr(a){a.g||(a.g=new Map,a.h=0,a.i&&N0(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=yo.prototype,n.add=function(a,d){Jr(this),this.i=null,a=Hi(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function ay(a,d){Jr(a),d=Hi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function cy(a,d){return Jr(a),d=Hi(a,d),a.g.has(d)}n.forEach=function(a,d){Jr(this),this.g.forEach(function(f,g){f.forEach(function(T){a.call(d,T,g,this)},this)},this)};function uy(a,d){Jr(a);let f=[];if(typeof d=="string")cy(a,d)&&(f=f.concat(a.g.get(Hi(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)f=f.concat(a[d]);return f}n.set=function(a,d){return Jr(this),this.i=null,a=Hi(this,a),cy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=uy(this,a),a.length>0?String(a[0]):d):d};function ly(a,d,f){ay(a,d),f.length>0&&(a.i=null,a.g.set(Hi(a,d),v(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var f=d[g];let T=lo(f);f=uy(this,f);for(let D=0;D<f.length;D++){let x=T;f[D]!==""&&(x+="="+lo(f[D])),a.push(x)}}return this.i=a.join("&")};function dy(a){let d=new yo;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function Hi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function F0(a,d){d&&!a.j&&(Jr(a),a.i=null,a.g.forEach(function(f,g){let T=g.toLowerCase();g!=T&&(ay(this,g),ly(this,T,f))},a)),a.j=d}function V0(a,d){let f=new uo;if(o.Image){let g=new Image;g.onload=h(lr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=h(lr,f,"TestLoadImage: error",!1,d,g),g.onabort=h(lr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=h(lr,f,"TestLoadImage: timeout",!1,d,g),o.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function U0(a,d){let f=new uo,g=new AbortController,T=setTimeout(()=>{g.abort(),lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(T),D.ok?lr(f,"TestPingServer: ok",!0,d):lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),lr(f,"TestPingServer: error",!1,d)})}function lr(a,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function B0(){this.g=new w0}function Za(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Za,$m),Za.prototype.g=function(){return new ec(this.i,this.h)};function ec(a,d){Ge.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ec,Ge),n=ec.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,_o(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hy(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function hy(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?vo(this):_o(this),this.readyState==3&&hy(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,vo(this))},n.Na=function(a){this.g&&(this.response=a,vo(this))},n.ga=function(){this.g&&vo(this)};function vo(a){a.readyState=4,a.l=null,a.j=null,a.B=null,_o(a)}n.setRequestHeader=function(a,d){this.A.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function _o(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function fy(a){let d="";return Mn(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Sd(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=fy(f),typeof a=="string"?f!=null&&lo(f):_e(a,d,f))}function Ce(a){Ge.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ce,Ge);var $0=/^https?$/i,j0=["POST","PUT"];n=Ce.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Km.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){py(this,D);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let D of g.keys())f.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(D=>D.toLowerCase()=="content-type"),T=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(j0,d,void 0)>=0)||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,x]of f)this.g.setRequestHeader(D,x);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(D){py(this,D)}};function py(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,gy(a),tc(a)}function gy(a){a.A||(a.A=!0,tt(a,"complete"),tt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,tt(this,"complete"),tt(this,"abort"),tc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tc(this,!0)),Ce.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?my(this):this.Xa())},n.Xa=function(){my(this)};function my(a){if(a.h&&typeof s<"u"){if(a.v&&dr(a)==4)setTimeout(a.Ca.bind(a),0);else if(tt(a,"readystatechange"),dr(a)==4){a.h=!1;try{let D=a.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=D===0){let x=String(a.D).match(sy)[1]||null;!x&&o.self&&o.self.location&&(x=o.self.location.protocol.slice(0,-1)),g=!$0.test(x?x.toLowerCase():"")}f=g}if(f)tt(a,"complete"),tt(a,"success");else{a.o=6;try{var T=dr(a)>2?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.ca()+"]",gy(a)}}finally{tc(a)}}}}function tc(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let f=a.g;a.g=null,d||tt(a,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function dr(a){return a.g?a.g.readyState:0}n.ca=function(){try{return dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),E0(d)}};function yy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function z0(a){let d={};a=(a.g&&dr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(_(a[g]))continue;var f=C0(a[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let D=d[T]||[];d[T]=D,D.push(f)}Ui(d,function(g){return g.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function vy(a){this.za=0,this.i=[],this.j=new uo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bo("baseRetryDelayMs",5e3,a),this.Za=bo("retryDelaySeedMs",1e4,a),this.Ta=bo("forwardChannelMaxRetries",2,a),this.va=bo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new ey(a&&a.concurrentRequestLimit),this.Ba=new B0,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=vy.prototype,n.ka=8,n.I=1,n.connect=function(a,d,f,g){lt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=Cy(this,null,this.W),rc(this)};function Ad(a){if(_y(a),a.I==3){var d=a.V++,f=un(a.J);if(_e(f,"SID",a.M),_e(f,"RID",d),_e(f,"TYPE","terminate"),Eo(a,f),d=new cr(a,a.j,d),d.M=2,d.A=Xa(un(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=d.A,f=!0),f||(d.g=Dy(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Ja(d)}Ay(a)}function nc(a){a.g&&(Dd(a),a.g.cancel(),a.g=null)}function _y(a){nc(a),a.v&&(o.clearTimeout(a.v),a.v=null),ic(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function rc(a){if(!ty(a.h)&&!a.m){a.m=!0;var d=a.Ea;se||y(),re||(se(),re=!0),E.add(d,a),a.D=0}}function H0(a,d){return ny(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=co(l(a.Ea,a,d),Sy(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let T=new cr(this,this.j,a),D=this.o;if(this.U&&(D?(D=Gr(D),Xs(D,this.U)):D=this.U),this.u!==null||this.R||(T.J=D,D=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Ey(this,T,d),f=un(this.J),_e(f,"RID",a),_e(f,"CVER",22),this.G&&_e(f,"X-HTTP-Session-Id",this.G),Eo(this,f),D&&(this.R?d="headers="+lo(fy(D))+"&"+d:this.u&&Sd(f,this.u,D)),Id(this.h,T),this.Ra&&_e(f,"TYPE","init"),this.S?(_e(f,"$req",d),_e(f,"SID","null"),T.U=!0,_d(T,f,null)):_d(T,f,d),this.I=2}}else this.I==3&&(a?by(this,a):this.i.length==0||ty(this.h)||by(this))};function by(a,d){var f;d?f=d.l:f=a.V++;let g=un(a.J);_e(g,"SID",a.M),_e(g,"RID",f),_e(g,"AID",a.K),Eo(a,g),a.u&&a.o&&Sd(g,a.u,a.o),f=new cr(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),d&&(a.i=d.G.concat(a.i)),d=Ey(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Id(a.h,f),_d(f,g,d)}function Eo(a,d){a.H&&Mn(a.H,function(f,g){_e(d,g,f)}),a.l&&Mn({},function(f,g){_e(d,g,f)})}function Ey(a,d,f){f=Math.min(a.i.length,f);let g=a.l?l(a.l.Ka,a.l,a):null;e:{var T=a.i;let Z=-1;for(;;){let $e=["count="+f];Z==-1?f>0?(Z=T[0].g,$e.push("ofs="+Z)):Z=0:$e.push("ofs="+Z);let ge=!0;for(let We=0;We<f;We++){var D=T[We].g;let ln=T[We].map;if(D-=Z,D<0)Z=Math.max(0,T[We].g-100),ge=!1;else try{D="req"+D+"_"||"";try{var x=ln instanceof Map?ln:Object.entries(ln);for(let[Zr,hr]of x){let fr=hr;c(hr)&&(fr=pd(hr)),$e.push(D+Zr+"="+encodeURIComponent(fr))}}catch(Zr){throw $e.push(D+"type="+encodeURIComponent("_badmap")),Zr}}catch{g&&g(ln)}}if(ge){x=$e.join("&");break e}}x=void 0}return a=a.i.splice(0,f),d.G=a,x}function wy(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;se||y(),re||(se(),re=!0),E.add(d,a),a.A=0}}function Cd(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=co(l(a.Da,a),Sy(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,Iy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=co(l(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),nc(this),Iy(this))};function Dd(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Iy(a){a.g=new cr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=un(a.na);_e(d,"RID","rpc"),_e(d,"SID",a.M),_e(d,"AID",a.K),_e(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&_e(d,"TO",a.ia),_e(d,"TYPE","xmlhttp"),Eo(a,d),a.u&&a.o&&Sd(d,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=Xa(un(d)),f.u=null,f.R=!0,Jm(f,a)}n.Va=function(){this.C!=null&&(this.C=null,nc(this),Cd(this),lt(19))};function ic(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Ty(a,d){var f=null;if(a.g==d){ic(a),Dd(a),a.g=null;var g=2}else if(wd(a.h,d))f=d.G,ry(a.h,d),g=1;else return;if(a.I!=0){if(d.o)if(g==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var T=a.D;g=Qa(),tt(g,new Gm(g,f)),rc(a)}else wy(a);else if(T=d.m,T==3||T==0&&d.X>0||!(g==1&&H0(a,d)||g==2&&Cd(a)))switch(f&&f.length>0&&(d=a.h,d.i=d.i.concat(f)),T){case 1:Xr(a,5);break;case 4:Xr(a,10);break;case 3:Xr(a,6);break;default:Xr(a,2)}}}function Sy(a,d){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*d}function Xr(a,d){if(a.j.info("Error code "+d),d==2){var f=l(a.bb,a),g=a.Ua;let T=!g;g=new ur(g||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fo(g,"https"),Xa(g),T?V0(g.toString(),f):U0(g.toString(),f)}else lt(2);a.I=0,a.l&&a.l.pa(d),Ay(a),_y(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ay(a){if(a.I=0,a.ja=[],a.l){let d=iy(a.h);(d.length!=0||a.i.length!=0)&&(C(a.ja,d),C(a.ja,a.i),a.h.i.length=0,v(a.i),a.i.length=0),a.l.oa()}}function Cy(a,d,f){var g=f instanceof ur?un(f):new ur(f);if(g.g!="")d&&(g.g=d+"."+g.g),po(g,g.u);else{var T=o.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let D=new ur(null);g&&fo(D,g),d&&(D.g=d),T&&po(D,T),f&&(D.h=f),g=D}return f=a.G,d=a.wa,f&&d&&_e(g,f,d),_e(g,"VER",a.ka),Eo(a,g),g}function Dy(a,d,f){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new Ce(new Za({ab:f})):new Ce(a.ma),d.Fa(a.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ry(){}n=Ry.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function sc(){}sc.prototype.g=function(a,d){return new wt(a,d)};function wt(a,d){Ge.call(this),this.g=new vy(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!_(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new qi(this)}p(wt,Ge),wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Ad(this.g)},wt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=pd(a),a=f);d.i.push(new P0(d.Ya++,a)),d.I==3&&rc(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,wt.Z.N.call(this)};function Py(a){gd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(Py,gd);function Ny(){md.call(this),this.status=1}p(Ny,md);function qi(a){this.g=a}p(qi,Ry),qi.prototype.ra=function(){tt(this.g,"a")},qi.prototype.qa=function(a){tt(this.g,new Py(a))},qi.prototype.pa=function(a){tt(this.g,new Ny)},qi.prototype.oa=function(){tt(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,_p=Xn.createWebChannelTransport=function(){return new sc},vp=Xn.getStatEventTarget=function(){return Qa()},yp=Xn.Event=Qr,cl=Xn.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,_a=Xn.ErrorCode=Ya,Wm.COMPLETE="complete",mp=Xn.EventType=Wm,jm.EventType=oo,oo.OPEN="a",oo.CLOSE="b",oo.ERROR="c",oo.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Ss=Xn.WebChannel=jm,tN=Xn.FetchXmlHttpFactory=Za,Ce.prototype.listenOnce=Ce.prototype.K,Ce.prototype.getLastError=Ce.prototype.Ha,Ce.prototype.getLastErrorCode=Ce.prototype.ya,Ce.prototype.getStatus=Ce.prototype.ca,Ce.prototype.getResponseJson=Ce.prototype.La,Ce.prototype.getResponseText=Ce.prototype.la,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Fa,gp=Xn.XhrIo=Ce}).apply(typeof al<"u"?al:typeof self<"u"?self:typeof window<"u"?window:{});var Gw="@firebase/firestore",Ww="4.9.3";var Ze=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var Ks="12.7.0";var Ri=new Cr("@firebase/firestore");function As(){return Ri.logLevel}function U(n,...t){if(Ri.logLevel<=ee.DEBUG){let e=t.map(um);Ri.debug(`Firestore (${Ks}): ${n}`,...e)}}function er(n,...t){if(Ri.logLevel<=ee.ERROR){let e=t.map(um);Ri.error(`Firestore (${Ks}): ${n}`,...e)}}function Ls(n,...t){if(Ri.logLevel<=ee.WARN){let e=t.map(um);Ri.warn(`Firestore (${Ks}): ${n}`,...e)}}function um(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function H(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,LI(n,r,e)}function LI(n,t,e){let r=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw er(r),new Error(r)}function le(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||LI(t,i,r)}function Q(n,t){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends vt{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var on=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var gl=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Sp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ze.UNAUTHENTICATED))}shutdown(){}},Ap=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Cp=class{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){le(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,e(u)):Promise.resolve(),s=new on;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new on,t.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new on)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new gl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}},Dp=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Rp=class{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new Dp(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ml=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Pp=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ft(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){le(this.o===void 0,3512);let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ml(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(le(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ml(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nN(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}var Ta=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=nN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%62))}return r}};function te(n,t){return n<t?-1:n>t?1:0}function Np(n,t){let e=Math.min(n.length,t.length);for(let r=0;r<e;r++){let i=n.charAt(r),s=t.charAt(r);if(i!==s)return bp(i)===bp(s)?te(i,s):bp(i)?1:-1}return te(n.length,t.length)}var rN=55296,iN=57343;function bp(n){let t=n.charCodeAt(0);return t>=rN&&t<=iN}function xs(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}var Kw="__name__",yl=class n{constructor(t,e,r){e===void 0?e=0:e>t.length&&H(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&H(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let r=Math.min(t.length,e.length);for(let i=0;i<r;i++){let s=n.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return te(t.length,e.length)}static compareSegments(t,e){let r=n.isNumericId(t),i=n.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(t).compare(n.extractNumericId(e)):Np(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jn.fromString(t.substring(4,t.length-2))}},Ee=class n extends yl{construct(t,e,r){return new n(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let r of t){if(r.indexOf("//")>=0)throw new L(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new n(e)}static emptyPath(){return new n([])}},sN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class n extends yl{construct(t,e,r){return new n(t,e,r)}static isValidIdentifier(t){return sN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new n([Kw])}static fromServerFormat(t){let e=[],r="",i=0,s=()=>{if(r.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""},o=!1;for(;i<t.length;){let c=t[i];if(c==="\\"){if(i+1===t.length)throw new L(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new L(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var j=class n{constructor(t){this.path=t}static fromPath(t){return new n(Ee.fromString(t))}static fromName(t){return new n(Ee.fromString(t).popFirst(5))}static empty(){return new n(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ee.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Ee(t.slice()))}};function xI(n,t,e){if(!e)throw new L(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function oN(n,t,e,r){if(t===!0&&r===!0)throw new L(O.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Qw(n){if(!j.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yw(n){if(j.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jl(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":H(12329,{type:typeof n})}function tr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new L(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=Jl(n);throw new L(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function aN(n,t){if(t<=0)throw new L(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function Ue(n,t){let e={typeString:n};return t&&(e.value=t),e}function Fa(n,t){if(!FI(n))throw new L(O.INVALID_ARGUMENT,"JSON must be an object");let e;for(let r in t)if(t[r]){let i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${r}' field to equal '${s.value}'`;break}}if(e)throw new L(O.INVALID_ARGUMENT,e);return!0}var Jw=-62135596800,Xw=1e6,Be=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Xw);return new n(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Jw)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xw}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fa(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-Jw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:Ue("string",Be._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};var X=class n{static fromTimestamp(t){return new n(t)}static min(){return new n(new Be(0,0))}static max(){return new n(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sa=-1,Op=class{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}};Op.UNKNOWN_ID=-1;function cN(n,t){let e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Be(e+1,0):new Be(e,r));return new Pi(i,j.empty(),t)}function uN(n){return new Pi(n.readTime,n.key,Sa)}var Pi=class n{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new n(X.min(),j.empty(),Sa)}static max(){return new n(X.max(),j.empty(),Sa)}};function lN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=j.comparator(n.documentKey,t.documentKey),e!==0?e:te(n.largestBatchId,t.largestBatchId))}var dN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};async function Qs(n){if(n.code!==O.FAILED_PRECONDITION||n.message!==dN)throw n;U("LocalStore","Unexpectedly lost primary lease")}var k=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,r)=>{e(t)})}static reject(t){return new n((e,r)=>{r(t)})}static waitFor(t){return new n((e,r)=>{let i=0,s=0,o=!1;t.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&e()},u=>r(u))}),o=!0,s===i&&e()})}static or(t){let e=n.resolve(!1);for(let r of t)e=e.next(i=>i?n.resolve(i):r());return e}static forEach(t,e){let r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new n((r,i)=>{let s=t.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;e(t[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(t,e){return new n((r,i)=>{let s=()=>{t()===!0?e().next(()=>{s()},i):r()};s()})}};function hN(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ys(n){return n.name==="IndexedDbTransactionError"}var lm=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}n.ce=-1;return n})(),dm=-1;function Xl(n){return n==null}function Aa(n){return n===0&&1/n==-1/0}function fN(n){return typeof n=="number"&&Number.isInteger(n)&&!Aa(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var VI="";function pN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Zw(t)),t=gN(n.get(e),t);return Zw(t)}function gN(n,t){let e=t,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":e+="";break;case VI:e+="";break;default:e+=s}}return e}function Zw(n){return n+VI+""}var mN="remoteDocuments",UI="owner";var BI="mutationQueues";var $I="mutations";var jI="documentMutations",yN="remoteDocumentsV14";var zI="remoteDocumentGlobal";var HI="targets";var qI="targetDocuments";var GI="targetGlobal",WI="collectionParents";var KI="clientMetadata";var QI="bundles";var YI="namedQueries";var vN="indexConfiguration";var _N="indexState";var bN="indexEntries";var JI="documentOverlays";var EN="globals";var wN=[BI,$I,jI,mN,HI,UI,GI,qI,KI,zI,WI,QI,YI],s$=[...wN,JI],IN=[BI,$I,jI,yN,HI,UI,GI,qI,KI,zI,WI,QI,YI,JI],TN=IN,SN=[...TN,vN,_N,bN];var o$=[...SN,EN];function eI(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function qr(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function XI(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var Pe=class n{constructor(t,e){this.comparator=t,this.root=e||Dn.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){let t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ps(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ps(this.root,t,this.comparator,!0)}},Ps=class{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Dn=class n{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new n(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this,s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw H(27949);return t+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(t,e,r,i,s){return this}insert(t,e,r){return new Dn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class n{constructor(t){this.comparator=t,this.data=new Pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){let r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vl(this.data.getIterator())}getIteratorFrom(t){return new vl(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},vl=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Bt=class n{constructor(t){this.fields=t,t.sort(Ot.comparator)}static empty(){return new n([])}unionWith(t){let e=new et(Ot.comparator);for(let r of this.fields)e=e.add(r);for(let r of t)e=e.add(r);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xs(this.fields,t.fields,(e,r)=>e.isEqual(r))}};var _l=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _l("Invalid base64 string: "+s):s}})(t);return new n(e)}static fromUint8Array(t){let e=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var AN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(n){if(le(!!n,39018),typeof n=="string"){let t=0,e=AN.exec(n);if(le(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}var ZI="server_timestamp",eT="__type__",tT="__previous_value__",nT="__local_write_time__";function Zl(n){return(n?.mapValue?.fields||{})[eT]?.stringValue===ZI}function ed(n){let t=n.mapValue.fields[tT];return Zl(t)?ed(t):t}function Ca(n){let t=nr(n.mapValue.fields[nT].timestampValue);return new Be(t.seconds,t.nanos)}var Mp=class{constructor(t,e,r,i,s,o,c,u,l,h){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},bl="(default)",El=class n{constructor(t,e){this.projectId=t,this.database=e||bl}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===bl}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var hm="__type__",rT="__max__",ul={mapValue:{fields:{__type__:{stringValue:rT}}}},fm="__vector__",Fs="value";function Br(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zl(n)?4:sT(n)?9007199254740991:iT(n)?10:11:H(28295,{value:n})}function Nn(n,t){if(n===t)return!0;let e=Br(n);if(e!==Br(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ca(n).isEqual(Ca(t));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=nr(i.timestampValue),c=nr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(i,s){return rr(i.bytesValue).isEqual(rr(s.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(i,s){return we(i.geoPointValue.latitude)===we(s.geoPointValue.latitude)&&we(i.geoPointValue.longitude)===we(s.geoPointValue.longitude)})(n,t);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return we(i.integerValue)===we(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=we(i.doubleValue),c=we(s.doubleValue);return o===c?Aa(o)===Aa(c):isNaN(o)&&isNaN(c)}return!1})(n,t);case 9:return xs(n.arrayValue.values||[],t.arrayValue.values||[],Nn);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(eI(o)!==eI(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Nn(o[u],c[u])))return!1;return!0})(n,t);default:return H(52216,{left:n})}}function Da(n,t){return(n.values||[]).find(e=>Nn(e,t))!==void 0}function Vs(n,t){if(n===t)return 0;let e=Br(n),r=Br(t);if(e!==r)return te(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,t.booleanValue);case 2:return(function(s,o){let c=we(s.integerValue||s.doubleValue),u=we(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,t);case 3:return tI(n.timestampValue,t.timestampValue);case 4:return tI(Ca(n),Ca(t));case 5:return Np(n.stringValue,t.stringValue);case 6:return(function(s,o){let c=rr(s),u=rr(o);return c.compareTo(u)})(n.bytesValue,t.bytesValue);case 7:return(function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=te(c[l],u[l]);if(h!==0)return h}return te(c.length,u.length)})(n.referenceValue,t.referenceValue);case 8:return(function(s,o){let c=te(we(s.latitude),we(o.latitude));return c!==0?c:te(we(s.longitude),we(o.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return nI(n.arrayValue,t.arrayValue);case 10:return(function(s,o){let c=s.fields||{},u=o.fields||{},l=c[Fs]?.arrayValue,h=u[Fs]?.arrayValue,p=te(l?.values?.length||0,h?.values?.length||0);return p!==0?p:nI(l,h)})(n.mapValue,t.mapValue);case 11:return(function(s,o){if(s===ul.mapValue&&o===ul.mapValue)return 0;if(s===ul.mapValue)return 1;if(o===ul.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Np(u[p],h[p]);if(m!==0)return m;let v=Vs(c[u[p]],l[h[p]]);if(v!==0)return v}return te(u.length,h.length)})(n.mapValue,t.mapValue);default:throw H(23264,{he:e})}}function tI(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return te(n,t);let e=nr(n),r=nr(t),i=te(e.seconds,r.seconds);return i!==0?i:te(e.nanos,r.nanos)}function nI(n,t){let e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){let s=Vs(e[i],r[i]);if(s)return s}return te(e.length,r.length)}function Us(n){return Lp(n)}function Lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){let r=nr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return rr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return j.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(let s of e.values||[])i?i=!1:r+=",",r+=Lp(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){let r=Object.keys(e.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Lp(e.fields[o])}`;return i+"}"})(n.mapValue):H(61005,{value:n})}function hl(n){switch(Br(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=ed(n);return t?16+hl(t):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+hl(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return qr(r.fields,(s,o)=>{i+=s.length+hl(o)}),i})(n.mapValue);default:throw H(13486,{value:n})}}function wl(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function xp(n){return!!n&&"integerValue"in n}function pm(n){return!!n&&"arrayValue"in n}function rI(n){return!!n&&"nullValue"in n}function iI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fl(n){return!!n&&"mapValue"in n}function iT(n){return(n?.mapValue?.fields||{})[hm]?.stringValue===fm}function Ea(n){if(n.geoPointValue)return{geoPointValue:P({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:P({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return qr(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Ea(r)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ea(n.arrayValue.values[e]);return t}return P({},n)}function sT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rT}var c$={mapValue:{fields:{[hm]:{stringValue:fm},[Fs]:{arrayValue:{}}}}};var Nt=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!fl(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ea(e)}setAll(t){let e=Ot.emptyPath(),r={},i=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){let u=this.getFieldsMap(e);this.applyChanges(u,r,i),r={},i=[],e=c.popLast()}o?r[c.lastSegment()]=Ea(o):i.push(c.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){let e=this.field(t.popLast());fl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Nn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];fl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){qr(e,(i,s)=>t[i]=s);for(let i of r)delete t[i]}clone(){return new n(Ea(this.value))}};function oT(n){let t=[];return qr(n.fields,(e,r)=>{let i=new Ot([e]);if(fl(r)){let s=oT(r.mapValue).fields;if(s.length===0)t.push(i);else for(let o of s)t.push(i.child(o))}else t.push(i)}),new Bt(t)}var an=class n{constructor(t,e,r,i,s,o,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new n(t,0,X.min(),X.min(),X.min(),Nt.empty(),0)}static newFoundDocument(t,e,r,i){return new n(t,1,e,X.min(),r,i,0)}static newNoDocument(t,e){return new n(t,2,e,X.min(),X.min(),Nt.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,X.min(),X.min(),Nt.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $r=class{constructor(t,e){this.position=t,this.inclusive=e}};function sI(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){let s=t[i],o=n.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),e.key):r=Vs(o,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oI(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Nn(n.position[e],t.position[e]))return!1;return!0}var Ni=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function CN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var Il=class{},Ve=class n extends Il{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new Vp(t,e,r):e==="array-contains"?new $p(t,r):e==="in"?new jp(t,r):e==="not-in"?new zp(t,r):e==="array-contains-any"?new Hp(t,r):new n(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new Up(t,r):new Bp(t,r)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vs(e,this.value)):e!==null&&Br(this.value)===Br(e)&&this.matchesComparison(Vs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cn=class n extends Il{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new n(t,e)}matches(t){return aT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function aT(n){return n.op==="and"}function cT(n){return DN(n)&&aT(n)}function DN(n){for(let t of n.filters)if(t instanceof cn)return!1;return!0}function Fp(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+Us(n.value);if(cT(n))return n.filters.map(t=>Fp(t)).join(",");{let t=n.filters.map(e=>Fp(e)).join(",");return`${n.op}(${t})`}}function uT(n,t){return n instanceof Ve?(function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)})(n,t):n instanceof cn?(function(r,i){return i instanceof cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&uT(o,i.filters[c]),!0):!1})(n,t):void H(19439)}function lT(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${Us(e.value)}`})(n):n instanceof cn?(function(e){return e.op.toString()+" {"+e.getFilters().map(lT).join(" ,")+"}"})(n):"Filter"}var Vp=class extends Ve{constructor(t,e,r){super(t,e,r),this.key=j.fromName(r.referenceValue)}matches(t){let e=j.comparator(t.key,this.key);return this.matchesComparison(e)}},Up=class extends Ve{constructor(t,e){super(t,"in",e),this.keys=dT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},Bp=class extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=dT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function dT(n,t){return(t.arrayValue?.values||[]).map(e=>j.fromName(e.referenceValue))}var $p=class extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return pm(e)&&Da(e.arrayValue,this.value)}},jp=class extends Ve{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&Da(this.value.arrayValue,e)}},zp=class extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Da(this.value.arrayValue,e)}},Hp=class extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!pm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Da(this.value.arrayValue,r))}};var qp=class{constructor(t,e=null,r=[],i=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}};function aI(n,t=null,e=[],r=[],i=null,s=null,o=null){return new qp(n,t,e,r,i,s,o)}function gm(n){let t=Q(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Fp(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),Xl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Us(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Us(r)).join(",")),t.Te=e}return t.Te}function mm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!CN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!uT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oI(n.startAt,t.startAt)&&oI(n.endAt,t.endAt)}function Gp(n){return j.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ir=class{constructor(t,e=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function RN(n,t,e,r,i,s,o,c){return new ir(n,t,e,r,i,s,o,c)}function ym(n){return new ir(n)}function cI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vm(n){return n.collectionGroup!==null}function Ns(n){let t=Q(n);if(t.Ie===null){t.Ie=[];let e=new Set;for(let s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new et(Ot.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Ni(s,r))}),e.has(Ot.keyField().canonicalString())||t.Ie.push(new Ni(Ot.keyField(),r))}return t.Ie}function Rn(n){let t=Q(n);return t.Ee||(t.Ee=PN(t,Ns(n))),t.Ee}function PN(n,t){if(n.limitType==="F")return aI(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ni(i.field,s)});let e=n.endAt?new $r(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $r(n.startAt.position,n.startAt.inclusive):null;return aI(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Wp(n,t){let e=n.filters.concat([t]);return new ir(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Tl(n,t,e){return new ir(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function td(n,t){return mm(Rn(n),Rn(t))&&n.limitType===t.limitType}function hT(n){return`${gm(Rn(n))}|lt:${n.limitType}`}function Cs(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>lT(i)).join(", ")}]`),Xl(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Us(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`})(Rn(n))}; limitType=${n.limitType})`}function nd(n,t){return t.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,t)&&(function(r,i){for(let s of Ns(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,t)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,t)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){let l=sI(o,c,u);return o.inclusive?l<=0:l<0})(r.startAt,Ns(r),i)||r.endAt&&!(function(o,c,u){let l=sI(o,c,u);return o.inclusive?l>=0:l>0})(r.endAt,Ns(r),i))})(n,t)}function NN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fT(n){return(t,e)=>{let r=!1;for(let i of Ns(n)){let s=ON(i,t,e);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ON(n,t,e){let r=n.field.isKeyField()?j.comparator(t.key,e.key):(function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Vs(u,l):H(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:n.dir})}}var sr=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,(e,r)=>{for(let[i,s]of r)t(i,s)})}isEmpty(){return XI(this.inner)}size(){return this.innerSize}};var kN=new Pe(j.comparator);function or(){return kN}var pT=new Pe(j.comparator);function ba(...n){let t=pT;for(let e of n)t=t.insert(e.key,e);return t}function gT(n){let t=pT;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Si(){return wa()}function mT(){return wa()}function wa(){return new sr(n=>n.toString(),(n,t)=>n.isEqual(t))}var MN=new Pe(j.comparator),LN=new et(j.comparator);function ne(...n){let t=LN;for(let e of n)t=t.add(e);return t}var xN=new et(te);function FN(){return xN}function _m(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aa(t)?"-0":t}}function yT(n){return{integerValue:""+n}}function VN(n,t){return fN(t)?yT(t):_m(n,t)}var Bs=class{constructor(){this._=void 0}};function UN(n,t,e){return n instanceof $s?(function(i,s){let o={fields:{[eT]:{stringValue:ZI},[nT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zl(s)&&(s=ed(s)),s&&(o.fields[tT]=s),{mapValue:o}})(e,t):n instanceof Oi?_T(n,t):n instanceof ki?bT(n,t):(function(i,s){let o=vT(i,s),c=uI(o)+uI(i.Ae);return xp(o)&&xp(i.Ae)?yT(c):_m(i.serializer,c)})(n,t)}function BN(n,t,e){return n instanceof Oi?_T(n,t):n instanceof ki?bT(n,t):e}function vT(n,t){return n instanceof js?(function(r){return xp(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(t)?t:{integerValue:0}:null}var $s=class extends Bs{},Oi=class extends Bs{constructor(t){super(),this.elements=t}};function _T(n,t){let e=ET(t);for(let r of n.elements)e.some(i=>Nn(i,r))||e.push(r);return{arrayValue:{values:e}}}var ki=class extends Bs{constructor(t){super(),this.elements=t}};function bT(n,t){let e=ET(t);for(let r of n.elements)e=e.filter(i=>!Nn(i,r));return{arrayValue:{values:e}}}var js=class extends Bs{constructor(t,e){super(),this.serializer=t,this.Ae=e}};function uI(n){return we(n.integerValue||n.doubleValue)}function ET(n){return pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $N(n,t){return n.field.isEqual(t.field)&&(function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof ki&&i instanceof ki?xs(r.elements,i.elements,Nn):r instanceof js&&i instanceof js?Nn(r.Ae,i.Ae):r instanceof $s&&i instanceof $s})(n.transform,t.transform)}var Kp=class{constructor(t,e){this.version=t,this.transformResults=e}},Zn=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function pl(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var zs=class{};function wT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ra(n.key,Zn.none()):new Mi(n.key,n.data,Zn.none());{let e=n.data,r=Nt.empty(),i=new et(Ot.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new On(n.key,r,new Bt(i.toArray()),Zn.none())}}function jN(n,t,e){n instanceof Mi?(function(i,s,o){let c=i.value.clone(),u=dI(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,t,e):n instanceof On?(function(i,s,o){if(!pl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=dI(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(IT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,t,e):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function Ia(n,t,e,r){return n instanceof Mi?(function(s,o,c,u){if(!pl(s.precondition,o))return c;let l=s.value.clone(),h=hI(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(n,t,e,r):n instanceof On?(function(s,o,c,u){if(!pl(s.precondition,o))return c;let l=hI(s.fieldTransforms,u,o),h=o.data;return h.setAll(IT(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))})(n,t,e,r):(function(s,o,c){return pl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,t,e)}function zN(n,t){let e=null;for(let r of n.fieldTransforms){let i=t.data.field(r.field),s=vT(r.transform,i||null);s!=null&&(e===null&&(e=Nt.empty()),e.set(r.field,s))}return e||null}function lI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(s,o)=>$N(s,o))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var Mi=class extends zs{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends zs{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function IT(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let r=n.data.field(e);t.set(e,r)}}),t}function dI(n,t,e){let r=new Map;le(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){let s=n[i],o=s.transform,c=t.data.field(s.field);r.set(s.field,BN(o,c,e[i]))}return r}function hI(n,t,e){let r=new Map;for(let i of n){let s=i.transform,o=e.data.field(i.field);r.set(i.field,UN(s,o,t))}return r}var Ra=class extends zs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qp=class extends zs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yp=class{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){let r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(t.key)&&jN(s,t,r[i])}}applyToLocalView(t,e){for(let r of this.baseMutations)r.key.isEqual(t.key)&&(e=Ia(r,t,e,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(t.key)&&(e=Ia(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let r=mT();return this.mutations.forEach(i=>{let s=t.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=e.has(i.key)?null:c;let u=wT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ne())}isEqual(t){return this.batchId===t.batchId&&xs(this.mutations,t.mutations,(e,r)=>lI(e,r))&&xs(this.baseMutations,t.baseMutations,(e,r)=>lI(e,r))}},Jp=class n{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){le(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=(function(){return MN})(),s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(t,e,r,i)}};var Xp=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Zp=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var xe,ie;function HN(n){switch(n){case O.OK:return H(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return H(15467,{code:n})}}function TT(n){if(n===void 0)return er("GRPC error has no .code"),O.UNKNOWN;switch(n){case xe.OK:return O.OK;case xe.CANCELLED:return O.CANCELLED;case xe.UNKNOWN:return O.UNKNOWN;case xe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case xe.INTERNAL:return O.INTERNAL;case xe.UNAVAILABLE:return O.UNAVAILABLE;case xe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case xe.NOT_FOUND:return O.NOT_FOUND;case xe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case xe.ABORTED:return O.ABORTED;case xe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case xe.DATA_LOSS:return O.DATA_LOSS;default:return H(39323,{code:n})}}(ie=xe||(xe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var qN=null;function GN(){return new TextEncoder}var WN=new Jn([4294967295,4294967295],0);function fI(n){let t=GN().encode(n),e=new pp;return e.update(t),new Uint8Array(e.digest())}function pI(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Jn([e,r],0),new Jn([i,s],0)]}var eg=class n{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ai(`Invalid padding: ${e}`);if(r<0)throw new Ai(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ai(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ai(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Jn.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(Jn.fromNumber(r)));return i.compare(WN)===1&&(i=new Jn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;let e=fI(t),[r,i]=pI(e);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,e,r){let i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new n(s,i,e);return r.forEach(c=>o.insert(c)),o}insert(t){if(this.ge===0)return;let e=fI(t),[r,i]=pI(e);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.Se(o)}}Se(t){let e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}},Ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sl=class n{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){let i=new Map;return i.set(t,Pa.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new n(X.min(),i,new Pe(te),or(),ne())}},Pa=class n{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new n(r,e,ne(),ne(),ne())}};var Os=class{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}},Al=class{constructor(t,e){this.targetId=t,this.Ce=e}},Cl=class{constructor(t,e,r=ut.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}},Dl=class{constructor(){this.ve=0,this.Fe=gI(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ne(),e=ne(),r=ne();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:s})}}),new Pa(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=gI()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},tg=class{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=ll(),this.He=ll(),this.Ye=new Pe(te)}Ze(t){for(let e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(let e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{let r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:H(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((r,i)=>{this.rt(i)&&e(i)})}st(t){let e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){let s=i.target;if(Gp(s))if(r===0){let o=new j(s.path);this.et(e,o,an.newNoDocument(o,X.min()))}else le(r===1,20013,{expectedCount:r});else{let o=this._t(e);if(o!==r){let c=this.ut(t),u=c?this.ct(c,t,o):1;if(u!==0){this.it(e);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,l)}qN?.lt((function(h,p,m,v,C){let R={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},A=p.unchangedNames;return A&&(R.bloomFilter={applied:C===0,hashCount:A?.hashCount??0,bitmapLength:A?.bits?.bitmap?.length??0,padding:A?.bits?.padding??0,mightContain:M=>v?.mightContain(M)??!1}),R})(o,t.Ce,this.Ge.ht(),c,u))}}}}ut(t){let e=t.Ce.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e,o,c;try{o=rr(r).toUint8Array()}catch(u){if(u instanceof _l)return Ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new eg(o,i,s)}catch(u){return Ls(u instanceof Ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){let r=this.Ge.getRemoteKeysForTarget(e),i=0;return r.forEach(s=>{let o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.et(e,s,null),i++)}),i}Tt(t){let e=new Map;this.ze.forEach((s,o)=>{let c=this.ot(o);if(c){if(s.current&&Gp(c.target)){let u=new j(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,an.newNoDocument(u,t))}s.Be&&(e.set(o,s.ke()),s.qe())}});let r=ne();this.He.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));let i=new Sl(t,e,this.Ye,this.je,r);return this.je=or(),this.Je=ll(),this.He=ll(),this.Ye=new Pe(te),i}Xe(t,e){if(!this.rt(t))return;let r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;let i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){let e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Dl,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new et(te),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new et(te),this.Je=this.Je.insert(t,e)),e}rt(t){let e=this.ot(t)!==null;return e||U("WatchChangeAggregator","Detected inactive target",t),e}ot(t){let e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Dl),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}};function ll(){return new Pe(j.comparator)}function gI(){return new Pe(j.comparator)}var KN={asc:"ASCENDING",desc:"DESCENDING"},QN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"},ng=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function rg(n,t){return n.useProto3Json||Xl(t)?t:{value:t}}function Rl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function JN(n,t){return Rl(n,t.toTimestamp())}function Pn(n){return le(!!n,49232),X.fromTimestamp((function(e){let r=nr(e);return new Be(r.seconds,r.nanos)})(n))}function bm(n,t){return ig(n,t).canonicalString()}function ig(n,t){let e=(function(i){return new Ee(["projects",i.projectId,"databases",i.database])})(n).child("documents");return t===void 0?e:e.child(t)}function AT(n){let t=Ee.fromString(n);return le(NT(t),10190,{key:t.toString()}),t}function sg(n,t){return bm(n.databaseId,t.path)}function Ep(n,t){let e=AT(t);if(e.get(1)!==n.databaseId.projectId)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new j(DT(e))}function CT(n,t){return bm(n.databaseId,t)}function XN(n){let t=AT(n);return t.length===4?Ee.emptyPath():DT(t)}function og(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DT(n){return le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mI(n,t,e){return{name:sg(n,t),fields:e.value.mapValue.fields}}function ZN(n,t){let e;if("targetChange"in t){t.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=(function(l,h){return l.useProto3Json?(le(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))})(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&(function(l){let h=l.code===void 0?O.UNKNOWN:TT(l.code);return new L(h,l.message||"")})(o);e=new Cl(r,i,s,c||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ep(n,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):X.min(),c=new Nt({mapValue:{fields:r.document.fields}}),u=an.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];e=new Os(l,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Ep(n,r.document),s=r.readTime?Pn(r.readTime):X.min(),o=an.newNoDocument(i,s),c=r.removedTargetIds||[];e=new Os([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Ep(n,r.document),s=r.removedTargetIds||[];e=new Os([],s,i,null)}else{if(!("filter"in t))return H(11601,{Rt:t});{t.filter;let r=t.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Zp(i,s),c=r.targetId;e=new Al(c,o)}}return e}function eO(n,t){let e;if(t instanceof Mi)e={update:mI(n,t.key,t.value)};else if(t instanceof Ra)e={delete:sg(n,t.key)};else if(t instanceof On)e={update:mI(n,t.key,t.data),updateMask:uO(t.fieldMask)};else{if(!(t instanceof Qp))return H(16599,{Vt:t.type});e={verify:sg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>(function(s,o){let c=o.transform;if(c instanceof $s)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ki)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof js)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw H(20930,{transform:o.transform})})(0,r))),t.precondition.isNone||(e.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:JN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H(27497)})(n,t.precondition)),e}function tO(n,t){return n&&n.length>0?(le(t!==void 0,14353),n.map(e=>(function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(X.min())&&(o=Pn(s)),new Kp(o,i.transformResults||[])})(e,t))):[]}function nO(n,t){return{documents:[CT(n,t.path)]}}function rO(n,t){let e={structuredQuery:{}},r=t.path,i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=CT(n,i);let s=(function(l){if(l.length!==0)return PT(cn.create(l,"and"))})(t.filters);s&&(e.structuredQuery.where=s);let o=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Ds(m.field),direction:oO(m.dir)}})(h))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);let c=rg(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(t.endAt)),{ft:e,parent:i}}function iO(n){let t=XN(n.parent),e=n.structuredQuery,r=e.from?e.from.length:0,i=null;if(r>0){le(r===1,65062);let h=e.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];e.where&&(s=(function(p){let m=RT(p);return m instanceof cn&&cT(m)?m.getFilters():[m]})(e.where));let o=[];e.orderBy&&(o=(function(p){return p.map(m=>(function(C){return new Ni(Rs(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m))})(e.orderBy));let c=null;e.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,Xl(m)?null:m})(e.limit));let u=null;e.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new $r(v,m)})(e.startAt));let l=null;return e.endAt&&(l=(function(p){let m=!p.before,v=p.values||[];return new $r(v,m)})(e.endAt)),RN(t,i,o,s,c,"F",u,l)}function sO(n,t){let e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function RT(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":let r=Rs(e.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Rs(e.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Rs(e.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Rs(e.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create(Rs(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return cn.create(e.compositeFilter.filters.map(r=>RT(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}})(e.compositeFilter.op))})(n):H(30097,{filter:n})}function oO(n){return KN[n]}function aO(n){return QN[n]}function cO(n){return YN[n]}function Ds(n){return{fieldPath:n.canonicalString()}}function Rs(n){return Ot.fromServerFormat(n.fieldPath)}function PT(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(iI(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NAN"}};if(rI(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(iI(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NAN"}};if(rI(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(e.field),op:aO(e.op),value:e.value}}})(n):n instanceof cn?(function(e){let r=e.getFilters().map(i=>PT(i));return r.length===1?r[0]:{compositeFilter:{op:cO(e.op),filters:r}}})(n):H(54877,{filter:n})}function uO(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function NT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Na=class n{constructor(t,e,r,i,s=X.min(),o=X.min(),c=ut.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var ag=class{constructor(t){this.yt=t}};function lO(n){let t=iO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tl(t,t.limit,"L"):t}var Pl=class{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(we(t.integerValue));else if("doubleValue"in t){let r=we(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),Aa(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=nr(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(rr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){let r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?sT(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):iT(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):H(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){let r=t.fields||{};this.Ft(e,55);for(let i of Object.keys(r))this.Ot(i,e),this.Ct(r[i],e)}kt(t,e){let r=t.fields||{};this.Ft(e,53);let i=Fs,s=r[i].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(we(s)),this.Ot(i,e),this.Ct(r[i],e)}Qt(t,e){let r=t.values||[];this.Ft(e,50);for(let i of r)this.Ct(i,e)}Lt(t,e){this.Ft(e,37),j.fromName(t).path.forEach(r=>{this.Ft(e,60),this.Ut(r,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}};Pl.Kt=new Pl;var cg=class{constructor(){this.Cn=new ug}addToCollectionParentIndex(t,e){return this.Cn.add(e),k.resolve()}getCollectionParents(t,e){return k.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return k.resolve()}deleteFieldIndex(t,e){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,e){return k.resolve()}getDocumentsMatchingTarget(t,e){return k.resolve(null)}getIndexType(t,e){return k.resolve(0)}getFieldIndexes(t,e){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,e){return k.resolve(Pi.min())}getMinOffsetFromCollectionGroup(t,e){return k.resolve(Pi.min())}updateCollectionGroup(t,e,r){return k.resolve()}updateIndexEntries(t,e){return k.resolve()}},ug=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new et(Ee.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){let e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new et(Ee.comparator)).toArray()}};var u$=new Uint8Array(0);var yI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040,Ut=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}};Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(OT,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);var Oa=class n{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var vI="LruGarbageCollector",dO=1048576;function _I([n,t],[e,r]){let i=te(n,e);return i===0?te(t,r):i}var lg=class{constructor(t){this.Ir=t,this.buffer=new et(_I),this.Er=0}dr(){return++this.Er}Ar(t){let e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{let r=this.buffer.last();_I(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}},dg=class{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){U(vI,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ys(e)?U(vI,"Ignoring IndexedDB error during garbage collection: ",e):await Qs(e)}await this.Vr(3e5)})}},hg=class{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return k.resolve(lm.ce);let r=new lg(e);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(yI)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yI):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,s,o,c,u,l,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(t,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(t,r,e))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(l=Date.now(),As()<=ee.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function hO(n,t){return new hg(n,t)}var fg=class{constructor(){this.changes=new sr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let r=this.changes.get(e);return r!==void 0?k.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var pg=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var gg=class{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(r!==null&&Ia(r.mutation,i,Bt.empty(),Be.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ne()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ne()){let i=Si();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=ba();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let r=Si();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ne()))}populateOverlays(t,e,r){let i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,r,i){let s=or(),o=wa(),c=(function(){return wa()})();return e.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof On)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ia(h.mutation,l,h.mutation.getFieldMask(),Be.now())):o.set(l.key,Bt.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),e.forEach((l,h)=>c.set(l,new pg(h,o.get(l)??null))),c))}recalculateAndSaveOverlays(t,e){let r=wa(),i=new Pe((o,c)=>o-c),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=e.get(u);if(l===null)return;let h=r.get(u)||Bt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ne()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=mT();h.forEach(m=>{if(!s.has(m)){let v=wT(e.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,p))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return(function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):vm(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):k.resolve(Si()),c=Sa,u=s;return o.next(l=>k.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?k.resolve():this.remoteDocumentCache.getEntry(t,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,ne())).next(h=>({batchId:c,changes:gT(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new j(e)).next(r=>{let i=ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){let s=e.collectionGroup,o=ba();return this.indexManager.getCollectionParents(t,s).next(c=>k.forEach(c,u=>{let l=(function(p,m){return new ir(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,an.newInvalidDocument(h)))});let c=ba();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ia(h.mutation,l,Bt.empty(),Be.now()),nd(e,l)&&(c=c.insert(u,l))}),c})}};var mg=class{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return k.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}})(e)),k.resolve()}getNamedQuery(t,e){return k.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:lO(i.bundledQuery),readTime:Pn(i.readTime)}})(e)),k.resolve()}};var yg=class{constructor(){this.overlays=new Pe(j.comparator),this.qr=new Map}getOverlay(t,e){return k.resolve(this.overlays.get(e))}getOverlays(t,e){let r=Si();return k.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.St(t,e,s)}),k.resolve()}removeOverlaysForBatchId(t,e,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),k.resolve()}getOverlaysForCollection(t,e,r){let i=Si(),s=e.length+1,o=new j(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Pe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Si(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return k.resolve(c)}St(t,e,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Xp(e,r));let s=this.qr.get(e);s===void 0&&(s=ne(),this.qr.set(e,s)),this.qr.set(e,s.add(r.key))}};var vg=class{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,k.resolve()}};var ka=class{constructor(){this.Qr=new et(Fe.$r),this.Ur=new et(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){let r=new Fe(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Gr(new Fe(t,e))}zr(t,e){t.forEach(r=>this.removeReference(r,e))}jr(t){let e=new j(new Ee([])),r=new Fe(e,t),i=new Fe(e,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){let e=new j(new Ee([])),r=new Fe(e,t),i=new Fe(e,t+1),s=ne();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new Fe(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}},Fe=class{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return j.comparator(t.key,e.key)||te(t.Yr,e.Yr)}static Kr(t,e){return te(t.Yr,e.Yr)||j.comparator(t.key,e.key)}};var _g=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new et(Fe.$r)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){let s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Yp(s,e,r,i);this.mutationQueue.push(o);for(let c of i)this.Zr=this.Zr.add(new Fe(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return k.resolve(o)}lookupMutationBatch(t,e){return k.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){let r=e+1,i=this.ei(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let r=new Fe(e,0),i=new Fe(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{let c=this.Xr(o.Yr);s.push(c)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new et(te);return e.forEach(i=>{let s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],c=>{r=r.add(c.Yr)})}),k.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){let r=e.path,i=r.length+1,s=r;j.isDocumentKey(s)||(s=s.child(""));let o=new Fe(new j(s),0),c=new et(te);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Yr)),!0)},o),k.resolve(this.ti(c))}ti(t){let e=[];return t.forEach(r=>{let i=this.Xr(r);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){le(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return k.forEach(e.mutations,i=>{let s=new Fe(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,e){let r=new Fe(e,0),i=this.Zr.firstAfterOrEqual(r);return k.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){let e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var bg=class{constructor(t){this.ri=t,this.docs=(function(){return new Pe(j.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let r=this.docs.get(e);return k.resolve(r?r.document.mutableCopy():an.newInvalidDocument(e))}getEntries(t,e){let r=or();return e.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():an.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=or(),o=e.path,c=new j(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||lN(uN(h),r)<=0||(i.has(h.key)||nd(e,h))&&(s=s.insert(h.key,h.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,e,r,i){H(9500)}ii(t,e){return k.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Eg(this)}getSize(t){return k.resolve(this.size)}},Eg=class extends fg{constructor(t){super(),this.Nr=t}applyChanges(t){let e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),k.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}};var wg=class{constructor(t){this.persistence=t,this.si=new sr(e=>gm(e),mm),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.oi=0,this._i=new ka,this.targetCount=0,this.ai=Oa.ur()}forEachTarget(t,e){return this.si.forEach((r,i)=>e(i)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),k.resolve()}Pr(t){this.si.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.ai=new Oa(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,k.resolve()}updateTargetData(t,e){return this.Pr(e),k.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,e,r){let i=0,s=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,e){let r=this.si.get(e)||null;return k.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),k.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);let i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),k.resolve()}getMatchingKeysForTargetId(t,e){let r=this._i.Hr(e);return k.resolve(r)}containsKey(t,e){return k.resolve(this._i.containsKey(e))}};var Nl=class{constructor(t,e){this.ui={},this.overlays={},this.ci=new lm(0),this.li=!1,this.li=!0,this.hi=new vg,this.referenceDelegate=t(this),this.Pi=new wg(this),this.indexManager=new cg,this.remoteDocumentCache=(function(i){return new bg(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new ag(e),this.Ii=new mg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yg,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new _g(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){U("MemoryPersistence","Starting transaction:",t);let i=new Ig(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,e){return k.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,e)))}},Ig=class extends kp{constructor(t){super(),this.currentSequenceNumber=t}},Tg=class n{constructor(t){this.persistence=t,this.Ri=new ka,this.Vi=null}static mi(t){return new n(t)}get fi(){if(this.Vi)return this.Vi;throw H(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),k.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),k.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,r=>{let i=j.fromPath(r);return this.gi(t,i).next(s=>{s||e.removeEntry(i,X.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return k.or([()=>k.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}},Ol=class n{constructor(t,e){this.persistence=t,this.pi=new sr(r=>pN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hO(this,e)}static mi(t,e){return new n(t,e)}Ei(){}di(t){return k.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){let e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}wr(t){let e=0;return this.pr(t,r=>{e++}).next(()=>e)}pr(t,e){return k.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?k.resolve():e(i)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,e).next(c=>{c||(r++,s.removeEntry(o,X.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),k.resolve()}removeTarget(t,e){let r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),k.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hl(t.data.value)),e}br(t,e,r){return k.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let i=this.pi.get(e);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var Sg=class n{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=ne(),i=ne();for(let s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(t,e.fromCache,r,i)}};var Ag=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Cg=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kb()?8:hN(Ye())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){let s={result:null};return this.ys(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,e,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ag;return this.Ss(t,e,o).next(c=>{if(s.result=c,this.Vs)return this.bs(t,e,o,c.size)})}).next(()=>s.result)}bs(t,e,r,i){return r.documentReadCount<this.fs?(As()<=ee.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Cs(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(As()<=ee.DEBUG&&U("QueryEngine","Query:",Cs(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(As()<=ee.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Cs(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rn(e))):k.resolve())}ys(t,e){if(cI(e))return k.resolve(null);let r=Rn(e);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=Tl(e,null,"F"),r=Rn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{let o=ne(...s);return this.ps.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,r).next(u=>{let l=this.Ds(e,c);return this.Cs(e,l,o,u.readTime)?this.ys(t,Tl(e,null,"F")):this.vs(t,l,e,u)}))})))}ws(t,e,r,i){return cI(e)||i.isEqual(X.min())?k.resolve(null):this.ps.getDocuments(t,r).next(s=>{let o=this.Ds(e,s);return this.Cs(e,o,r,i)?k.resolve(null):(As()<=ee.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(e)),this.vs(t,o,e,cN(i,Sa)).next(c=>c))})}Ds(t,e){let r=new et(fT(t));return e.forEach((i,s)=>{nd(t,s)&&(r=r.add(s))}),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,r){return As()<=ee.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Cs(e)),this.ps.getDocumentsMatchingQuery(t,e,Pi.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Em="LocalStore",fO=3e8,Dg=class{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Pe(te),this.xs=new sr(s=>gm(s),mm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gg(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}};function pO(n,t,e,r){return new Dg(n,t,e,r)}async function kT(n,t){let e=Q(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ne();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return e.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:o,addedBatchIds:c}))})})}function gO(n,t){let e=Q(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,m=p.keys(),v=k.resolve();return m.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(R=>{let A=l.docVersions.get(C);le(A!==null,48541),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ne();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function MT(n){let t=Q(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function mO(n,t){let e=Q(n),r=t.snapshotVersion,i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;let c=[];t.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(e.Pi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>e.Pi.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?v=v.withResumeToken(ut.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(R,A,M){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=fO?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(m,v,h)&&c.push(e.Pi.updateTargetData(s,v))});let u=or(),l=ne();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push(yO(s,o,t.documentUpdates).next(h=>{u=h.ks,l=h.qs})),!r.isEqual(X.min())){let h=e.Pi.getLastRemoteSnapshotVersion(s).next(p=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return k.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(e.Ms=i,s))}function yO(n,t,e){let r=ne(),i=ne();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=or();return e.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):U(Em,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{ks:o,qs:i}})}function vO(n,t){let e=Q(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=dm),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function _O(n,t){let e=Q(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Pi.getTargetData(r,t).next(s=>s?(i=s,k.resolve(i)):e.Pi.allocateTargetId(r).next(o=>(i=new Na(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r})}async function Rg(n,t,e){let r=Q(n),i=r.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ys(o))throw o;U(Em,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function bI(n,t,e){let r=Q(n),i=X.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(u,l,h){let p=Q(u),m=p.xs.get(h);return m!==void 0?k.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,h)})(r,o,Rn(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,e?i:X.min(),e?s:ne())).next(c=>(bO(r,NN(t),c),{documents:c,Qs:s})))}function bO(n,t,e){let r=n.Os.get(t)||X.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(t,r)}var kl=class{constructor(){this.activeTargetIds=FN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Pg=class{constructor(){this.Mo=new kl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kl,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Ng=class{Oo(t){}shutdown(){}};var EI="ConnectivityMonitor",Ml=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){U(EI,"Network connectivity changed: AVAILABLE");for(let t of this.qo)t(0)}ko(){U(EI,"Network connectivity changed: UNAVAILABLE");for(let t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var dl=null;function Og(){return dl===null?dl=(function(){return 268435456+Math.round(2147483648*Math.random())})():dl++,"0x"+dl.toString(16)}var wp="RestConnection",EO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},kg=class{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,s){let o=Og(),c=this.zo(t,e.toUriEncodedString());U(wp,`Sending RPC '${t}' ${o}:`,c,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);let{host:l}=new URL(c),h=wn(l);return this.Jo(t,c,u,r,h).then(p=>(U(wp,`Received RPC '${t}' ${o}: `,p),p),p=>{throw Ls(wp,`RPC '${t}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(t,e,r,i,s,o){return this.Go(t,e,r,i,s)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ks})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,e){let r=EO[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}};var Mg=class{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}};var ct="WebChannelConnection",Lg=class extends kg{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,s){let o=Og();return new Promise((c,u)=>{let l=new gp;l.setWithCredentials(!0),l.listenOnce(mp.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _a.NO_ERROR:let p=l.getResponseJson();U(ct,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),c(p);break;case _a.TIMEOUT:U(ct,`RPC '${t}' ${o} timed out`),u(new L(O.DEADLINE_EXCEEDED,"Request time out"));break;case _a.HTTP_ERROR:let m=l.getStatus();if(U(ct,`RPC '${t}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let C=v?.error;if(C&&C.status&&C.message){let R=(function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN})(C.status);u(new L(R,C.message))}else u(new L(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(O.UNAVAILABLE,"Connection failed."));break;default:H(9055,{l_:t,streamId:o,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{U(ct,`RPC '${t}' ${o} completed.`)}});let h=JSON.stringify(i);U(ct,`RPC '${t}' ${o} sending request:`,i),l.send(e,"POST",h,r,15)})}T_(t,e,r){let i=Og(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=_p(),c=vp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,e,r),u.encodeInitMessageHeaders=!0;let h=s.join("");U(ct,`Creating RPC '${t}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u);this.I_(p);let m=!1,v=!1,C=new Mg({Yo:A=>{v?U(ct,`Not sending because RPC '${t}' stream ${i} is closed:`,A):(m||(U(ct,`Opening RPC '${t}' stream ${i} transport.`),p.open(),m=!0),U(ct,`RPC '${t}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),R=(A,M,V)=>{A.listen(M,$=>{try{V($)}catch(W){setTimeout(()=>{throw W},0)}})};return R(p,Ss.EventType.OPEN,()=>{v||(U(ct,`RPC '${t}' stream ${i} transport opened.`),C.o_())}),R(p,Ss.EventType.CLOSE,()=>{v||(v=!0,U(ct,`RPC '${t}' stream ${i} transport closed`),C.a_(),this.E_(p))}),R(p,Ss.EventType.ERROR,A=>{v||(v=!0,Ls(ct,`RPC '${t}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),C.a_(new L(O.UNAVAILABLE,"The operation could not be completed")))}),R(p,Ss.EventType.MESSAGE,A=>{if(!v){let M=A.data[0];le(!!M,16349);let V=M,$=V?.error||V[0]?.error;if($){U(ct,`RPC '${t}' stream ${i} received error:`,$);let W=$.status,se=(function(y){let b=xe[y];if(b!==void 0)return TT(b)})(W),re=$.message;se===void 0&&(se=O.INTERNAL,re="Unknown error status: "+W+" with message "+$.message),v=!0,C.a_(new L(se,re)),p.close()}else U(ct,`RPC '${t}' stream ${i} received:`,M),C.u_(M)}}),R(c,yp.STAT_EVENT,A=>{A.stat===cl.PROXY?U(ct,`RPC '${t}' stream ${i} detected buffering proxy`):A.stat===cl.NOPROXY&&U(ct,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}};function Ip(){return typeof document<"u"?document:null}function rd(n){return new ng(n,!0)}var Ll=class{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();let e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var wI="PersistentStream",xl=class{constructor(t,e,r,i,s,o,c,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ll(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===O.RESOURCE_EXHAUSTED?(er(e.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;let t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===e&&this.G_(r,i)},r=>{t(()=>{let i=new L(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,e){let r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return U(wI,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(U(wI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xg=class extends xl{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();let e=ZN(this.serializer,t),r=(function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?Pn(o.readTime):X.min()})(t);return this.listener.H_(e,r)}Y_(t){let e={};e.database=og(this.serializer),e.addTarget=(function(s,o){let c,u=o.target;if(c=Gp(u)?{documents:nO(s,u)}:{query:rO(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=ST(s,o.resumeToken);let l=rg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){c.readTime=Rl(s,o.snapshotVersion.toTimestamp());let l=rg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,t);let r=sO(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){let e={};e.database=og(this.serializer),e.removeTarget=t,this.q_(e)}},Fg=class extends xl{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return le(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,le(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){le(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();let e=tO(t.writeResults,t.commitTime),r=Pn(t.commitTime);return this.listener.na(r,e)}ra(){let t={};t.database=og(this.serializer),this.q_(t)}ea(t){let e={streamToken:this.lastStreamToken,writes:t.map(r=>eO(this.serializer,r))};this.q_(e)}};var Vg=class{},Ug=class extends Vg{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,ig(e,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(O.UNKNOWN,s.toString())})}Ho(t,e,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(t,ig(e,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},Bg=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(e),this.aa=!1):U("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Li="RemoteStore",$g=class{constructor(t,e,r,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{xi(this)&&(U(Li,"Restarting streams for network reachability change."),await(async function(u){let l=Q(u);l.Ea.add(4),await Va(l),l.Ra.set("Unknown"),l.Ea.delete(4),await id(l)})(this))})}),this.Ra=new Bg(r,i)}};async function id(n){if(xi(n))for(let t of n.da)await t(!0)}async function Va(n){for(let t of n.da)await t(!1)}function LT(n,t){let e=Q(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Sm(e)?Tm(e):Js(e).O_()&&Im(e,t))}function wm(n,t){let e=Q(n),r=Js(e);e.Ia.delete(t),r.O_()&&xT(e,t),e.Ia.size===0&&(r.O_()?r.L_():xi(e)&&e.Ra.set("Unknown"))}function Im(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Js(n).Y_(t)}function xT(n,t){n.Va.Ue(t),Js(n).Z_(t)}function Tm(n){n.Va=new tg({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Js(n).start(),n.Ra.ua()}function Sm(n){return xi(n)&&!Js(n).x_()&&n.Ia.size>0}function xi(n){return Q(n).Ea.size===0}function FT(n){n.Va=void 0}async function wO(n){n.Ra.set("Online")}async function IO(n){n.Ia.forEach((t,e)=>{Im(n,t)})}async function TO(n,t){FT(n),Sm(n)?(n.Ra.ha(t),Tm(n)):n.Ra.set("Unknown")}async function SO(n,t,e){if(n.Ra.set("Online"),t instanceof Cl&&t.state===2&&t.cause)try{await(async function(i,s){let o=s.cause;for(let c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(n,t)}catch(r){U(Li,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Fl(n,r)}else if(t instanceof Os?n.Va.Ze(t):t instanceof Al?n.Va.st(t):n.Va.tt(t),!e.isEqual(X.min()))try{let r=await MT(n.localStore);e.compareTo(r)>=0&&await(function(s,o){let c=s.Va.Tt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.Ia.get(l);h&&s.Ia.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),xT(s,u);let p=new Na(h.target,u,l,h.sequenceNumber);Im(s,p)}),s.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){U(Li,"Failed to raise snapshot:",r),await Fl(n,r)}}async function Fl(n,t,e){if(!Ys(t))throw t;n.Ea.add(1),await Va(n),n.Ra.set("Offline"),e||(e=()=>MT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{U(Li,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await id(n)})}function VT(n,t){return t().catch(e=>Fl(n,e,t))}async function sd(n){let t=Q(n),e=jr(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dm;for(;AO(t);)try{let i=await vO(t.localStore,r);if(i===null){t.Ta.length===0&&e.L_();break}r=i.batchId,CO(t,i)}catch(i){await Fl(t,i)}UT(t)&&BT(t)}function AO(n){return xi(n)&&n.Ta.length<10}function CO(n,t){n.Ta.push(t);let e=jr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function UT(n){return xi(n)&&!jr(n).x_()&&n.Ta.length>0}function BT(n){jr(n).start()}async function DO(n){jr(n).ra()}async function RO(n){let t=jr(n);for(let e of n.Ta)t.ea(e.mutations)}async function PO(n,t,e){let r=n.Ta.shift(),i=Jp.from(r,t,e);await VT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await sd(n)}async function NO(n,t){t&&jr(n).X_&&await(async function(r,i){if((function(o){return HN(o)&&o!==O.ABORTED})(i.code)){let s=r.Ta.shift();jr(r).B_(),await VT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sd(r)}})(n,t),UT(n)&&BT(n)}async function II(n,t){let e=Q(n);e.asyncQueue.verifyOperationInProgress(),U(Li,"RemoteStore received new credentials");let r=xi(e);e.Ea.add(3),await Va(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await id(e)}async function OO(n,t){let e=Q(n);t?(e.Ea.delete(2),await id(e)):t||(e.Ea.add(2),await Va(e),e.Ra.set("Unknown"))}function Js(n){return n.ma||(n.ma=(function(e,r,i){let s=Q(e);return s.sa(),new xg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:wO.bind(null,n),t_:IO.bind(null,n),r_:TO.bind(null,n),H_:SO.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Sm(n)?Tm(n):n.Ra.set("Unknown")):(await n.ma.stop(),FT(n))})),n.ma}function jr(n){return n.fa||(n.fa=(function(e,r,i){let s=Q(e);return s.sa(),new Fg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:DO.bind(null,n),r_:NO.bind(null,n),ta:RO.bind(null,n),na:PO.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await sd(n)):(await n.fa.stop(),n.Ta.length>0&&(U(Li,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var jg=class n{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){let o=Date.now()+r,c=new n(t,e,o,i,s);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Am(n,t){if(er("AsyncQueue",`${t}: ${n}`),Ys(n))return new L(O.UNAVAILABLE,`${t}: ${n}`);throw n}var Vl=class n{static emptySet(t){return new n(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||j.comparator(e.key,r.key):(e,r)=>j.comparator(e.key,r.key),this.keyedMap=ba(),this.sortedSet=new Pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){let i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let r=new n;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}};var Ul=class{constructor(){this.ga=new Pe(j.comparator)}track(t){let e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):H(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){let t=[];return this.ga.inorderTraversal((e,r)=>{t.push(r)}),t}},Hs=class n{constructor(t,e,r,i,s,o,c,u,l){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,e,r,i,s){let o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new n(t,e,Vl.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&td(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}};var zg=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}},Hg=class{constructor(){this.queries=TI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){let i=Q(e),s=i.queries;i.queries=TI(),s.forEach((o,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new L(O.ABORTED,"Firestore shutting down"))}};function TI(){return new sr(n=>hT(n),td)}async function $T(n,t){let e=Q(n),r=3,i=t.query,s=e.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new zg,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){let c=Am(o,`Initialization of query '${Cs(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&Cm(e)}async function jT(n,t){let e=Q(n),r=t.query,i=3,s=e.queries.get(r);if(s){let o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function kO(n,t){let e=Q(n),r=!1;for(let i of t){let s=i.query,o=e.queries.get(s);if(o){for(let c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&Cm(e)}function MO(n,t,e){let r=Q(n),i=r.queries.get(t);if(i)for(let s of i.Sa)s.onError(e);r.queries.delete(t)}function Cm(n){n.Ca.forEach(t=>{t.next()})}var qg,SI;(SI=qg||(qg={})).Ma="default",SI.Cache="cache";var Bl=class{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){let r=[];for(let i of t.docChanges)i.type!==3&&r.push(i);t=new Hs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;let r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;let e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Hs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qg.Cache}};var $l=class{constructor(t){this.key=t}},jl=class{constructor(t){this.key=t}},Gg=class{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ne(),this.mutatedKeys=ne(),this.eu=fT(t),this.tu=new Vl(this.eu)}get nu(){return this.Ya}ru(t,e){let r=e?e.iu:new Ul,i=e?e.tu:this.tu,s=e?e.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,p)=>{let m=i.get(h),v=nd(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),A=!1;m&&v?m.data.isEqual(v.data)?C!==R&&(r.track({type:3,doc:v}),A=!0):this.su(m,v)||(r.track({type:2,doc:v}),A=!0,(u&&this.eu(v,u)>0||l&&this.eu(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),A=!0):m&&!v&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(c=!0)),A&&(v?(o=o.add(v),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:c,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){let s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;let o=t.iu.ya();o.sort((h,p)=>(function(v,C){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{Rt:A})}};return R(v)-R(C)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let c=e&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,o.length!==0||l?{snapshot:new Hs(this.query,t.tu,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ul,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];let t=this.Xa;this.Xa=ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let e=[];return t.forEach(r=>{this.Xa.has(r)||e.push(new jl(r))}),this.Xa.forEach(r=>{t.has(r)||e.push(new $l(r))}),e}cu(t){this.Ya=t.Qs,this.Xa=ne();let e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Hs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Dm="SyncEngine",Wg=class{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}},Kg=class{constructor(t){this.key=t,this.hu=!1}},Qg=class{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new sr(c=>hT(c),td),this.Iu=new Map,this.Eu=new Set,this.du=new Pe(j.comparator),this.Au=new Map,this.Ru=new ka,this.Vu={},this.mu=new Map,this.fu=Oa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function LO(n,t,e=!0){let r=KT(n),i,s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await zT(r,t,e,!0),i}async function xO(n,t){let e=KT(n);await zT(e,t,!0,!1)}async function zT(n,t,e,r){let i=await _O(n.localStore,Rn(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e),c;return r&&(c=await FO(n,t,s,o==="current",i.resumeToken)),n.isPrimaryClient&&e&&LT(n.remoteStore,i),c}async function FO(n,t,e,r,i){n.pu=(p,m,v)=>(async function(R,A,M,V){let $=A.view.ru(M);$.Cs&&($=await bI(R.localStore,A.query,!1).then(({documents:E})=>A.view.ru(E,$)));let W=V&&V.targetChanges.get(A.targetId),se=V&&V.targetMismatches.get(A.targetId)!=null,re=A.view.applyChanges($,R.isPrimaryClient,W,se);return CI(R,A.targetId,re.au),re.snapshot})(n,p,m,v);let s=await bI(n.localStore,t,!0),o=new Gg(t,s.Qs),c=o.ru(s.documents),u=Pa.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);CI(n,e,l.au);let h=new Wg(t,e,o);return n.Tu.set(t,h),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),l.snapshot}async function VO(n,t,e){let r=Q(n),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!td(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&wm(r.remoteStore,i.targetId),Yg(r,i.targetId)}).catch(Qs)):(Yg(r,i.targetId),await Rg(r.localStore,i.targetId,!0))}async function UO(n,t){let e=Q(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),wm(e.remoteStore,r.targetId))}async function BO(n,t,e){let r=WO(n);try{let i=await(function(o,c){let u=Q(o),l=Be.now(),h=c.reduce((v,C)=>v.add(C.key),ne()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=or(),R=ne();return u.Ns.getEntries(v,h).next(A=>{C=A,C.forEach((M,V)=>{V.isValidDocument()||(R=R.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(A=>{p=A;let M=[];for(let V of c){let $=zN(V,p.get(V.key).overlayedDocument);$!=null&&M.push(new On(V.key,$,oT($.value.mapValue),Zn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,M,c)}).next(A=>{m=A;let M=A.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(v,A.batchId,M)})}).then(()=>({batchId:m.batchId,changes:gT(p)}))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,u){let l=o.Vu[o.currentUser.toKey()];l||(l=new Pe(te)),l=l.insert(c,u),o.Vu[o.currentUser.toKey()]=l})(r,i.batchId,e),await Ua(r,i.changes),await sd(r.remoteStore)}catch(i){let s=Am(i,"Failed to persist write");e.reject(s)}}async function HT(n,t){let e=Q(n);try{let r=await mO(e.localStore,t);t.targetChanges.forEach((i,s)=>{let o=e.Au.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?le(o.hu,14607):i.removedDocuments.size>0&&(le(o.hu,42227),o.hu=!1))}),await Ua(e,r,t)}catch(r){await Qs(r)}}function AI(n,t,e){let r=Q(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){let i=[];r.Tu.forEach((s,o)=>{let c=o.view.va(t);c.snapshot&&i.push(c.snapshot)}),(function(o,c){let u=Q(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.va(c)&&(l=!0)}),l&&Cm(u)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $O(n,t,e){let r=Q(n);r.sharedClientState.updateQueryState(t,"rejected",e);let i=r.Au.get(t),s=i&&i.key;if(s){let o=new Pe(j.comparator);o=o.insert(s,an.newNoDocument(s,X.min()));let c=ne().add(s),u=new Sl(X.min(),new Map,new Pe(te),o,c);await HT(r,u),r.du=r.du.remove(s),r.Au.delete(t),Rm(r)}else await Rg(r.localStore,t,!1).then(()=>Yg(r,t,e)).catch(Qs)}async function jO(n,t){let e=Q(n),r=t.batch.batchId;try{let i=await gO(e.localStore,t);GT(e,r,null),qT(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Ua(e,i)}catch(i){await Qs(i)}}async function zO(n,t,e){let r=Q(n);try{let i=await(function(o,c){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(le(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,t);GT(r,t,e),qT(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Ua(r,i)}catch(i){await Qs(i)}}function qT(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function GT(n,t,e){let r=Q(n),i=r.Vu[r.currentUser.toKey()];if(i){let s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Yg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||WT(n,r)})}function WT(n,t){n.Eu.delete(t.path.canonicalString());let e=n.du.get(t);e!==null&&(wm(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Rm(n))}function CI(n,t,e){for(let r of e)r instanceof $l?(n.Ru.addReference(r.key,t),HO(n,r)):r instanceof jl?(U(Dm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||WT(n,r.key)):H(19791,{wu:r})}function HO(n,t){let e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(U(Dm,"New document in limbo: "+e),n.Eu.add(r),Rm(n))}function Rm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let t=n.Eu.values().next().value;n.Eu.delete(t);let e=new j(Ee.fromString(t)),r=n.fu.next();n.Au.set(r,new Kg(e)),n.du=n.du.insert(e,r),LT(n.remoteStore,new Na(Rn(ym(e.path)),r,"TargetPurposeLimboResolution",lm.ce))}}async function Ua(n,t,e){let r=Q(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{o.push(r.pu(u,t,e).then(l=>{if((l||e)&&r.isPrimaryClient){let h=l?!l.fromCache:e?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Sg.As(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await(async function(u,l){let h=Q(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>k.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ys(p))throw p;U(Em,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.Ms.get(m),C=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(m,R)}}})(r.localStore,s))}async function qO(n,t){let e=Q(n);if(!e.currentUser.isEqual(t)){U(Dm,"User change. New user:",t.toKey());let r=await kT(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach(c=>{c.forEach(u=>{u.reject(new L(O.CANCELLED,o))})}),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ua(e,r.Ls)}}function GO(n,t){let e=Q(n),r=e.Au.get(t);if(r&&r.hu)return ne().add(r.key);{let i=ne(),s=e.Iu.get(t);if(!s)return i;for(let o of s){let c=e.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function KT(n){let t=Q(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$O.bind(null,t),t.Pu.H_=kO.bind(null,t.eventManager),t.Pu.yu=MO.bind(null,t.eventManager),t}function WO(n){let t=Q(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zO.bind(null,t),t}var QT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return pO(this.persistence,new Cg,e.initialUser,this.serializer)}Cu(e){return new Nl(Tg.mi,this.serializer)}Du(e){return new Pg}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Jg=class extends QT{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){le(this.persistence.referenceDelegate instanceof Ol,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new dg(r,t.asyncQueue,e)}Cu(t){let e=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new Nl(r=>Ol.mi(r,e),this.serializer)}};var KO=(()=>{class n{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AI(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),await OO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hg})()}createDatastore(e){let r=rd(e.databaseInfo.databaseId),i=(function(o){return new Lg(o)})(e.databaseInfo);return(function(o,c,u,l){return new Ug(o,c,u,l)})(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return(function(i,s,o,c,u){return new $g(i,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,r=>AI(this.syncEngine,r,0),(function(){return Ml.v()?new Ml:new Ng})())}createSyncEngine(e,r){return(function(s,o,c,u,l,h,p){let m=new Qg(s,o,c,u,l,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Q(r);U(Li,"RemoteStore shutting down."),i.Ea.add(5),await Va(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var zl=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var zr="FirestoreClient",Xg=class{constructor(t,e,r,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=Ta.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{U(zr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U(zr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let r=Am(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function Tp(n,t){n.asyncQueue.verifyOperationInProgress(),U(zr,"Initializing OfflineComponentProvider");let e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function DI(n,t){n.asyncQueue.verifyOperationInProgress();let e=await QO(n);U(zr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>II(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>II(t.remoteStore,i)),n._onlineComponents=t}async function QO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(zr,"Using user provided OfflineComponentProvider");try{await Tp(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;Ls("Error using user provided cache. Falling back to memory cache: "+e),await Tp(n,new QT)}}else U(zr,"Using default OfflineComponentProvider"),await Tp(n,new Jg(void 0));return n._offlineComponents}async function YT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(zr,"Using user provided OnlineComponentProvider"),await DI(n,n._uninitializedComponentsProvider._online)):(U(zr,"Using default OnlineComponentProvider"),await DI(n,new KO))),n._onlineComponents}function YO(n){return YT(n).then(t=>t.syncEngine)}async function JT(n){let t=await YT(n),e=t.eventManager;return e.onListen=LO.bind(null,t.syncEngine),e.onUnlisten=VO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=UO.bind(null,t.syncEngine),e}function JO(n,t,e={}){let r=new on;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,u,l){let h=new zl({next:m=>{h.Nu(),o.enqueueAndForget(()=>jT(s,p));let v=m.docs.has(c);!v&&m.fromCache?l.reject(new L(O.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bl(ym(c.path),h,{includeMetadataChanges:!0,qa:!0});return $T(s,p)})(await JT(n),n.asyncQueue,t,e,r)),r.promise}function XO(n,t,e={}){let r=new on;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,u,l){let h=new zl({next:m=>{h.Nu(),o.enqueueAndForget(()=>jT(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bl(c,h,{includeMetadataChanges:!0,qa:!0});return $T(s,p)})(await JT(n),n.asyncQueue,t,e,r)),r.promise}function XT(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var RI=new Map;var ZT="firestore.googleapis.com",PI=!0,Hl=class{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new L(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=PI}else this.host=t.host,this.ssl=t.ssl??PI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dO)throw new L(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},qs=class{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hl(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Sp;switch(r.type){case"firstParty":return new Rp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let r=RI.get(e);r&&(U("ComponentProvider","Removing Datastore"),RI.delete(e),r.terminate())})(this),Promise.resolve()}};function ZO(n,t,e,r={}){n=tr(n,qs);let i=wn(t),s=n._getSettings(),o=ae(P({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;i&&(gs(`https://${c}`),ms("Firestore",!0)),s.host!==ZT&&s.host!==c&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=ae(P({},s),{host:c,ssl:i,emulatorOptions:r});if(!In(u,o)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=Ze.MOCK_USER;else{l=jb(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new L(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ze(p)}n._authCredentials=new Ap(new gl(l,h))}}var ar=class n{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},st=class n{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Fa(e,n._jsonSchema))return new n(t,r||null,new j(Ee.fromString(e.referencePath)))}};st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:Ue("string",st._jsonSchemaVersion),referencePath:Ue("string")};var xr=class n extends ar{constructor(t,e,r){super(t,e,ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new st(this.firestore,null,new j(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function l$(n,t,...e){if(n=be(n),xI("collection","path",t),n instanceof qs){let r=Ee.fromString(t,...e);return Yw(r),new xr(n,null,r)}{if(!(n instanceof st||n instanceof xr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ee.fromString(t,...e));return Yw(r),new xr(n.firestore,null,r)}}function ek(n,t,...e){if(n=be(n),arguments.length===1&&(t=Ta.newId()),xI("doc","path",t),n instanceof qs){let r=Ee.fromString(t,...e);return Qw(r),new st(n,null,new j(r))}{if(!(n instanceof st||n instanceof xr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ee.fromString(t,...e));return Qw(r),new st(n.firestore,n instanceof xr?n.converter:null,new j(r))}}var NI="AsyncQueue",ql=class{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ll(this,"async_queue_retry"),this._c=()=>{let r=Ip();r&&U(NI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;let e=Ip();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;let e=Ip();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});let e=new on;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ys(t))throw t;U(NI,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){let e=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",OI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);let i=jg.createAndSchedule(this,t,e,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&H(47125,{Pc:OI(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(let e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(let e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){let e=this.tc.indexOf(t);this.tc.splice(e,1)}};function OI(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}var Hr=class extends qs{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new ql,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new ql(t),this._firestoreClient=void 0,await t}}};function e0(n,t){let e=typeof n=="object"?n:_s(),r=typeof n=="string"?n:t||bl,i=bi(e,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Ou("firestore");s&&ZO(i,...s)}return i}function Pm(n){if(n._terminated)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tk(n),n._firestoreClient}function tk(n){let t=n._freezeSettings(),e=(function(i,s,o,c){return new Mp(i,s,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,XT(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Xg(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}var Fr=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(ut.fromBase64String(t))}catch(e){throw new L(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(ut.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fa(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:Ue("string",Fr._jsonSchemaVersion),bytes:Ue("string")};var Gs=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new L(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Ma=class{constructor(t){this._methodName=t}};var Vr=class n{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new L(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new L(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(Fa(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:Ue("string",Vr._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};var Ur=class n{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fa(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new n(t.vectorValues);throw new L(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Ue("string",Ur._jsonSchemaVersion),vectorValues:Ue("object")};var nk=/^__.*__$/,Zg=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new On(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mi(t,this.data,e,this.fieldTransforms)}},Gl=class{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new On(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function t0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ac:n})}}var em=class n{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new n(P(P({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){let e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){let e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kl(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(t0(this.Ac)&&nk.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}},tm=class{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||rd(t)}Cc(t,e,r,i=!1){return new em({Ac:t,methodName:e,Dc:r,path:Ot.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function od(n){let t=n._freezeSettings(),e=rd(n._databaseId);return new tm(n._databaseId,!!t.ignoreUndefinedProperties,e)}function rk(n,t,e,r,i,s={}){let o=n.Cc(s.merge||s.mergeFields?2:0,t,e,i);Nm("Data must be an object, but it was:",o,r);let c=r0(r,o),u,l;if(s.merge)u=new Bt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=nm(t,p,e);if(!o.contains(m))throw new L(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);s0(h,m)||h.push(m)}u=new Bt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Zg(new Nt(c),u,l)}var Wl=class n extends Ma{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof n}};function ik(n,t,e,r){let i=n.Cc(1,t,e);Nm("Data must be an object, but it was:",i,r);let s=[],o=Nt.empty();qr(r,(u,l)=>{let h=Om(t,u,e);l=be(l);let p=i.yc(h);if(l instanceof Wl)s.push(h);else{let m=Ba(l,p);m!=null&&(s.push(h),o.set(h,m))}});let c=new Bt(s);return new Gl(o,c,i.fieldTransforms)}function sk(n,t,e,r,i,s){let o=n.Cc(1,t,e),c=[nm(t,r,e)],u=[i];if(s.length%2!=0)throw new L(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(nm(t,s[m])),u.push(s[m+1]);let l=[],h=Nt.empty();for(let m=c.length-1;m>=0;--m)if(!s0(l,c[m])){let v=c[m],C=u[m];C=be(C);let R=o.yc(v);if(C instanceof Wl)l.push(v);else{let A=Ba(C,R);A!=null&&(l.push(v),h.set(v,A))}}let p=new Bt(l);return new Gl(h,p,o.fieldTransforms)}function n0(n,t,e,r=!1){return Ba(e,n.Cc(r?4:3,t))}function Ba(n,t){if(i0(n=be(n)))return Nm("Unsupported field value:",t,n),r0(n,t);if(n instanceof Ma)return(function(r,i){if(!t0(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let c of r){let u=Ba(c,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(n,t)}return(function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Be.fromDate(r);return{timestampValue:Rl(i.serializer,s)}}if(r instanceof Be){let s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rl(i.serializer,s)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fr)return{bytesValue:ST(i.serializer,r._byteString)};if(r instanceof st){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ur)return(function(o,c){return{mapValue:{fields:{[hm]:{stringValue:fm},[Fs]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Sc("VectorValues must only contain numeric values.");return _m(c.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Jl(r)}`)})(n,t)}function r0(n,t){let e={};return XI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(n,(r,i)=>{let s=Ba(i,t.mc(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function i0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Be||n instanceof Vr||n instanceof Fr||n instanceof st||n instanceof Ma||n instanceof Ur)}function Nm(n,t,e){if(!i0(e)||!FI(e)){let r=Jl(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function nm(n,t,e){if((t=be(t))instanceof Gs)return t._internalPath;if(typeof t=="string")return Om(n,t);throw Kl("Field path arguments must be of type string or ",n,!1,void 0,e)}var ok=new RegExp("[~\\*/\\[\\]]");function Om(n,t,e){if(t.search(ok)>=0)throw Kl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Gs(...t.split("."))._internalPath}catch{throw Kl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Kl(n,t,e,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(O.INVALID_ARGUMENT,c+n+u)}function s0(n,t){return n.some(e=>e.isEqual(t))}var La=class{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new rm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(ad("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},rm=class extends La{data(){return super.data()}};function ad(n,t){return typeof t=="string"?Om(n,t):t instanceof Gs?t._internalPath:t._delegate._internalPath}function ak(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xa=class{},Ws=class extends xa{};function d$(n,t,...e){let r=[];t instanceof xa&&r.push(t),r=r.concat(e),(function(s){let o=s.filter(u=>u instanceof im).length,c=s.filter(u=>u instanceof Ql).length;if(o>1||o>0&&c>0)throw new L(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Ql=class n extends Ws{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new n(t,e,r)}_apply(t){let e=this._parse(t);return o0(t._query,e),new ar(t.firestore,t.converter,Wp(t._query,e))}_parse(t){let e=od(t.firestore);return(function(s,o,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){MI(p,h);let C=[];for(let R of p)C.push(kI(u,s,R));m={arrayValue:{values:C}}}else m=kI(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||MI(p,h),m=n0(c,o,p,h==="in"||h==="not-in");return Ve.create(l,h,m)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function h$(n,t,e){let r=t,i=ad("where",n);return Ql._create(i,r,e)}var im=class n extends xa{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:cn.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:((function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)o0(o,u),o=Wp(o,u)})(t._query,e),new ar(t.firestore,t.converter,Wp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var sm=class n extends Ws{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new n(t,e)}_apply(t){let e=(function(i,s,o){if(i.startAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ni(s,o)})(t._query,this._field,this._direction);return new ar(t.firestore,t.converter,(function(i,s){let o=i.explicitOrderBy.concat([s]);return new ir(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(t._query,e))}};function f$(n,t="asc"){let e=t,r=ad("orderBy",n);return sm._create(r,e)}var om=class n extends Ws{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new n(t,e,r)}_apply(t){return new ar(t.firestore,t.converter,Tl(t._query,this._limit,this._limitType))}};function p$(n){return aN("limit",n),om._create("limit",n,"F")}var am=class n extends Ws{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new n(t,e,r)}_apply(t){let e=ck(t,this.type,this._docOrFields,this._inclusive);return new ar(t.firestore,t.converter,(function(i,s){return new ir(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(t._query,e))}};function g$(...n){return am._create("startAfter",n,!1)}function ck(n,t,e,r){if(e[0]=be(e[0]),e[0]instanceof La)return(function(s,o,c,u,l){if(!u)throw new L(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let h=[];for(let p of Ns(s))if(p.field.isKeyField())h.push(wl(o,u.key));else{let m=u.data.field(p.field);if(Zl(m))throw new L(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=p.field.canonicalString();throw new L(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new $r(h,l)})(n._query,n.firestore._databaseId,t,e[0]._document,r);{let i=od(n.firestore);return(function(o,c,u,l,h,p){let m=o.explicitOrderBy;if(h.length>m.length)throw new L(O.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let C=0;C<h.length;C++){let R=h[C];if(m[C].field.isKeyField()){if(typeof R!="string")throw new L(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof R}`);if(!vm(o)&&R.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${R}' contains a slash.`);let A=o.path.child(Ee.fromString(R));if(!j.isDocumentKey(A))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);let M=new j(A);v.push(wl(c,M))}else{let A=n0(u,l,R);v.push(A)}}return new $r(v,p)})(n._query,n.firestore._databaseId,i,t,e,r)}}function kI(n,t,e){if(typeof(e=be(e))=="string"){if(e==="")throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vm(t)&&e.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let r=t.path.child(Ee.fromString(e));if(!j.isDocumentKey(r))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wl(n,new j(r))}if(e instanceof st)return wl(n,e._key);throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jl(e)}.`)}function MI(n,t){if(!Array.isArray(n)||n.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function o0(n,t){let e=(function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var cm=class{convertValue(t,e="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw H(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let r={};return qr(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){let e=t.fields?.[Fs].arrayValue?.values?.map(r=>we(r.doubleValue));return new Ur(e)}convertGeoPoint(t){return new Vr(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":let r=ed(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Ca(t));default:return null}}convertTimestamp(t){let e=nr(t);return new Be(e.seconds,e.nanos)}convertDocumentKey(t,e){let r=Ee.fromString(t);le(NT(r),9688,{name:t});let i=new El(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(e)||er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function uk(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}var Ci=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Di=class n extends La{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let r=this._document.data.field(ad("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=n._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Di._jsonSchemaVersion="firestore/documentSnapshot/1.0",Di._jsonSchema={type:Ue("string",Di._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};var ks=class extends Di{data(t={}){return super.data(t)}},Ms=class n{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ci(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new ks(this._firestore,this._userDataWriter,r.key,r,new Ci(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new ks(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ci(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new ks(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ci(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:lk(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ta.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function lk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:n})}}function m$(n){n=tr(n,st);let t=tr(n.firestore,Hr);return JO(Pm(t),n._key).then(e=>dk(t,n,e))}Ms._jsonSchemaVersion="firestore/querySnapshot/1.0",Ms._jsonSchema={type:Ue("string",Ms._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};var Yl=class extends cm{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fr(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new st(this.firestore,null,e)}};function y$(n){n=tr(n,ar);let t=tr(n.firestore,Hr),e=Pm(t),r=new Yl(t);return ak(n._query),XO(e,n._query).then(i=>new Ms(t,r,n,i))}function v$(n,t,e,...r){n=tr(n,st);let i=tr(n.firestore,Hr),s=od(i),o;return o=typeof(t=be(t))=="string"||t instanceof Gs?sk(s,"updateDoc",n._key,t,e,r):ik(s,"updateDoc",n._key,t),km(i,[o.toMutation(n._key,Zn.exists(!0))])}function _$(n){return km(tr(n.firestore,Hr),[new Ra(n._key,Zn.none())])}function b$(n,t){let e=tr(n.firestore,Hr),r=ek(n),i=uk(n.converter,t);return km(e,[rk(od(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function km(n,t){return(function(r,i){let s=new on;return r.asyncQueue.enqueueAndForget(async()=>BO(await YO(r),i,s)),s.promise})(Pm(n),t)}function dk(n,t,e){let r=e.docs.get(t._key),i=new Yl(n);return new Di(n,i,t._key,r,new Ci(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){Ks=i})(Rr),Sn(new _t("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Hr(new Cp(r.getProvider("auth-internal")),new Pp(o,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(l.options.projectId,h)})(o,i),o);return s=P({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),bt(Gw,Ww,t),bt(Gw,Ww,"esm2020")})();var u0="functions";var Mm=class{constructor(t,e,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ft(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(t){let e=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:e,messagingToken:r,appCheckToken:i}}};var Lm="us-central1";var xm=class{constructor(t,e,r,i,s=Lm,o=(...c)=>fetch(...c)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Mm(t,e,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(s);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Lm}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function hk(n,t,e){let r=wn(t);n.emulatorOrigin=`http${r?"s":""}://${t}:${e}`,r&&(gs(n.emulatorOrigin+"/backends"),ms("Functions",!0))}var a0="@firebase/functions",c0="0.13.1";var fk="auth-internal",pk="app-check-internal",gk="messaging-internal";function mk(n){let t=(e,{instanceIdentifier:r})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider(fk),o=e.getProvider(gk),c=e.getProvider(pk);return new xm(i,s,o,c,r)};Sn(new _t(u0,t,"PUBLIC").setMultipleInstances(!0)),bt(a0,c0,n),bt(a0,c0,"esm2020")}function l0(n=_s(),t=Lm){let r=bi(be(n),u0).getImmediate({identifier:t}),i=Ou("functions");return i&&yk(r,...i),r}function yk(n,t,e){hk(be(n),t,e)}mk();var d0={production:!1,version:"0.0.0",encryptionKey:"dev-key",firebase:{apiKey:"mock-api-key",authDomain:"mock-auth-domain",projectId:"mock-project-id",storageBucket:"mock-storage-bucket",messagingSenderId:"mock-sender-id",appId:"mock-app-id",measurementId:"mock-measurement-id"},api:{hostinger:{baseUrl:"https://api.hostinger.com/v1",timeout:1e4}}};var h0=class{static app=null;static authInstance=null;static firestoreInstance=null;static functionsInstance=null;static initialize(){if(this.app){console.warn("Firebase already initialized");return}this.app=Rf(d0.firebase),console.log("\u2705 Firebase initialized successfully")}static getApp(){if(!this.app)throw new Error("Firebase not initialized. Call FirebaseAdapter.initialize() first.");return this.app}static getAuth(){return this.authInstance||(this.authInstance=fp(this.getApp()),dp(this.authInstance,sl).catch(t=>{console.error("Error setting auth persistence:",t)})),this.authInstance}static getFirestore(){return this.firestoreInstance||(this.firestoreInstance=e0(this.getApp())),this.firestoreInstance}static getFunctions(){return this.functionsInstance||(this.functionsInstance=l0(this.getApp(),"us-central1"),console.log("\u2705 Firebase Functions initialized for region: us-central1")),this.functionsInstance}};var f0=class n{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(e,r):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(t),l=this.isDate(e);if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.equalsByValue(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let r=e.split("."),i=t;for(let s=0,o=r.length;s<o;++s){if(i==null)return null;i=i[r[s]]}return i}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,r){let i;t&&e!==r&&(r>=t.length&&(r%=t.length,e%=t.length),t.splice(r,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>e){r.splice(o,0,t),s=!0;break}s||r.push(t)}else r.push(t)}static findIndexInList(t,e){let r=-1;if(e){for(let i=0;i<e.length;i++)if(e[i]==t){r=i;break}}return r}static contains(t,e){if(t!=null&&e&&e.length){for(let r of e)if(this.equals(t,r))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,r,i=1){let s=-1,o=this.isEmpty(t),c=this.isEmpty(e);return o&&c?s=0:o?s=i:c?s=-i:typeof t=="string"&&typeof e=="string"?s=t.localeCompare(e,r,{numeric:!0}):s=t<e?-1:t>e?1:0,s}static sort(t,e,r=1,i,s=1){let o=n.compare(t,e,i,r),c=r;return(n.isEmpty(t)||n.isEmpty(e))&&(c=s===1?r:s),c*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return P(P({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(e)}catch{r=t.lastIndexOf([...t].reverse().find(e))}return r}static findLast(t,e){let r;if(this.isNotEmpty(t))try{r=t.findLast(e)}catch{r=[...t].reverse().find(e)}return r}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,o,c;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var u=t instanceof Date,l=e instanceof Date;if(u!=l)return!1;if(u&&l)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(c=m[s],!this.deepEquals(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}static minifyCSS(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}static isString(t,e=!0){return typeof t=="string"&&(e||t!=="")}},p0=0;function j$(n="pn_id_"){return p0++,`${n}${p0}`}function vk(){let n=[],t=(s,o)=>{let c=n.length>0?n[n.length-1]:{key:s,value:o},u=c.value+(c.key===s?0:o)+2;return n.push({key:s,value:u}),u},e=s=>{n=n.filter(o=>o.value!==s)},r=()=>n.length>0?n[n.length-1].value:0,i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,c)=>{o&&(o.style.zIndex=String(t(s,c)))},clear:s=>{s&&(e(i(s)),s.style.zIndex="")},getCurrent:()=>r(),generateZIndex:t,revertZIndex:e}}var z$=vk(),H$=n=>!!n;var _k=Object.defineProperty,g0=Object.getOwnPropertySymbols,bk=Object.prototype.hasOwnProperty,Ek=Object.prototype.propertyIsEnumerable,m0=(n,t,e)=>t in n?_k(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,y0=(n,t)=>{for(var e in t||(t={}))bk.call(t,e)&&m0(n,e,t[e]);if(g0)for(var e of g0(t))Ek.call(t,e)&&m0(n,e,t[e]);return n},wk=(n,t,e)=>new Promise((r,i)=>{var s=u=>{try{c(e.next(u))}catch(l){i(l)}},o=u=>{try{c(e.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((e=e.apply(n,t)).next())}),cd="animation",$a="transition";function Ik(n){return n?n.disabled||!!(n.safe&&Sb()):!1}function Tk(n,t){return n?y0(y0({},n),Object.entries(t).reduce((e,[r,i])=>{var s;return e[r]=(s=n[r])!=null?s:i,e},{})):t}function Sk(n){let{name:t,enterClass:e,leaveClass:r}=n||{};return{enter:{from:e?.from||`${t}-enter-from`,to:e?.to||`${t}-enter-to`,active:e?.active||`${t}-enter-active`},leave:{from:r?.from||`${t}-leave-from`,to:r?.to||`${t}-leave-to`,active:r?.active||`${t}-leave-active`}}}function Ak(n){return{enter:{onBefore:n?.onBeforeEnter,onStart:n?.onEnter,onAfter:n?.onAfterEnter,onCancelled:n?.onEnterCancelled},leave:{onBefore:n?.onBeforeLeave,onStart:n?.onLeave,onAfter:n?.onAfterLeave,onCancelled:n?.onLeaveCancelled}}}function Ck(n,t){let e=window.getComputedStyle(n),r=v=>{let C=e[`${v}Delay`],R=e[`${v}Duration`];return[C.split(", ").map(af),R.split(", ").map(af)]},[i,s]=r($a),[o,c]=r(cd),u=Math.max(...s.map((v,C)=>v+i[C])),l=Math.max(...c.map((v,C)=>v+o[C])),h,p=0,m=0;return t===$a?u>0&&(h=$a,p=u,m=s.length):t===cd?l>0&&(h=cd,p=l,m=c.length):(p=Math.max(u,l),h=p>0?u>l?$a:cd:void 0,m=h?h===$a?s.length:c.length:0),{type:h,timeout:p,count:m}}function Dk(n,t){return typeof n=="number"?n:typeof n=="object"&&n[t]!=null?n[t]:null}function Rk(n,t=!0,e=!1){if(!t&&!e)return;let r=bu(n);t&&nf(n,"--pui-motion-height",r.height+"px"),e&&nf(n,"--pui-motion-width",r.width+"px")}var Pk={name:"p",safe:!0,disabled:!1,enter:!0,leave:!0,autoHeight:!0,autoWidth:!1};function Fm(n,t){if(!n)throw new Error("Element is required.");let e={},r=!1,i={},s=null,o={},c=h=>{if(Object.assign(e,Tk(h,Pk)),!e.enter&&!e.leave)throw new Error("Enter or leave must be true.");o=Ak(e),r=Ik(e),i=Sk(e),s=null},u=h=>wk(null,null,function*(){s?.();let{onBefore:p,onStart:m,onAfter:v,onCancelled:C}=o[h]||{},R={element:n};if(r){p?.(R),m?.(R),v?.(R);return}let{from:A,active:M,to:V}=i[h]||{};return Rk(n,e.autoHeight,e.autoWidth),p?.(R),en(n,A),en(n,M),n.offsetHeight,tn(n,A),en(n,V),m?.(R),new Promise($=>{let W=Dk(e.duration,h),se=()=>{tn(n,[V,M]),s=null},re=()=>{se(),v?.(R),$()};s=()=>{se(),C?.(R),$()},Ok(n,e.type,W,re)})});c(t);let l={enter:()=>e.enter?u("enter"):Promise.resolve(),leave:()=>e.leave?u("leave"):Promise.resolve(),cancel:()=>{s?.(),s=null},update:(h,p)=>{if(!h)throw new Error("Element is required.");n=h,l.cancel(),c(p)}};return e.appear&&l.enter(),l}var Nk=0;function Ok(n,t,e,r){let i=n._motionEndId=++Nk,s=()=>{i===n._motionEndId&&r()};if(e!=null)return setTimeout(s,e);let{type:o,timeout:c,count:u}=Ck(n,t);if(!o){r();return}let l=o+"end",h=0,p=()=>{n.removeEventListener(l,m,!0),s()},m=v=>{v.target===n&&++h>=u&&p()};n.addEventListener(l,m,{capture:!0,once:!0}),setTimeout(()=>{h<u&&p()},c+1)}var kk=["*"];function Mk(n,t){n&1&&Kt(0)}var ud=new WeakMap;function ja(n,t){if(n)switch(ud.has(n)||ud.set(n,{display:n.style.display,visibility:n.style.visibility,maxHeight:n.style.maxHeight}),t){case"display":n.style.display="none";break;case"visibility":n.style.visibility="hidden",n.style.maxHeight="0";break}}function ld(n,t){if(!n)return;let e=ud.get(n)??n.style;switch(t){case"display":n.style.display=e?.display||"";break;case"visibility":n.style.visibility=e?.visibility||"",n.style.maxHeight=e?.maxHeight||"";break}ud.delete(n)}var Lk=`
    .p-motion {
        display: block;
    }
`,xk={root:"p-motion"},Vm=(()=>{class n extends Je{name="motion";style=Lk;classes=xk;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ce(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var v0=new z("MOTION_INSTANCE"),Fk=(()=>{class n extends Xe{$pcMotion=N(v0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=N(Ae,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=N(Vm);visible=B(!1);mountOnEnter=B(!0);unmountOnLeave=B(!0);name=B(void 0);type=B(void 0);safe=B(void 0);disabled=B(!1);appear=B(!1);enter=B(!0);leave=B(!0);duration=B(void 0);hideStrategy=B("display");enterFromClass=B(void 0);enterToClass=B(void 0);enterActiveClass=B(void 0);leaveFromClass=B(void 0);leaveToClass=B(void 0);leaveActiveClass=B(void 0);options=B({});onBeforeEnter=rt();onEnter=rt();onAfterEnter=rt();onEnterCancelled=rt();onBeforeLeave=rt();onLeave=rt();onAfterLeave=rt();onLeaveCancelled=rt();motionOptions=Tt(()=>{let e=this.options();return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;rendered=Ie(!1);handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),Te(()=>{let e=this.hideStrategy();this.isInitialMount?(ja(this.$el,e),this.rendered.set(this.visible()&&this.mountOnEnter()||!this.mountOnEnter())):this.visible()&&!this.rendered()&&(ja(this.$el,e),this.rendered.set(!0))}),Te(()=>{this.motion||(this.motion=Fm(this.$el,this.motionOptions()))}),Jd(async()=>{if(!this.$el)return;let e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(await Iu(),ld(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount||(await Iu(),this.motion?.leave()?.then(async()=>{this.$el&&!this.cancelled&&!this.visible()&&(ja(this.$el,r),this.unmountOnLeave()&&(await Iu(),this.cancelled||this.rendered.set(!1)))})),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,ld(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=je({type:n,selectors:[["p-motion"]],hostVars:2,hostBindings:function(r,i){r&2&&ot(i.cx("root"))},inputs:{visible:[1,"visible"],mountOnEnter:[1,"mountOnEnter"],unmountOnLeave:[1,"unmountOnLeave"],name:[1,"name"],type:[1,"type"],safe:[1,"safe"],disabled:[1,"disabled"],appear:[1,"appear"],enter:[1,"enter"],leave:[1,"leave"],duration:[1,"duration"],hideStrategy:[1,"hideStrategy"],enterFromClass:[1,"enterFromClass"],enterToClass:[1,"enterToClass"],enterActiveClass:[1,"enterActiveClass"],leaveFromClass:[1,"leaveFromClass"],leaveToClass:[1,"leaveToClass"],leaveActiveClass:[1,"leaveActiveClass"],options:[1,"options"]},outputs:{onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onEnterCancelled:"onEnterCancelled",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave",onLeaveCancelled:"onLeaveCancelled"},features:[Ke([Vm,{provide:v0,useExisting:n},{provide:Pt,useExisting:n}]),qt([Ae]),Re],ngContentSelectors:kk,decls:1,vars:1,template:function(r,i){r&1&&(Wt(),rv(0,Mk,1,0)),r&2&&iv(i.rendered()?0:-1)},dependencies:[St,Fu],encapsulation:2})}return n})(),_0=new z("MOTION_DIRECTIVE_INSTANCE"),a6=(()=>{class n extends Xe{$pcMotionDirective=N(_0,{optional:!0,skipSelf:!0})??void 0;visible=B(!1,{alias:"pMotion"});name=B(void 0,{alias:"pMotionName"});type=B(void 0,{alias:"pMotionType"});safe=B(void 0,{alias:"pMotionSafe"});disabled=B(!1,{alias:"pMotionDisabled"});appear=B(!1,{alias:"pMotionAppear"});enter=B(!0,{alias:"pMotionEnter"});leave=B(!0,{alias:"pMotionLeave"});duration=B(void 0,{alias:"pMotionDuration"});hideStrategy=B("display",{alias:"pMotionHideStrategy"});enterFromClass=B(void 0,{alias:"pMotionEnterFromClass"});enterToClass=B(void 0,{alias:"pMotionEnterToClass"});enterActiveClass=B(void 0,{alias:"pMotionEnterActiveClass"});leaveFromClass=B(void 0,{alias:"pMotionLeaveFromClass"});leaveToClass=B(void 0,{alias:"pMotionLeaveToClass"});leaveActiveClass=B(void 0,{alias:"pMotionLeaveActiveClass"});options=B({},{alias:"pMotionOptions"});onBeforeEnter=rt({alias:"pMotionOnBeforeEnter"});onEnter=rt({alias:"pMotionOnEnter"});onAfterEnter=rt({alias:"pMotionOnAfterEnter"});onEnterCancelled=rt({alias:"pMotionOnEnterCancelled"});onBeforeLeave=rt({alias:"pMotionOnBeforeLeave"});onLeave=rt({alias:"pMotionOnLeave"});onAfterLeave=rt({alias:"pMotionOnAfterLeave"});onLeaveCancelled=rt({alias:"pMotionOnLeaveCancelled"});motionOptions=Tt(()=>{let e=this.options()??{};return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),Te(()=>{this.motion||(this.motion=Fm(this.$el,this.motionOptions()))}),Jd(()=>{if(!this.$el)return;let e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(ld(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount?ja(this.$el,r):this.motion?.leave()?.then(()=>{this.$el&&!this.cancelled&&!this.visible()&&ja(this.$el,r)}),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,ld(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","pMotion",""]],inputs:{visible:[1,"pMotion","visible"],name:[1,"pMotionName","name"],type:[1,"pMotionType","type"],safe:[1,"pMotionSafe","safe"],disabled:[1,"pMotionDisabled","disabled"],appear:[1,"pMotionAppear","appear"],enter:[1,"pMotionEnter","enter"],leave:[1,"pMotionLeave","leave"],duration:[1,"pMotionDuration","duration"],hideStrategy:[1,"pMotionHideStrategy","hideStrategy"],enterFromClass:[1,"pMotionEnterFromClass","enterFromClass"],enterToClass:[1,"pMotionEnterToClass","enterToClass"],enterActiveClass:[1,"pMotionEnterActiveClass","enterActiveClass"],leaveFromClass:[1,"pMotionLeaveFromClass","leaveFromClass"],leaveToClass:[1,"pMotionLeaveToClass","leaveToClass"],leaveActiveClass:[1,"pMotionLeaveActiveClass","leaveActiveClass"],options:[1,"pMotionOptions","options"]},outputs:{onBeforeEnter:"pMotionOnBeforeEnter",onEnter:"pMotionOnEnter",onAfterEnter:"pMotionOnAfterEnter",onEnterCancelled:"pMotionOnEnterCancelled",onBeforeLeave:"pMotionOnBeforeLeave",onLeave:"pMotionOnLeave",onAfterLeave:"pMotionOnAfterLeave",onLeaveCancelled:"pMotionOnLeaveCancelled"},features:[Ke([Vm,{provide:_0,useExisting:n},{provide:Pt,useExisting:n}]),Re]})}return n})(),c6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ke({type:n});static \u0275inj=Oe({imports:[Fk]})}return n})();export{Vn as a,oS as b,Fv as c,sh as d,oh as e,ah as f,uS as g,lS as h,St as i,Ji as j,yh as k,DS as l,gn as m,pn as n,a_ as o,eA as p,tA as q,rA as r,_n as s,$h as t,bn as u,_u as v,VC as w,$C as x,jC as y,mb as z,en as A,tn as B,_b as C,QC as D,YC as E,RF as F,PF as G,bb as H,NF as I,ZC as J,OF as K,wu as L,kF as M,eD as N,ps as O,MF as P,LF as Q,Ib as R,xF as S,Zh as T,FF as U,VF as V,Tb as W,ef as X,UF as Y,tf as Z,BF as _,$F as $,jF as aa,zF as ba,HF as ca,qF as da,Cb as ea,En as fa,sD as ga,pe as ha,Tu as ia,ra as ja,QF as ka,YF as la,JF as ma,XF as na,ia as oa,oD as pa,i2 as qa,it as ra,s2 as sa,o2 as ta,a2 as ua,c2 as va,u2 as wa,l2 as xa,Lb as ya,Ar as za,d2 as Aa,kf as Ba,Je as Ca,pV as Da,vt as Ea,G1 as Fa,W1 as Ga,K1 as Ha,Be as Ia,l$ as Ja,ek as Ka,d$ as La,h$ as Ma,f$ as Na,p$ as Oa,g$ as Pa,m$ as Qa,y$ as Ra,v$ as Sa,_$ as Ta,b$ as Ua,d0 as Va,h0 as Wa,Pt as Xa,Xe as Ya,Lf as Za,PV as _a,NV as $a,TE as ab,SE as bb,Ae as cb,Fu as db,xf as eb,RE as fb,Ff as gb,Uu as hb,kE as ib,MU as jb,xE as kb,yB as lb,l1 as mb,vB as nb,f0 as ob,j$ as pb,z$ as qb,H$ as rb,Fk as sb,a6 as tb,c6 as ub};
